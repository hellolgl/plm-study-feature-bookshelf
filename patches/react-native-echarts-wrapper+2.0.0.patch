diff --git a/node_modules/react-native-echarts-wrapper/src/chartconfig.js b/node_modules/react-native-echarts-wrapper/src/chartconfig.js
index 935d40f..68d4b81 100644
--- a/node_modules/react-native-echarts-wrapper/src/chartconfig.js
+++ b/node_modules/react-native-echarts-wrapper/src/chartconfig.js
@@ -1,3 +1,29 @@
-export function getMinifiedEChartsFramework (){
+// export function getMinifiedEChartsFramework() {
+//     return "!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self).echarts={})}(this,function(t){\"use strict\";\n" +
+//         "/*! *****************************************************************************\n" +
+//         "  Copyright (c) Microsoft Corporation.\n" +
+//         "    Permission to use, copy, modify, and/or distribute this software for any\n" +
+//         "  purpose with or without fee is hereby granted.\n" +
+//         "    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n" +
+//         "  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n" +
+//         "  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n" +
+//         "  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n" +
+//         "  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n" +
+//         "  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n" +
+//         "  PERFORMANCE OF THIS SOFTWARE.\n" +
+//         "  ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)};function n(t,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),i=new(function(){return function(){this.browser=new r,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=\"undefined\"!=typeof window}}());\"object\"==typeof wx&&\"function\"==typeof wx.getSystemInfoSync?(i.wxa=!0,i.touchEventsSupported=!0):\"undefined\"==typeof document&&\"undefined\"!=typeof self?i.worker=!0:\"undefined\"==typeof navigator?(i.node=!0,i.svgSupported=!0):function(t,e){var n=e.browser,r=t.match(/Firefox\\/([\\d.]+)/),i=t.match(/MSIE\\s([\\d.]+)/)||t.match(/Trident\\/.+?rv:(([\\d.]+))/),o=t.match(/Edge?\\/([\\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]);i&&(n.ie=!0,n.version=i[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(\".\")[0]>18);a&&(n.weChat=!0);e.svgSupported=\"undefined\"!=typeof SVGRect,e.touchEventsSupported=\"ontouchstart\"in window&&!n.ie&&!n.edge,e.pointerEventsSupported=\"onpointerdown\"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=\"undefined\"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&\"transition\"in s||n.edge||\"WebKitCSSMatrix\"in window&&\"m11\"in new WebKitCSSMatrix||\"MozPerspective\"in s)&&!(\"OTransition\"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,i);var o=12,a=o+\"px sans-serif\",s=20,l=100;var u,h,c=function(t){var e={};if(\"undefined\"==typeof JSON)return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-s)/l;e[r]=i}return e}(\"007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\\\\\WQb\\\\0FWLg\\\\bWb\\\\WQ\\\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\\\FFF5.5N\"),p={createCanvas:function(){return\"undefined\"!=typeof document&&document.createElement(\"canvas\")},measureText:function(t,e){if(!u){var n=p.createCanvas();u=n&&n.getContext(\"2d\")}if(u)return h!==e&&(h=u.font=e||a),u.measureText(t);t=t||\"\";var r=/(\\d+)px/.exec(e=e||a),i=r&&+r[1]||o,s=0;if(e.indexOf(\"mono\")>=0)s=i*t.length;else for(var l=0;l<t.length;l++){var d=c[t[l]];s+=null==d?i:d*i}return{width:s}},loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}};function d(t){for(var e in p)t[e]&&(p[e]=t[e])}var f=V([\"Function\",\"RegExp\",\"Date\",\"Error\",\"CanvasGradient\",\"CanvasPattern\",\"Image\",\"Canvas\"],function(t,e){return t[\"[object \"+e+\"]\"]=!0,t},{}),g=V([\"Int8\",\"Uint8\",\"Uint8Clamped\",\"Int16\",\"Uint16\",\"Int32\",\"Uint32\",\"Float32\",\"Float64\"],function(t,e){return t[\"[object \"+e+\"Array]\"]=!0,t},{}),y=Object.prototype.toString,v=Array.prototype,m=v.forEach,_=v.filter,x=v.slice,w=v.map,b=function(){}.constructor,S=b?b.prototype:null,M=\"__proto__\",I=2311;function T(){return I++}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];\"undefined\"!=typeof console&&console.error.apply(console,t)}function D(t){if(null==t||\"object\"!=typeof t)return t;var e=t,n=y.call(t);if(\"[object Array]\"===n){if(!pt(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=D(t[r])}}else if(g[n]){if(!pt(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(r=0,i=t.length;r<i;r++)e[r]=t[r]}}}else if(!f[n]&&!pt(t)&&!Q(t))for(var a in e={},t)t.hasOwnProperty(a)&&a!==M&&(e[a]=D(t[a]));return e}function k(t,e,n){if(!Z(e)||!Z(t))return n?D(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==M){var i=t[r],o=e[r];!Z(o)||!Z(i)||U(o)||U(i)||Q(o)||Q(i)||K(o)||K(i)||pt(o)||pt(i)?!n&&r in t||(t[r]=D(e[r])):k(i,o,n)}return t}function L(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==M&&(t[n]=e[n]);return t}function A(t,e,n){for(var r=H(e),i=0;i<r.length;i++){var o=r[i];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var P=p.createCanvas;function R(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function O(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function N(t,e,n){if(t=\"prototype\"in t?t.prototype:t,e=\"prototype\"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];\"constructor\"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else A(t,e,n)}function E(t){return!!t&&(\"string\"!=typeof t&&\"number\"==typeof t.length)}function B(t,e,n){if(t&&e)if(t.forEach&&t.forEach===m)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function z(t,e,n){if(!t)return[];if(!e)return at(t);if(t.map&&t.map===w)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}function V(t,e,n,r){if(t&&e){for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function F(t,e,n){if(!t)return[];if(!e)return at(t);if(t.filter&&t.filter===_)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function H(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}var W=S&&X(S.bind)?S.call.bind(S.bind):function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(x.call(arguments)))}};function G(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(x.call(arguments)))}}function U(t){return Array.isArray?Array.isArray(t):\"[object Array]\"===y.call(t)}function X(t){return\"function\"==typeof t}function Y(t){return\"string\"==typeof t}function q(t){return\"[object String]\"===y.call(t)}function j(t){return\"number\"==typeof t}function Z(t){var e=typeof t;return\"function\"===e||!!t&&\"object\"===e}function K(t){return!!f[y.call(t)]}function $(t){return!!g[y.call(t)]}function Q(t){return\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"object\"==typeof t.ownerDocument}function J(t){return null!=t.colorStops}function tt(t){return null!=t.image}function et(t){return\"[object RegExp]\"===y.call(t)}function nt(t){return t!=t}function rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(null!=t[n])return t[n]}function it(t,e){return null!=t?t:e}function ot(t,e,n){return null!=t?t:null!=e?e:n}function at(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return x.apply(t,e)}function st(t){if(\"number\"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function lt(t,e){if(!t)throw new Error(e)}function ut(t){return null==t?null:\"function\"==typeof t.trim?t.trim():t.replace(/^[\\s\uFEFF\xA0]+|[\\s\uFEFF\xA0]+$/g,\"\")}var ht=\"__ec_primitive__\";function ct(t){t[ht]=!0}function pt(t){return t[ht]}var dt=function(){function t(){this.data={}}return t.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){return this.data[t]=e,this},t.prototype.keys=function(){return H(this.data)},t.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},t}(),ft=\"function\"==typeof Map;var gt=function(){function t(e){var n=U(e);this.data=ft?new Map:new dt;var r=this;function i(t,e){n?r.set(t,e):r.set(e,t)}e instanceof t?e.each(i):e&&B(e,i)}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,e){return this.data.set(t,e),e},t.prototype.each=function(t,e){this.data.forEach(function(n,r){t.call(e,n,r)})},t.prototype.keys=function(){var t=this.data.keys();return ft?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();function yt(t){return new gt(t)}function vt(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function mt(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&L(n,e),n}function _t(t){var e=t.style;e.webkitUserSelect=\"none\",e.userSelect=\"none\",e.webkitTapHighlightColor=\"rgba(0,0,0,0)\",e[\"-webkit-touch-callout\"]=\"none\"}function xt(t,e){return t.hasOwnProperty(e)}function wt(){}var bt=180/Math.PI,St=Object.freeze({__proto__:null,HashMap:gt,RADIAN_TO_DEGREE:bt,assert:lt,bind:W,clone:D,concatArray:vt,createCanvas:P,createHashMap:yt,createObject:mt,curry:G,defaults:A,disableUserSelect:_t,each:B,eqNaN:nt,extend:L,filter:F,find:function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},guid:T,hasOwn:xt,indexOf:R,inherits:O,isArray:U,isArrayLike:E,isBuiltInObject:K,isDom:Q,isFunction:X,isGradientObject:J,isImagePatternObject:tt,isNumber:j,isObject:Z,isPrimitive:pt,isRegExp:et,isString:Y,isStringSafe:q,isTypedArray:$,keys:H,logError:C,map:z,merge:k,mergeAll:function(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=k(n,t[r],e);return n},mixin:N,noop:wt,normalizeCssArray:st,reduce:V,retrieve:rt,retrieve2:it,retrieve3:ot,setAsPrimitive:ct,slice:at,trim:ut});function Mt(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function It(t,e){return t[0]=e[0],t[1]=e[1],t}function Tt(t){return[t[0],t[1]]}function Ct(t,e,n){return t[0]=e,t[1]=n,t}function Dt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function kt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function Lt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function At(t){return Math.sqrt(Rt(t))}var Pt=At;function Rt(t){return t[0]*t[0]+t[1]*t[1]}var Ot=Rt;function Nt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Et(t,e){var n=At(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Bt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var zt=Bt;function Vt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Ft=Vt;function Ht(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function Wt(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Gt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Ut(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Xt=Object.freeze({__proto__:null,add:Dt,applyTransform:Wt,clone:Tt,copy:It,create:Mt,dist:zt,distSquare:Ft,distance:Bt,distanceSquare:Vt,div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},len:At,lenSquare:Rt,length:Pt,lengthSquare:Ot,lerp:Ht,max:Ut,min:Gt,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},normalize:Et,scale:Nt,scaleAndAdd:kt,set:Ct,sub:Lt}),Yt=function(){return function(t,e){this.target=t,this.topTarget=e&&e.topTarget}}(),qt=function(){function t(t){this.handler=t,t.on(\"mousedown\",this._dragStart,this),t.on(\"mousemove\",this._drag,this),t.on(\"mouseup\",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Yt(e,t),\"dragstart\",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.handler.dispatchToElement(new Yt(e,t),\"drag\",t.event);var a=this.handler.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new Yt(s,t),\"dragleave\",t.event),a&&a!==s&&this.handler.dispatchToElement(new Yt(a,t),\"dragenter\",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Yt(e,t),\"dragend\",t.event),this._dropTarget&&this.handler.dispatchToElement(new Yt(this._dropTarget,t),\"drop\",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),jt=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if(\"function\"==typeof e&&(r=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),i[t]||(i[t]=[]);for(var a=0;a<i[t].length;a++)if(i[t][a].h===n)return this;var s={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},l=i[t].length-1,u=i[t][l];return u&&u.callAtLast?i[t].splice(l,0,s):i[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=r.length,s=0;s<a;s++){var l=r[s];if(!i||!i.filter||null==l.query||i.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=e[o-1],s=r.length,l=0;l<s;l++){var u=r[l];if(!i||!i.filter||null==u.query||i.filter(t,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,e[0]);break;case 2:u.h.call(a,e[0],e[1]);break;default:u.h.apply(a,e.slice(1,o-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}(),Zt=Math.log(2);function Kt(t,e,n,r,i,o){var a=r+\"-\"+i,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~i)/Zt);return t[n][l]}for(var u=r|1<<n,h=n+1;r&1<<h;)h++;for(var c=0,p=0,d=0;p<s;p++){var f=1<<p;f&i||(c+=(d%2?-1:1)*t[n][p]*Kt(t,e-1,h,u,i|f,o),d++)}return o[a]=c,c}function $t(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=Kt(n,8,0,0,0,r);if(0!==i){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Kt(n,7,0===a?1:0,1<<a,1<<s,r)/i*e[a];return function(t,e,n){var r=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/r,t[1]=(e*o[3]+n*o[4]+o[5])/r}}}var Qt=\"___zrEVENTSAVED\";function Jt(t,e,n,r,o){if(e.getBoundingClientRect&&i.domSupported&&!te(e)){var a=e[Qt]||(e[Qt]={}),s=function(t,e,n){for(var r=n?\"invTrans\":\"trans\",i=e[r],o=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,p=h.left,d=h.top;a.push(p,d),l=l&&o&&p===o[c]&&d===o[c+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&i?i:(e.srcCoords=a,e[r]=n?$t(s,a):$t(a,s))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=[\"left\",\"right\"],i=[\"top\",\"bottom\"],o=0;o<4;o++){var a=document.createElement(\"div\"),s=a.style,l=o%2,u=(o>>1)%2;s.cssText=[\"position: absolute\",\"visibility: hidden\",\"padding: 0\",\"margin: 0\",\"border-width: 0\",\"user-select: none\",\"width:0\",\"height:0\",r[l]+\":0\",i[u]+\":0\",r[1-l]+\":auto\",i[1-u]+\":auto\",\"\"].join(\"!important;\"),t.appendChild(a),n.push(a)}return n}(e,a),a,o);if(s)return s(t,n,r),!0}return!1}function te(t){return\"CANVAS\"===t.nodeName.toUpperCase()}var ee=/([&<>\"'])/g,ne={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"};function re(t){return null==t?\"\":(t+\"\").replace(ee,function(t,e){return ne[e]})}var ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oe=[],ae=i.browser.firefox&&+i.browser.version.split(\".\")[0]<39;function se(t,e,n,r){return n=n||{},r?le(t,e,n):ae&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):le(t,e,n),n}function le(t,e,n){if(i.domSupported&&t.getBoundingClientRect){var r=e.clientX,o=e.clientY;if(te(t)){var a=t.getBoundingClientRect();return n.zrX=r-a.left,void(n.zrY=o-a.top)}if(Jt(oe,t,r,o))return n.zrX=oe[0],void(n.zrY=oe[1])}n.zrX=n.zrY=0}function ue(t){return t||window.event}function he(t,e,n){if(null!=(e=ue(e)).zrX)return e;var r=e.type;if(r&&r.indexOf(\"touch\")>=0){var i=\"touchend\"!==r?e.targetTouches[0]:e.changedTouches[0];i&&se(t,i,e,n)}else{se(t,e,e,n);var o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(null==n||null==r)return e;return 3*(0!==r?Math.abs(r):Math.abs(n))*(r>0?-1:r<0?1:n>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&ie.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}var ce=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function pe(t){return 2===t.which||3===t.which}var de=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],l=se(n,s,{});i.points.push([l.zrX,l.zrY]),i.touches.push(s)}this._track.push(i)}},t.prototype._recognize=function(t){for(var e in ge)if(ge.hasOwnProperty(e)){var n=ge[e](this._track,t);if(n)return n}},t}();function fe(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var ge={pinch:function(t,e){var n=t.length;if(n){var r,i=(t[n-1]||{}).points,o=(t[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=fe(i)/fe(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:\"pinch\",target:t[0].target,event:e}}}}};function ye(){return[1,0,0,1,0,0]}function ve(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function me(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function _e(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function xe(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function we(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=r*h+a*u,t[1]=-r*u+a*h,t[2]=i*h+s*u,t[3]=-i*u+h*s,t[4]=h*o+u*l,t[5]=h*l-u*o,t}function be(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function Se(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*r;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-a*i)*l,t[5]=(o*i-n*s)*l,t):null}var Me=Object.freeze({__proto__:null,clone:function(t){var e=[1,0,0,1,0,0];return me(e,t),e},copy:me,create:ye,identity:ve,invert:Se,mul:_e,rotate:we,scale:be,translate:xe}),Ie=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},t.lerp=function(t,e,n,r){var i=1-r;t.x=i*e.x+r*n.x,t.y=i*e.y+r*n.y},t}(),Te=Math.min,Ce=Math.max,De=new Ie,ke=new Ie,Le=new Ie,Ae=new Ie,Pe=new Ie,Re=new Ie,Oe=function(){function t(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.union=function(t){var e=Te(t.x,this.x),n=Te(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Ce(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Ce(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=[1,0,0,1,0,0];return xe(i,i,[-e.x,-e.y]),be(i,i,[n,r]),xe(i,i,[t.x,t.y]),i},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,o=r.x+r.width,a=r.y,s=r.y+r.height,l=e.x,u=e.x+e.width,h=e.y,c=e.y+e.height,p=!(o<l||u<i||s<h||c<a);if(n){var d=1/0,f=0,g=Math.abs(o-l),y=Math.abs(u-i),v=Math.abs(s-h),m=Math.abs(c-a),_=Math.min(g,y),x=Math.min(v,m);o<l||u<i?_>f&&(f=_,g<y?Ie.set(Re,-g,0):Ie.set(Re,y,0)):_<d&&(d=_,g<y?Ie.set(Pe,g,0):Ie.set(Pe,-y,0)),s<h||c<a?x>f&&(f=x,v<m?Ie.set(Re,0,-v):Ie.set(Re,0,m)):_<d&&(d=_,v<m?Ie.set(Pe,0,v):Ie.set(Pe,0,-m))}return n&&Ie.copy(n,p?Pe:Re),p},t.prototype.contain=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],a=r[4],s=r[5];return e.x=n.x*i+a,e.y=n.y*o+s,e.width=n.width*i,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}De.x=Le.x=n.x,De.y=Ae.y=n.y,ke.x=Ae.x=n.x+n.width,ke.y=Le.y=n.y+n.height,De.transform(r),Ae.transform(r),ke.transform(r),Le.transform(r),e.x=Te(De.x,ke.x,Le.x,Ae.x),e.y=Te(De.y,ke.y,Le.y,Ae.y);var l=Ce(De.x,ke.x,Le.x,Ae.x),u=Ce(De.y,ke.y,Le.y,Ae.y);e.width=l-e.x,e.height=u-e.y}else e!==n&&t.copy(e,n)},t}(),Ne=\"silent\";function Ee(){ce(this.event)}var Be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return n(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(jt),ze=function(){return function(t,e){this.x=t,this.y=e}}(),Ve=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],Fe=new Oe(0,0,0,0),He=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a._hovered=new ze(0,0),a.storage=e,a.painter=n,a.painterRoot=i,a._pointerSize=o,r=r||new Be,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new qt(a),a}return n(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(B(Ve,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,r=Ue(this,e,n),i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=r?new ze(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:\"default\"),o&&s!==o&&this.dispatchToElement(i,\"mouseout\",t),this.dispatchToElement(a,\"mousemove\",t),s&&s!==o&&this.dispatchToElement(a,\"mouseover\",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;\"only_globalout\"!==e&&this.dispatchToElement(this._hovered,\"mouseout\",t),\"no_globalout\"!==e&&this.trigger(\"globalout\",{type:\"globalout\",event:t})},e.prototype.resize=function(){this._hovered=new ze(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i=\"on\"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Ee}}(e,t,n);r&&(r[i]&&(o.cancelBubble=!!r[i].call(r,o)),r.trigger(e,o),r=r.__hostTarget?r.__hostTarget:r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){\"function\"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},e.prototype.findHover=function(t,e,n){var r=this.storage.getDisplayList(),i=new ze(t,e);if(Ge(r,i,t,e,n),this._pointerSize&&!i.target){for(var o=[],a=this._pointerSize,s=a/2,l=new Oe(t-s,e-s,a,a),u=r.length-1;u>=0;u--){var h=r[u];h===n||h.ignore||h.ignoreCoarsePointer||h.parent&&h.parent.ignoreCoarsePointer||(Fe.copy(h.getBoundingRect()),h.transform&&Fe.applyTransform(h.transform),Fe.intersect(l)&&o.push(h))}if(o.length)for(var c=Math.PI/12,p=2*Math.PI,d=0;d<s;d+=4)for(var f=0;f<p;f+=c){if(Ge(o,i,t+d*Math.cos(f),e+d*Math.sin(f),n),i.target)return i}}return i},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new de);var n=this._gestureMgr;\"start\"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(\"end\"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i;var o=new ze;o.target=r.target,this.dispatchToElement(o,i,r.event)}},e}(jt);function We(t,e,n){if(t[t.rectHover?\"rectContain\":\"contain\"](e,n)){for(var r=t,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||Ne}return!1}function Ge(t,e,n,r,i){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==i&&!a.ignore&&(s=We(a,n,r))&&(!e.topTarget&&(e.topTarget=a),s!==Ne)){e.target=a;break}}}function Ue(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}B([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(t){He.prototype[t]=function(e){var n,r,i=e.zrX,o=e.zrY,a=Ue(this,i,o);if(\"mouseup\"===t&&a||(r=(n=this.findHover(i,o)).target),\"mousedown\"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if(\"mouseup\"===t)this._upEl=r;else if(\"click\"===t){if(this._downEl!==this._upEl||!this._downPoint||zt(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}});var Xe=32,Ye=7;function qe(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){n--;for(;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function je(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,l=r;s<l;)i(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=r-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function Ze(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])>0){for(s=r-i;l<s&&o(t,e[n+i+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(t,e[n+i-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function Ke(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])<0){for(s=i+1;l<s&&o(t,e[n+i-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=r-i;l<s&&o(t,e[n+i+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])<0?l=h:a=h+1}return l}function $e(t,e){var n,r,i=Ye,o=0;t.length;var a=[];function s(s){var l=n[s],u=r[s],h=n[s+1],c=r[s+1];r[s]=u+c,s===o-3&&(n[s+1]=n[s+2],r[s+1]=r[s+2]),o--;var p=Ke(t[h],t,l,u,0,e);l+=p,0!==(u-=p)&&0!==(c=Ze(t[l+u-1],t,h,c,c-1,e))&&(u<=c?function(n,r,o,s){var l=0;for(l=0;l<r;l++)a[l]=t[n+l];var u=0,h=o,c=n;if(t[c++]=t[h++],0==--s){for(l=0;l<r;l++)t[c+l]=a[u+l];return}if(1===r){for(l=0;l<s;l++)t[c+l]=t[h+l];return void(t[c+s]=a[u])}var p,d,f,g=i;for(;;){p=0,d=0,f=!1;do{if(e(t[h],a[u])<0){if(t[c++]=t[h++],d++,p=0,0==--s){f=!0;break}}else if(t[c++]=a[u++],p++,d=0,1==--r){f=!0;break}}while((p|d)<g);if(f)break;do{if(0!==(p=Ke(t[h],a,u,r,0,e))){for(l=0;l<p;l++)t[c+l]=a[u+l];if(c+=p,u+=p,(r-=p)<=1){f=!0;break}}if(t[c++]=t[h++],0==--s){f=!0;break}if(0!==(d=Ze(a[u],t,h,s,0,e))){for(l=0;l<d;l++)t[c+l]=t[h+l];if(c+=d,h+=d,0===(s-=d)){f=!0;break}}if(t[c++]=a[u++],1==--r){f=!0;break}g--}while(p>=Ye||d>=Ye);if(f)break;g<0&&(g=0),g+=2}if((i=g)<1&&(i=1),1===r){for(l=0;l<s;l++)t[c+l]=t[h+l];t[c+s]=a[u]}else{if(0===r)throw new Error;for(l=0;l<r;l++)t[c+l]=a[u+l]}}(l,u,h,c):function(n,r,o,s){var l=0;for(l=0;l<s;l++)a[l]=t[o+l];var u=n+r-1,h=s-1,c=o+s-1,p=0,d=0;if(t[c--]=t[u--],0==--r){for(p=c-(s-1),l=0;l<s;l++)t[p+l]=a[l];return}if(1===s){for(d=(c-=r)+1,p=(u-=r)+1,l=r-1;l>=0;l--)t[d+l]=t[p+l];return void(t[c]=a[h])}var f=i;for(;;){var g=0,y=0,v=!1;do{if(e(a[h],t[u])<0){if(t[c--]=t[u--],g++,y=0,0==--r){v=!0;break}}else if(t[c--]=a[h--],y++,g=0,1==--s){v=!0;break}}while((g|y)<f);if(v)break;do{if(0!==(g=r-Ke(a[h],t,n,r,r-1,e))){for(r-=g,d=(c-=g)+1,p=(u-=g)+1,l=g-1;l>=0;l--)t[d+l]=t[p+l];if(0===r){v=!0;break}}if(t[c--]=a[h--],1==--s){v=!0;break}if(0!==(y=s-Ze(t[u],a,0,s,s-1,e))){for(s-=y,d=(c-=y)+1,p=(h-=y)+1,l=0;l<y;l++)t[d+l]=a[p+l];if(s<=1){v=!0;break}}if(t[c--]=t[u--],0==--r){v=!0;break}f--}while(g>=Ye||y>=Ye);if(v)break;f<0&&(f=0),f+=2}(i=f)<1&&(i=1);if(1===s){for(d=(c-=r)+1,p=(u-=r)+1,l=r-1;l>=0;l--)t[d+l]=t[p+l];t[c]=a[h]}else{if(0===s)throw new Error;for(p=c-(s-1),l=0;l<s;l++)t[p+l]=a[l]}}(l,u,h,c))}return n=[],r=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;s(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&r[t-1]<r[t+1]&&t--,s(t)}},pushRun:function(t,e){n[o]=t,r[o]=e,o+=1}}}function Qe(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<Xe)je(t,n,r,n+(o=qe(t,n,r,e)),e);else{var a=$e(t,e),s=function(t){for(var e=0;t>=Xe;)e|=1&t,t>>=1;return t+e}(i);do{if((o=qe(t,n,r,e))<s){var l=i;l>s&&(l=s),je(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}}}var Je=1,tn=4,en=!1;function nn(){en||(en=!0,console.warn(\"z / z2 / zlevel of displayable is invalid, which may cause unexpected errors\"))}function rn(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var on=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=rn}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Qe(n,rn)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=Je),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(nn(),u.z=0),isNaN(u.z2)&&(nn(),u.z2=0),isNaN(u.zlevel)&&(nn(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,n);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,n);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=R(this._roots,t);r>=0&&this._roots.splice(r,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),an=i.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},sn={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-sn.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*sn.bounceIn(2*t):.5*sn.bounceOut(2*t-1)+.5}},ln=Math.pow,un=Math.sqrt,hn=1e-8,cn=1e-4,pn=un(3),dn=1/3,fn=Mt(),gn=Mt(),yn=Mt();function vn(t){return t>-hn&&t<hn}function mn(t){return t>hn||t<-hn}function _n(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function xn(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function wn(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-i,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,d=0;if(vn(h)&&vn(c)){if(vn(s))o[0]=0;else(M=-l/s)>=0&&M<=1&&(o[d++]=M)}else{var f=c*c-4*h*p;if(vn(f)){var g=c/h,y=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[d++]=M),y>=0&&y<=1&&(o[d++]=y)}else if(f>0){var v=un(f),m=h*s+1.5*a*(-c+v),_=h*s+1.5*a*(-c-v);(M=(-s-((m=m<0?-ln(-m,dn):ln(m,dn))+(_=_<0?-ln(-_,dn):ln(_,dn))))/(3*a))>=0&&M<=1&&(o[d++]=M)}else{var x=(2*h*s-3*a*c)/(2*un(h*h*h)),w=Math.acos(x)/3,b=un(h),S=Math.cos(w),M=(-s-2*b*S)/(3*a),I=(y=(-s+b*(S+pn*Math.sin(w)))/(3*a),(-s+b*(S-pn*Math.sin(w)))/(3*a));M>=0&&M<=1&&(o[d++]=M),y>=0&&y<=1&&(o[d++]=y),I>=0&&I<=1&&(o[d++]=I)}}return d}function bn(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,l=0;if(vn(a)){if(mn(o))(h=-s/o)>=0&&h<=1&&(i[l++]=h)}else{var u=o*o-4*a*s;if(vn(u))i[0]=-o/(2*a);else if(u>0){var h,c=un(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(i[l++]=h),p>=0&&p<=1&&(i[l++]=p)}}return l}function Sn(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,u=(s-a)*i+a,h=(l-s)*i+s,c=(h-u)*i+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=r}function Mn(t,e,n,r,i,o,a,s,l,u,h){var c,p,d,f,g,y=.005,v=1/0;fn[0]=l,fn[1]=u;for(var m=0;m<1;m+=.05)gn[0]=_n(t,n,i,a,m),gn[1]=_n(e,r,o,s,m),(f=Ft(fn,gn))<v&&(c=m,v=f);v=1/0;for(var _=0;_<32&&!(y<cn);_++)p=c-y,d=c+y,gn[0]=_n(t,n,i,a,p),gn[1]=_n(e,r,o,s,p),f=Ft(gn,fn),p>=0&&f<v?(c=p,v=f):(yn[0]=_n(t,n,i,a,d),yn[1]=_n(e,r,o,s,d),g=Ft(yn,fn),d<=1&&g<v?(c=d,v=g):y*=.5);return h&&(h[0]=_n(t,n,i,a,c),h[1]=_n(e,r,o,s,c)),un(v)}function In(t,e,n,r,i,o,a,s,l){for(var u=t,h=e,c=0,p=1/l,d=1;d<=l;d++){var f=d*p,g=_n(t,n,i,a,f),y=_n(e,r,o,s,f),v=g-u,m=y-h;c+=Math.sqrt(v*v+m*m),u=g,h=y}return c}function Tn(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Cn(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function Dn(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function kn(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function Ln(t,e,n,r,i,o,a,s,l){var u,h=.005,c=1/0;fn[0]=a,fn[1]=s;for(var p=0;p<1;p+=.05){gn[0]=Tn(t,n,i,p),gn[1]=Tn(e,r,o,p),(y=Ft(fn,gn))<c&&(u=p,c=y)}c=1/0;for(var d=0;d<32&&!(h<cn);d++){var f=u-h,g=u+h;gn[0]=Tn(t,n,i,f),gn[1]=Tn(e,r,o,f);var y=Ft(gn,fn);if(f>=0&&y<c)u=f,c=y;else{yn[0]=Tn(t,n,i,g),yn[1]=Tn(e,r,o,g);var v=Ft(yn,fn);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=Tn(t,n,i,u),l[1]=Tn(e,r,o,u)),un(c)}function An(t,e,n,r,i,o,a){for(var s=t,l=e,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,d=Tn(t,n,i,p),f=Tn(e,r,o,p),g=d-s,y=f-l;u+=Math.sqrt(g*g+y*y),s=d,l=f}return u}var Pn=/cubic-bezier\\(([0-9,\\.e ]+)\\)/;function Rn(t){var e=t&&Pn.exec(t);if(e){var n=e[1].split(\",\"),r=+ut(n[0]),i=+ut(n[1]),o=+ut(n[2]),a=+ut(n[3]);if(isNaN(r+i+o+a))return;var s=[];return function(t){return t<=0?0:t>=1?1:wn(0,r,o,1,t,s)&&_n(0,i,a,1,s[0])}}}var On=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||wt,this.ondestroy=t.ondestroy||wt,this.onrestart=t.onrestart||wt,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,r=t-this._startTime-this._pausedTime,i=r/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,a=o?o(i):i;if(this.onframe(a),1===i){if(!this.loop)return!0;var s=r%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=X(t)?t:sn[t]||Rn(t)},t}(),Nn=function(){return function(t){this.value=t}}(),En=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new Nn(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Bn=function(){function t(t){this._list=new En,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new Nn(e),a.key=t,n.insertEntry(a),r[t]=a}return i},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),zn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Vn(t){return(t=Math.round(t))<0?0:t>255?255:t}function Fn(t){return t<0?0:t>1?1:t}function Hn(t){var e=t;return e.length&&\"%\"===e.charAt(e.length-1)?Vn(parseFloat(e)/100*255):Vn(parseInt(e,10))}function Wn(t){var e=t;return e.length&&\"%\"===e.charAt(e.length-1)?Fn(parseFloat(e)/100):Fn(parseFloat(e))}function Gn(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Un(t,e,n){return t+(e-t)*n}function Xn(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Yn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var qn=new Bn(20),jn=null;function Zn(t,e){jn&&Yn(jn,e),jn=qn.put(t,jn||e.slice())}function Kn(t,e){if(t){e=e||[];var n=qn.get(t);if(n)return Yn(e,n);var r=(t+=\"\").replace(/ /g,\"\").toLowerCase();if(r in zn)return Yn(e,zn[r]),Zn(t,e),e;var i,o=r.length;if(\"#\"===r.charAt(0))return 4===o||5===o?(i=parseInt(r.slice(1,4),16))>=0&&i<=4095?(Xn(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,5===o?parseInt(r.slice(4),16)/15:1),Zn(t,e),e):void Xn(e,0,0,0,1):7===o||9===o?(i=parseInt(r.slice(1,7),16))>=0&&i<=16777215?(Xn(e,(16711680&i)>>16,(65280&i)>>8,255&i,9===o?parseInt(r.slice(7),16)/255:1),Zn(t,e),e):void Xn(e,0,0,0,1):void 0;var a=r.indexOf(\"(\"),s=r.indexOf(\")\");if(-1!==a&&s+1===o){var l=r.substr(0,a),u=r.substr(a+1,s-(a+1)).split(\",\"),h=1;switch(l){case\"rgba\":if(4!==u.length)return 3===u.length?Xn(e,+u[0],+u[1],+u[2],1):Xn(e,0,0,0,1);h=Wn(u.pop());case\"rgb\":return u.length>=3?(Xn(e,Hn(u[0]),Hn(u[1]),Hn(u[2]),3===u.length?h:Wn(u[3])),Zn(t,e),e):void Xn(e,0,0,0,1);case\"hsla\":return 4!==u.length?void Xn(e,0,0,0,1):(u[3]=Wn(u[3]),$n(u,e),Zn(t,e),e);case\"hsl\":return 3!==u.length?void Xn(e,0,0,0,1):($n(u,e),Zn(t,e),e);default:return}}Xn(e,0,0,0,1)}}function $n(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Wn(t[1]),i=Wn(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return Xn(e=e||[],Vn(255*Gn(a,o,n+1/3)),Vn(255*Gn(a,o,n)),Vn(255*Gn(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Qn(t,e){var n=Kn(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return or(n,4===n.length?\"rgba\":\"rgb\")}}function Jn(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],l=r-i;return n[0]=Vn(Un(a[0],s[0],l)),n[1]=Vn(Un(a[1],s[1],l)),n[2]=Vn(Un(a[2],s[2],l)),n[3]=Fn(Un(a[3],s[3],l)),n}}var tr=Jn;function er(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=Kn(e[i]),s=Kn(e[o]),l=r-i,u=or([Vn(Un(a[0],s[0],l)),Vn(Un(a[1],s[1],l)),Vn(Un(a[2],s[2],l)),Fn(Un(a[3],s[3],l))],\"rgba\");return n?{color:u,leftIndex:i,rightIndex:o,value:r}:u}}var nr=er;function rr(t,e,n,r){var i,o=Kn(t);if(t)return o=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var h=((s-r)/6+l/2)/l,c=((s-i)/6+l/2)/l,p=((s-o)/6+l/2)/l;r===s?e=p-c:i===s?e=1/3+h-p:o===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,u];return null!=t[3]&&d.push(t[3]),d}}(o),null!=e&&(o[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(o[1]=Wn(n)),null!=r&&(o[2]=Wn(r)),or($n(o),\"rgba\")}function ir(t,e){var n=Kn(t);if(n&&null!=e)return n[3]=Fn(e),or(n,\"rgba\")}function or(t,e){if(t&&t.length){var n=t[0]+\",\"+t[1]+\",\"+t[2];return\"rgba\"!==e&&\"hsva\"!==e&&\"hsla\"!==e||(n+=\",\"+t[3]),e+\"(\"+n+\")\"}}function ar(t,e){var n=Kn(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var sr=Object.freeze({__proto__:null,fastLerp:Jn,fastMapToColor:tr,lerp:er,lift:Qn,lum:ar,mapToColor:nr,modifyAlpha:ir,modifyHSL:rr,parse:Kn,random:function(){return or([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],\"rgb\")},stringify:or,toHex:function(t){var e=Kn(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}});i.hasGlobalWindow&&X(window.btoa);var lr=Array.prototype.slice;function ur(t,e,n){return(e-t)*n+t}function hr(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=ur(e[o],n[o],r);return t}function cr(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+n[o]*r;return t}function pr(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*r}return t}function dr(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,o=Math.min(n,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function fr(t,e,n){var r=t,i=e;if(r.push&&i.push){var o=r.length,a=i.length;if(o!==a)if(o>a)r.length=a;else for(var s=o;s<a;s++)r.push(1===n?i[s]:lr.call(i[s]));var l=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=i[s]);else for(var u=0;u<l;u++)isNaN(r[s][u])&&(r[s][u]=i[s][u])}}function gr(t){if(E(t)){var e=t.length;if(E(t[0])){for(var n=[],r=0;r<e;r++)n.push(lr.call(t[r]));return n}return lr.call(t)}return t}function yr(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],\"rgba(\"+t.join(\",\")+\")\"}var vr=1,mr=2,_r=4,xr=5;function wr(t){return t===_r||t===xr}function br(t){return t===vr||t===mr}var Sr=[0,0,0,0],Mr=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var r=this.keyframes,i=r.length,o=!1,a=6,s=e;if(E(e)){var l=function(t){return E(t&&t[0])?2:1}(e);a=l,(1===l&&!j(e[0])||2===l&&!j(e[0][0]))&&(o=!0)}else if(j(e)&&!nt(e))a=0;else if(Y(e))if(isNaN(+e)){var u=Kn(e);u&&(s=u,a=3)}else a=0;else if(J(e)){var h=L({},s);h.colorStops=z(e.colorStops,function(t){return{offset:t.offset,color:Kn(t.color)}}),\"linear\"===e.type?a=_r:function(t){return\"radial\"===t.type}(e)&&(a=xr),s=h}0===i?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var c={time:t,value:s,rawValue:e,percent:0};return n&&(c.easing=n,c.easingFunc=X(n)?n:sn[n]||Rn(n)),r.push(c),c},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(t,e){return t.time-e.time});for(var r=this.valType,i=n.length,o=n[i-1],a=this.discrete,s=br(r),l=wr(r),u=0;u<i;u++){var h=n[u],c=h.value,p=o.value;h.percent=h.time/t,a||(s&&u!==i-1?fr(c,p,r):l&&dr(c.colorStops,p.colorStops))}if(!a&&r!==xr&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var d=n[0].value;for(u=0;u<i;u++)0===r?n[u].additiveValue=n[u].value-d:3===r?n[u].additiveValue=cr([],n[u].value,d,-1):br(r)&&(n[u].additiveValue=r===vr?cr([],n[u].value,d,-1):pr([],n[u].value,d,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,i,o=null!=this._additiveTrack,a=o?\"additiveValue\":\"value\",s=this.valType,l=this.keyframes,u=l.length,h=this.propName,c=3===s,p=this._lastFr,d=Math.min;if(1===u)r=i=l[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=d(p+1,u-1);n>=0&&!(l[n].percent<=e);n--);n=d(n,u-2)}else{for(n=p;n<u&&!(l[n].percent>e);n++);n=d(n-1,u-2)}i=l[n+1],r=l[n]}if(r&&i){this._lastFr=n,this._lastFrP=e;var f=i.percent-r.percent,g=0===f?1:d((e-r.percent)/f,1);i.easingFunc&&(g=i.easingFunc(g));var y=o?this._additiveValue:c?Sr:t[h];if(!br(s)&&!c||y||(y=this._additiveValue=[]),this.discrete)t[h]=g<1?r.rawValue:i.rawValue;else if(br(s))s===vr?hr(y,r[a],i[a],g):function(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=ur(e[a][s],n[a][s],r)}}(y,r[a],i[a],g);else if(wr(s)){var v=r[a],m=i[a],_=s===_r;t[h]={type:_?\"linear\":\"radial\",x:ur(v.x,m.x,g),y:ur(v.y,m.y,g),colorStops:z(v.colorStops,function(t,e){var n=m.colorStops[e];return{offset:ur(t.offset,n.offset,g),color:yr(hr([],t.color,n.color,g))}}),global:m.global},_?(t[h].x2=ur(v.x2,m.x2,g),t[h].y2=ur(v.y2,m.y2,g)):t[h].r=ur(v.r,m.r,g)}else if(c)hr(y,r[a],i[a],g),o||(t[h]=yr(y));else{var x=ur(r[a],i[a],g);o?this._additiveValue=x:t[h]=x}o&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;0===e?t[n]=t[n]+r:3===e?(Kn(t[n],Sr),cr(Sr,Sr,r,1),t[n]=yr(Sr)):e===vr?cr(t[n],t[n],r,1):e===mr&&pr(t[n],t[n],r,1)},t}(),Ir=function(){function t(t,e,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?C(\"Can' use additive animation on looped animation.\"):(this._additiveAnimators=r,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,H(e),n)},t.prototype.whenWithKeys=function(t,e,n,r){for(var i=this._tracks,o=0;o<n.length;o++){var a=n[o],s=i[a];if(!s){s=i[a]=new Mr(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var h=u.keyframes,c=h[h.length-1];l=c&&c.value,3===u.valType&&l&&(l=yr(l))}else l=this._target[a];if(null==l)continue;t>0&&s.addKeyframe(0,gr(l),r),this._trackKeys.push(a)}s.addKeyframe(t,gr(e[a]),r)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(t);i&&(e=i)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes,u=l.length;if(a.prepare(r,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var h=l[u-1];h&&(e._target[a.propName]=h.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var c=new On({life:r,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var r=e._additiveAnimators;if(r){for(var i=!1,o=0;o<r.length;o++)if(r[o]._clip){i=!0;break}i||(e._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&c.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return z(this._trackKeys,function(e){return t._tracks[e]})},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<t.length;i++){var o=n[t[i]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var i=e[r],o=this._tracks[i];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[i]=gr(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||H(t);for(var n=0;n<e.length;n++){var r=e[n],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var a=o.pop();i.addKeyframe(a.time,t[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},t}();function Tr(){return(new Date).getTime()}var Cr,Dr,kr=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return n(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=Tr()-this._pausedTime,n=e-this._time,r=this._head;r;){var i=r.next;r.step(e,n)?(r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=e,t||(this.trigger(\"frame\",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,an(function e(){t._running&&(an(e),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=Tr(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Tr(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Tr()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new Ir(t,e.loop);return this.addAnimator(n),n},e}(jt),Lr=i.domSupported,Ar=(Dr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Cr=[\"click\",\"dblclick\",\"mousewheel\",\"wheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],touch:[\"touchstart\",\"touchend\",\"touchmove\"],pointer:z(Cr,function(t){var e=t.replace(\"mouse\",\"pointer\");return Dr.hasOwnProperty(e)?e:t})}),Pr={mouse:[\"mousemove\",\"mouseup\"],pointer:[\"pointermove\",\"pointerup\"]},Rr=!1;function Or(t){var e=t.pointerType;return\"pen\"===e||\"touch\"===e}function Nr(t){t&&(t.zrByTouch=!0)}function Er(t,e){for(var n=e,r=!1;n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var Br=function(){return function(t,e){this.stopPropagation=wt,this.stopImmediatePropagation=wt,this.preventDefault=wt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}}(),zr={mousedown:function(t){t=he(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger(\"mousedown\",t)},mousemove:function(t){t=he(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger(\"mousemove\",t)},mouseup:function(t){t=he(this.dom,t),this.__togglePointerCapture(!1),this.trigger(\"mouseup\",t)},mouseout:function(t){Er(this,(t=he(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl=\"no_globalout\"),this.trigger(\"mouseout\",t))},wheel:function(t){Rr=!0,t=he(this.dom,t),this.trigger(\"mousewheel\",t)},mousewheel:function(t){Rr||(t=he(this.dom,t),this.trigger(\"mousewheel\",t))},touchstart:function(t){Nr(t=he(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,\"start\"),zr.mousemove.call(this,t),zr.mousedown.call(this,t)},touchmove:function(t){Nr(t=he(this.dom,t)),this.handler.processGesture(t,\"change\"),zr.mousemove.call(this,t)},touchend:function(t){Nr(t=he(this.dom,t)),this.handler.processGesture(t,\"end\"),zr.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&zr.click.call(this,t)},pointerdown:function(t){zr.mousedown.call(this,t)},pointermove:function(t){Or(t)||zr.mousemove.call(this,t)},pointerup:function(t){zr.mouseup.call(this,t)},pointerout:function(t){Or(t)||zr.mouseout.call(this,t)}};B([\"click\",\"dblclick\",\"contextmenu\"],function(t){zr[t]=function(e){e=he(this.dom,e),this.trigger(t,e)}});var Vr={pointermove:function(t){Or(t)||Vr.mousemove.call(this,t)},pointerup:function(t){Vr.mouseup.call(this,t)},mousemove:function(t){this.trigger(\"mousemove\",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger(\"mouseup\",t),e&&(t.zrEventControl=\"only_globalout\",this.trigger(\"mouseout\",t))}};function Fr(t,e){var n=e.domHandlers;i.pointerEventsSupported?B(Ar.pointer,function(r){Wr(e,r,function(e){n[r].call(t,e)})}):(i.touchEventsSupported&&B(Ar.touch,function(r){Wr(e,r,function(i){n[r].call(t,i),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}(e)})}),B(Ar.mouse,function(r){Wr(e,r,function(i){i=ue(i),e.touching||n[r].call(t,i)})}))}function Hr(t,e){function n(n){Wr(e,n,function(r){r=ue(r),Er(t,r.target)||(r=function(t,e){return he(t.dom,new Br(t,e),!0)}(t,r),e.domHandlers[n].call(t,r))},{capture:!0})}i.pointerEventsSupported?B(Pr.pointer,n):i.touchEventsSupported||B(Pr.mouse,n)}function Wr(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,function(t,e,n,r){t.addEventListener(e,n,r)}(t.domTarget,e,n,r)}function Gr(t){var e,n,r,i,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,n=a,r=o[a],i=t.listenerOpts[a],e.removeEventListener(n,r,i));t.mounted={}}var Ur=function(){return function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}}(),Xr=function(t){function e(e,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new Ur(e,zr),Lr&&(r._globalHandlerScope=new Ur(document,Vr)),Fr(r,r._localHandlerScope),r}return n(e,t),e.prototype.dispose=function(){Gr(this._localHandlerScope),Lr&&Gr(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||\"default\")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Lr&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Hr(this,e):Gr(e)}},e}(jt),Yr=1;i.hasGlobalWindow&&(Yr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var qr=Yr,jr=.4,Zr=ve,Kr=5e-5;function $r(t){return t>Kr||t<-Kr}var Qr=[],Jr=[],ti=[1,0,0,1,0,0],ei=Math.abs,ni=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return $r(this.rotation)||$r(this.x)||$r(this.y)||$r(this.scaleX-1)||$r(this.scaleY-1)||$r(this.skewX)||$r(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):Zr(n),t&&(e?_e(n,t,n):me(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(Zr(n),this.invTransform=null)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Qr);var n=Qr[0]<0?-1:1,r=Qr[1]<0?-1:1,i=((Qr[0]-n)*e+n)/Qr[0]||0,o=((Qr[1]-r)*e+r)/Qr[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Se(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),i=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(i),e=Math.sqrt(e),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(_e(Jr,t.invTransform,e),e=Jr);var n=this.originX,r=this.originY;(n||r)&&(ti[4]=n,ti[5]=r,_e(Jr,e,ti),Jr[4]-=n,Jr[5]-=r,e=Jr),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&Wt(n,n,r),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&Wt(n,n,r),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&ei(t[0]-1)>1e-10&&ei(t[3]-1)>1e-10?Math.sqrt(ei(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){!function(t,e){for(var n=0;n<ri.length;n++){var r=ri[n];t[r]=e[r]}}(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,r=t.originY||0,i=t.scaleX,o=t.scaleY,a=t.anchorX,s=t.anchorY,l=t.rotation||0,u=t.x,h=t.y,c=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(n||r||a||s){var d=n+a,f=r+s;e[4]=-d*i-c*f*o,e[5]=-f*o-p*d*i}else e[4]=e[5]=0;return e[0]=i,e[3]=o,e[1]=p*i,e[2]=c*o,l&&we(e,e,l),e[4]+=n+u,e[5]+=r+h,e},t.initDefaultProps=((e=t.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),t}(),ri=[\"x\",\"y\",\"originX\",\"originY\",\"anchorX\",\"anchorY\",\"rotation\",\"scaleX\",\"scaleY\",\"skewX\",\"skewY\"];var ii={};function oi(t,e){var n=ii[e=e||a];n||(n=ii[e]=new Bn(500));var r=n.get(t);return null==r&&(r=p.measureText(t,e).width,n.put(t,r)),r}function ai(t,e,n,r){var i=oi(t,e),o=hi(e),a=li(0,i,n),s=ui(0,o,r);return new Oe(a,s,i,o)}function si(t,e,n,r){var i=((t||\"\")+\"\").split(\"\\n\");if(1===i.length)return ai(i[0],e,n,r);for(var o=new Oe(0,0,0,0),a=0;a<i.length;a++){var s=ai(i[a],e,n,r);0===a?o.copy(s):o.union(s)}return o}function li(t,e,n){return\"right\"===n?t-=e:\"center\"===n&&(t-=e/2),t}function ui(t,e,n){return\"middle\"===n?t-=e/2:\"bottom\"===n&&(t-=e),t}function hi(t){return oi(\"国\",t)}function ci(t,e){return\"string\"==typeof t?t.lastIndexOf(\"%\")>=0?parseFloat(t)/100*e:parseFloat(t):t}function pi(t,e,n){var r=e.position||\"inside\",i=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,h=\"left\",c=\"top\";if(r instanceof Array)l+=ci(r[0],n.width),u+=ci(r[1],n.height),h=null,c=null;else switch(r){case\"left\":l-=i,u+=s,h=\"right\",c=\"middle\";break;case\"right\":l+=i+a,u+=s,c=\"middle\";break;case\"top\":l+=a/2,u-=i,h=\"center\",c=\"bottom\";break;case\"bottom\":l+=a/2,u+=o+i,h=\"center\";break;case\"inside\":l+=a/2,u+=s,h=\"center\",c=\"middle\";break;case\"insideLeft\":l+=i,u+=s,c=\"middle\";break;case\"insideRight\":l+=a-i,u+=s,h=\"right\",c=\"middle\";break;case\"insideTop\":l+=a/2,u+=i,h=\"center\";break;case\"insideBottom\":l+=a/2,u+=o-i,h=\"center\",c=\"bottom\";break;case\"insideTopLeft\":l+=i,u+=i;break;case\"insideTopRight\":l+=a-i,u+=i,h=\"right\";break;case\"insideBottomLeft\":l+=i,u+=o-i,c=\"bottom\";break;case\"insideBottomRight\":l+=a-i,u+=o-i,h=\"right\",c=\"bottom\"}return(t=t||{}).x=l,t.y=u,t.align=h,t.verticalAlign=c,t}var di=ri.concat([\"ignore\"]),fi=V(ri,function(t,e){return t[e]=!0,t},{ignore:!1}),gi={},yi=new Oe(0,0,0,0),vi=function(){function t(t){this.id=T(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case\"horizontal\":e=0;break;case\"vertical\":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=e.innerTransformable,o=void 0,a=void 0,s=!1;i.parent=r?this:null;var l=!1;if(i.copyTransform(e),null!=n.position){var u=yi;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(gi,n,u):pi(gi,n,u),i.x=gi.x,i.y=gi.y,o=gi.align,a=gi.verticalAlign;var h=n.origin;if(h&&null!=n.rotation){var c=void 0,p=void 0;\"center\"===h?(c=.5*u.width,p=.5*u.height):(c=ci(h[0],u.width),p=ci(h[1],u.height)),l=!0,i.originX=-i.x+c+(r?0:u.x),i.originY=-i.y+p+(r?0:u.y)}}null!=n.rotation&&(i.rotation=n.rotation);var d=n.offset;d&&(i.x+=d[0],i.y+=d[1],l||(i.originX=-d[0],i.originY=-d[1]));var f=null==n.inside?\"string\"==typeof n.position&&n.position.indexOf(\"inside\")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,v=void 0,m=void 0;f&&this.canBeInsideText()?(y=n.insideFill,v=n.insideStroke,null!=y&&\"auto\"!==y||(y=this.getInsideTextFill()),null!=v&&\"auto\"!==v||(v=this.getInsideTextStroke(y),m=!0)):(y=n.outsideFill,v=n.outsideStroke,null!=y&&\"auto\"!==y||(y=this.getOutsideFill()),null!=v&&\"auto\"!==v||(v=this.getOutsideStroke(y),m=!0)),(y=y||\"#000\")===g.fill&&v===g.stroke&&m===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=y,g.stroke=v,g.autoStroke=m,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),e.__dirty|=Je,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return\"#fff\"},t.prototype.getInsideTextStroke=function(t){return\"#000\"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?\"#ccc\":\"#333\"},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=\"string\"==typeof e&&Kn(e);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(i?0:255)*(1-r);return n[3]=1,or(n,\"rgba\")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){\"textConfig\"===t?this.setTextConfig(e):\"textContent\"===t?this.setTextContent(e):\"clipPath\"===t?this.setClipPath(e):\"extra\"===t?(this.extra=this.extra||{},L(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if(\"string\"==typeof t)this.attrKV(t,e);else if(Z(t))for(var n=H(t),r=0;r<n.length;r++){var i=n[r];this.attrKV(i,t[i])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!(r.getLoop()||i&&\"__zr_normal__\"!==i)){var o=r.targetName,a=o?e[o]:e;r.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,di)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null==t[i]||i in e||(e[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(\"__zr_normal__\",!1,t)},t.prototype.useState=function(t,e,n,r){var i=\"__zr_normal__\"===t;if(this.hasState()||!i){var o=this.currentStates,a=this.stateTransition;if(!(R(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!i&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||i){i||this.saveCurrentToNormalState(s);var l=!!(s&&s.hoverLayer||r);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,h=this._textGuide;return u&&u.useState(t,e,n,l),h&&h.useState(t,e,n,l),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Je),s}C(\"State \"+t+\" not exists.\")}}},t.prototype.useStates=function(t,e,n){if(t.length){var r=[],i=this.currentStates,o=t.length,a=o===i.length;if(a)for(var s=0;s<o;s++)if(t[s]!==i[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&r.push(u)}var h=r[o-1],c=!!(h&&h.hoverLayer||n);c&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),d=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(\",\"),p,this._normalState,!1,!e&&!this.__inHover&&d&&d.duration>0,d);var f=this._textContent,g=this._textGuide;f&&f.useStates(t,e,c),g&&g.useStates(t,e,c),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Je)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=R(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),i=R(r,t),o=R(r,e)>=0;i>=0?o?r.splice(i,1):r[i]=e:n&&!o&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var i=t[r];L(n,i),i.textConfig&&L(e=e||{},i.textConfig)}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,r,i,o){var a=!(e&&r);e&&e.textConfig?(this.textConfig=L({},r?this.textConfig:n.textConfig),L(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u<di.length;u++){var h=di[u],c=i&&fi[h];e&&null!=e[h]?c?(l=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(c?(l=!0,s[h]=n[h]):this[h]=n[h])}if(!i)for(u=0;u<this.animators.length;u++){var p=this.animators[u],d=p.targetName;p.getLoop()||p.__changeFinalValue(d?(e||n)[d]:e||n)}l&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error(\"Text element has been added to zrender.\");if(t===this)throw new Error(\"Recursive component attachment.\");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error(\"Text element has been added to zrender.\");t.innerTransformable=new ni,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),L(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Je;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var r=t?this[t]:this;if(r){var i=new Ir(r,e,n);return t&&(i.targetName=t),this.addAnimator(i,t),i}C('Property \"'+t+'\" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var e=r.animators,n=R(e,t);n>=0&&e.splice(n,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,i=[],o=0;o<r;o++){var a=n[o];t&&t!==a.scope?i.push(a):a.stop(e)}return this.animators=i,this},t.prototype.animateTo=function(t,e,n){mi(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){mi(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,r){for(var i=mi(this,e,n,r),o=0;o<i.length;o++)i[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type=\"element\",e.name=\"\",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Je;var n={};function r(t,e,r){n[t+e+r]||(console.warn(\"DEPRECATED: '\"+t+\"' has been deprecated. use '\"+e+\"', '\"+r+\"' instead\"),n[t+e+r]=!0)}function i(t,n,i,o){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){(r(t,i,o),this[n])||a(this,this[n]=[]);return this[n]},set:function(e){r(t,i,o),this[i]=e[0],this[o]=e[1],this[n]=e,a(this,e)}})}Object.defineProperty&&(i(\"position\",\"_legacyPos\",\"x\",\"y\"),i(\"scale\",\"_legacyScale\",\"scaleX\",\"scaleY\"),i(\"origin\",\"_legacyOrigin\",\"originX\",\"originY\"))}(),t}();function mi(t,e,n,r,i){var o=[];!function t(e,n,r,i,o,a,s,l){var u=H(i);var h=o.duration;var c=o.delay;var p=o.additive;var d=o.setToFinal;var f=!Z(a);var g=e.animators;var y=[];for(var v=0;v<u.length;v++){var m=u[v],_=i[m];if(null!=_&&null!=r[m]&&(f||a[m]))if(!Z(_)||E(_)||J(_))y.push(m);else{if(n){l||(r[m]=_,e.updateDuringAnimation(n));continue}t(e,m,r[m],_,o,a&&a[m],s,l)}else l||(r[m]=_,e.updateDuringAnimation(n),y.push(m))}var x=y.length;if(!p&&x)for(var w=0;w<g.length;w++){var b=g[w];if(b.targetName===n){var S=b.stopTracks(y);if(S){var M=R(g,b);g.splice(M,1)}}}o.force||(y=F(y,function(t){return e=i[t],n=r[t],!(e===n||E(e)&&E(n)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(e,n));var e,n}),x=y.length);if(x>0||o.force&&!s.length){var I=void 0,T=void 0,C=void 0;if(l){T={},d&&(I={});for(var w=0;w<x;w++){var m=y[w];T[m]=r[m],d?I[m]=i[m]:r[m]=i[m]}}else if(d){C={};for(var w=0;w<x;w++){var m=y[w];C[m]=gr(r[m]),xi(r,i,m)}}var b=new Ir(r,!1,!1,p?F(g,function(t){return t.targetName===n}):null);b.targetName=n,o.scope&&(b.scope=o.scope),d&&I&&b.whenWithKeys(0,I,y),C&&b.whenWithKeys(0,C,y),b.whenWithKeys(null==h?500:h,l?T:i,y).delay(c||0),e.addAnimator(b,n),s.push(b)}}(t,\"\",t,e,n=n||{},r,o,i);var a=o.length,s=!1,l=n.done,u=n.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during(function(t,e){n.during(e)});for(var p=0;p<o.length;p++){var d=o[p];h&&d.done(h),c&&d.aborted(c),n.force&&d.duration(n.duration),d.start(n.easing)}return o}function _i(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function xi(t,e,n){if(E(e[n]))if(E(t[n])||(t[n]=[]),$(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),_i(t[n],e[n],r))}else{var i=e[n],o=t[n],a=i.length;if(E(i[0]))for(var s=i[0].length,l=0;l<a;l++)o[l]?_i(o[l],i[l],s):o[l]=Array.prototype.slice.call(i[l]);else _i(o,i,a);o.length=i.length}else t[n]=e[n]}N(vi,jt),N(vi,ni);var wi=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return n(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw\"This elemenet has been used as an attachment\";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=R(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,r=n[e];if(t&&t!==this&&t.parent!==this&&t!==r){n[e]=t,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,r=R(n,t);return r<0?this:(n.splice(r,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var r=t[n];e&&r.removeSelfFromZr(e),r.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=t.call(e,r);r.isGroup&&!i&&r.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new Oe(0,0,0,0),n=t||this._children,r=[],i=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(r);l?(Oe.applyTransform(e,s,l),(i=i||e.clone()).union(e)):(i=i||s.clone()).union(s)}}return i||e},e}(vi);wi.prototype.type=\"group\";\n" +
+//         "/*!\n" +
+//         "  * ZRender, a high performance 2d drawing library.\n" +
+//         "  *\n" +
+//         "  * Copyright (c) 2013, Baidu Inc.\n" +
+//         "  * All rights reserved.\n" +
+//         "  *\n" +
+//         "  * LICENSE\n" +
+//         "  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n" +
+//         "  */\n" +
+//         "var bi={},Si={};var Mi=function(){function t(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var o=new on,a=n.renderer||\"canvas\";if(bi[a]||(a=H(bi)[0]),!bi[a])throw new Error(\"Renderer '\"+a+\"' is not imported. Please import it first.\");n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new bi[a](e,o,n,t),l=n.ssr||s.ssrOnly;this.storage=o,this.painter=s;var u,h=i.node||i.worker||l?null:new Xr(s.getViewportRoot(),s.root),c=n.useCoarsePointer;(null==c||\"auto\"===c?i.touchEventsSupported:!!c)&&(u=it(n.pointerSize,44)),this.handler=new He(o,s,h,s.root,u),this.animation=new kr({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if(\"string\"==typeof t)return ar(t,1)<jr;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=ar(e[i].color,1);return(n/=r)<jr}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=Tr();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=Tr();e?(this._stillFrameAccum=0,this.trigger(\"rendered\",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&\"canvas\"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof wi&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Si[t]},t}();function Ii(t,e){var n=new Mi(T(),t,e);return Si[n.id]=n,n}function Ti(t,e){bi[t]=e}var Ci=Object.freeze({__proto__:null,dispose:function(t){t.dispose()},disposeAll:function(){for(var t in Si)Si.hasOwnProperty(t)&&Si[t].dispose();Si={}},getInstance:function(t){return Si[t]},init:Ii,registerPainter:Ti,version:\"5.4.4\"}),Di=1e-4,ki=20;function Li(t,e,n,r){var i=e[0],o=e[1],a=n[0],s=n[1],l=o-i,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(r)if(l>0){if(t<=i)return a;if(t>=o)return s}else{if(t>=i)return a;if(t<=o)return s}else{if(t===i)return a;if(t===o)return s}return(t-i)/l*u+a}function Ai(t,e){switch(t){case\"center\":case\"middle\":t=\"50%\";break;case\"left\":case\"top\":t=\"0%\";break;case\"right\":case\"bottom\":t=\"100%\"}return Y(t)?(n=t,n.replace(/^\\s+|\\s+$/g,\"\")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function Pi(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),ki),t=(+t).toFixed(e),n?t:+t}function Ri(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return Oi(t)}function Oi(t){var e=t.toString().toLowerCase(),n=e.indexOf(\"e\"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,o=e.indexOf(\".\"),a=o<0?0:i-1-o;return Math.max(0,a-r)}function Ni(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function Ei(t,e){var n=Math.max(Ri(t),Ri(e)),r=t+e;return n>ki?r:Pi(r,n)}var Bi=9007199254740991;var zi=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d{1,2})(?::(\\d{1,2})(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/;function Vi(t){if(t instanceof Date)return t;if(Y(t)){var e=zi.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return\"Z\"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Fi(t){return Math.pow(10,Hi(t))}function Hi(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Wi(t,e){var n=Hi(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t}function Gi(t){var e=parseFloat(t);return e==t&&(0!==e||!Y(t)||t.indexOf(\"x\")<=0)?e:NaN}function Ui(t){return!isNaN(Gi(t))}function Xi(t,e){return null==t?e:null==e?t:t*e/function t(e,n){return 0===n?e:t(n,e%n)}(t,e)}var Yi=\"[ECharts] \",qi={},ji=\"undefined\"!=typeof console&&console.warn&&console.log;function Zi(t,e,n){if(ji){if(n){if(qi[e])return;qi[e]=!0}console[t](Yi+e)}}function Ki(t,e){Zi(\"warn\",t,e)}function $i(t,e){Zi(\"error\",t,e)}function Qi(t){Zi(\"warn\",\"DEPRECATED: \"+t,!0)}function Ji(t,e,n){Qi((n?\"[\"+n+\"]\":\"\")+t+\" is deprecated, use \"+e+\" instead.\")}function to(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return void 0===t?\"undefined\":t===1/0?\"Infinity\":t===-1/0?\"-Infinity\":nt(t)?\"NaN\":t instanceof Date?\"Date(\"+t.toISOString()+\")\":X(t)?\"function () { ... }\":et(t)?t+\"\":null};return z(t,function(t){if(Y(t))return t;var e=n(t);if(null!=e)return e;if(\"undefined\"==typeof JSON||!JSON.stringify)return\"?\";try{return JSON.stringify(t,function(t,e){var r=n(e);return null==r?e:r})}catch(t){return\"?\"}}).join(\" \")}function eo(t){throw new Error(t)}function no(t,e,n){return(e-t)*n+t}var ro=\"series\\0\",io=\"\\0_ec_\\0\";function oo(t){return t instanceof Array?t:null==t?[]:[t]}function ao(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var so=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"rich\",\"tag\",\"color\",\"textBorderColor\",\"textBorderWidth\",\"width\",\"height\",\"lineHeight\",\"align\",\"verticalAlign\",\"baseline\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\",\"textShadowColor\",\"textShadowBlur\",\"textShadowOffsetX\",\"textShadowOffsetY\",\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderRadius\",\"padding\"];function lo(t){return!Z(t)||U(t)||t instanceof Date?t:t.value}function uo(t){return Z(t)&&!(t instanceof Array)}function ho(t,e,n){var r=\"normalMerge\"===n,i=\"replaceMerge\"===n,o=\"replaceAll\"===n;t=t||[],e=(e||[]).slice();var a=yt();B(e,function(t,n){Z(t)?(null==t.id||yo(t.id)||go(t.id),null==t.name||yo(t.name)||go(t.name)):e[n]=null});var s,l,u=function(t,e,n){var r=[];if(\"replaceAll\"===n)return r;for(var i=0;i<t.length;i++){var o=t[i];o&&null!=o.id&&e.set(o.id,i),r.push({existing:\"replaceMerge\"===n||mo(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(t,a,n);return(r||i)&&function(t,e,n,r){B(r,function(i,o){if(i&&null!=i.id){var a=po(i.id),s=n.get(a);if(null!=s){var l=t[s];lt(!l.newOption,'Duplicated option on id \"'+a+'\".'),l.newOption=i,l.existing=e[s],r[o]=null}}})}(u,t,a,e),r&&function(t,e){B(e,function(n,r){if(n&&null!=n.name)for(var i=0;i<t.length;i++){var o=t[i].existing;if(!t[i].newOption&&o&&(null==o.id||null==n.id)&&!mo(n)&&!mo(o)&&co(\"name\",o,n))return t[i].newOption=n,void(e[r]=null)}})}(u,e),r||i?function(t,e,n){B(e,function(e){if(e){for(var r,i=0;(r=t[i])&&(r.newOption||mo(r.existing)||r.existing&&null!=e.id&&!co(\"id\",e,r.existing));)i++;r?(r.newOption=e,r.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),i++}})}(u,e,i):o&&function(t,e){B(e,function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(u,e),s=u,l=yt(),B(s,function(t){var e=t.existing;e&&l.set(e.id,t)}),B(s,function(t){var e=t.newOption;lt(!e||null==e.id||!l.get(e.id)||l.get(e.id)===t,\"id duplicates: \"+(e&&e.id)),e&&null!=e.id&&l.set(e.id,t),!t.keyInfo&&(t.keyInfo={})}),B(s,function(t,e){var n=t.existing,r=t.newOption,i=t.keyInfo;if(Z(r)){if(i.name=null!=r.name?po(r.name):n?n.name:ro+e,n)i.id=po(n.id);else if(null!=r.id)i.id=po(r.id);else{var o=0;do{i.id=\"\\0\"+i.name+\"\\0\"+o++}while(l.get(i.id))}l.set(i.id,t)}}),u}function co(t,e,n){var r=fo(e[t],null),i=fo(n[t],null);return null!=r&&null!=i&&r===i}function po(t){if(null==t)throw new Error;return fo(t,\"\")}function fo(t,e){return null==t?e:Y(t)?t:j(t)||q(t)?t+\"\":e}function go(t){Ki(\"`\"+t+\"` is invalid id or name. Must be a string or number.\")}function yo(t){return q(t)||Ui(t)}function vo(t){var e=t.name;return!(!e||!e.indexOf(ro))}function mo(t){return t&&null!=t.id&&0===po(t.id).indexOf(io)}function _o(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?U(e.dataIndex)?z(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?U(e.name)?z(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function xo(){var t=\"__ec_inner_\"+wo++;return function(e){return e[t]||(e[t]={})}}var wo=Math.round(9*Math.random());function bo(t,e,n){var r=So(e,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=n?n.defaultMainType:null;return!i&&s&&o.set(s,{}),o.each(function(e,r){var i=Io(t,r,e,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[r+\"Models\"]=i.models,a[r+\"Model\"]=i.models[0]}),a}function So(t,e){var n;if(Y(t)){var r={};r[t+\"Index\"]=0,n=r}else n=t;var i=yt(),o={},a=!1;return B(n,function(t,n){if(\"dataIndex\"!==n&&\"dataIndexInside\"!==n){var r=n.match(/^(\\w+)(Index|Id|Name)$/)||[],s=r[1],l=(r[2]||\"\").toLowerCase();if(s&&l&&!(e&&e.includeMainTypes&&R(e.includeMainTypes,s)<0))a=a||!!s,(i.get(s)||i.set(s,{}))[l]=t}else o[n]=t}),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var Mo={useDefault:!0,enableAll:!1,enableNone:!1};function Io(t,e,n,r){r=r||Mo;var i=n.index,o=n.id,a=n.name,s={models:null,specified:null!=i||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=t.getComponent(e))?[l]:[],s}return\"none\"===i||!1===i?(lt(r.enableNone,'`\"none\"` or `false` is not a valid value on index option.'),s.models=[],s):(\"all\"===i&&(lt(r.enableAll,'`\"all\"` is not a valid value on index option.'),i=o=a=null),s.models=t.queryComponents({mainType:e,index:i,id:o,name:a}),s)}function To(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}var Co=\".\",Do=\"___EC__COMPONENT__CONTAINER___\",ko=\"___EC__EXTENDED_CLASS___\";function Lo(t){var e={main:\"\",sub:\"\"};if(t){var n=t.split(Co);e.main=n[0]||\"\",e.sub=n[1]||\"\"}return e}function Ao(t,e){t.$constructor=t,t.extend=function(t){B(e,function(e){t[e]||console.warn(\"Method `\"+e+\"` should be implemented\"+(t.type?\" in \"+t.type:\"\")+\".\")});var r,i,o=this;return X(i=o)&&/^class\\s/.test(Function.prototype.toString.call(i))?r=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(o):O(r=function(){(t.$constructor||o).apply(this,arguments)},this),L(r.prototype,t),r[ko]=!0,r.extend=this.extend,r.superCall=Oo,r.superApply=No,r.superClass=o,r}}function Po(t,e){t.extend=e.extend}var Ro=Math.round(10*Math.random());function Oo(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function No(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Eo(t){var e={};t.registerClass=function(t){var n,r=t.type||t.prototype.type;if(r){lt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=r),'componentType \"'+n+'\" illegal'),t.prototype.type=r;var i=Lo(r);if(i.sub){if(i.sub!==Do){((function(t){var n=e[t.main];n&&n[Do]||((n=e[t.main]={})[Do]=!0);return n})(i))[i.sub]=t}}else e[i.main]&&console.warn(i.main+\" exists.\"),e[i.main]=t}return t},t.getClass=function(t,n,r){var i=e[t];if(i&&i[Do]&&(i=n?i[n]:null),r&&!i)throw new Error(n?\"Component \"+t+\".\"+(n||\"\")+\" is used but not imported.\":t+\".type should be specified.\");return i},t.getClassesByMainType=function(t){var n=Lo(t),r=[],i=e[n.main];return i&&i[Do]?B(i,function(t,e){e!==Do&&r.push(t)}):r.push(i),r},t.hasClass=function(t){var n=Lo(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return B(e,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){var n=Lo(t),r=e[n.main];return r&&r[Do]}}function Bo(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,r,i){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(r&&R(r,s)>=0||i&&R(i,s)<0)){var l=n.getShallow(s,e);null!=l&&(o[t[a][0]]=l)}}return o}}var zo=Bo([[\"fill\",\"color\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"opacity\"],[\"shadowColor\"]]),Vo=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return zo(this,t,e)},t}(),Fo=new Bn(50);function Ho(t){if(\"string\"==typeof t){var e=Fo.get(t);return e&&e.image}return t}function Wo(t,e,n,r,i){if(t){if(\"string\"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Fo.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!Uo(e=o.image)&&o.pending.push(a):((e=p.loadImage(t,Go,Go)).__zrImageSrc=t,Fo.put(t,e.__cachedImgObj={image:e,pending:[a]})),e}return t}return e}function Go(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Uo(t){return t&&t.width&&t.height}var Xo=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;function Yo(t,e,n,r,i){if(!e)return\"\";var o=(t+\"\").split(\"\\n\");i=qo(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=jo(o[a],i);return o.join(\"\\n\")}function qo(t,e,n,r){var i=L({},r=r||{});i.font=e,n=it(n,\"...\"),i.maxIterations=it(r.maxIterations,2);var o=i.minChar=it(r.minChar,0);i.cnCharWidth=oi(\"国\",e);var a=i.ascCharWidth=oi(\"a\",e);i.placeholder=it(r.placeholder,\"\");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var u=oi(n,e);return u>s&&(n=\"\",u=0),s=t-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=t,i}function jo(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return\"\";var o=oi(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?Zo(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=oi(t=t.substr(0,s),r)}return\"\"===t&&(t=e.placeholder),t}function Zo(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}var Ko=function(){return function(){}}(),$o=function(){return function(t){this.tokens=[],t&&(this.tokens=t)}}(),Qo=function(){return function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}}();function Jo(t,e,n,r,i){var o,a,s=\"\"===e,l=i&&n.rich[i]||{},u=t.lines,h=l.font||n.font,c=!1;if(r){var p=l.padding,d=p?p[1]+p[3]:0;if(null!=l.width&&\"auto\"!==l.width){var f=ci(l.width,r.width)+d;u.length>0&&f+r.accumWidth>r.width&&(o=e.split(\"\\n\"),c=!0),r.accumWidth=f}else{var g=na(e,h,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+d,a=g.linesWidths,o=g.lines}}else o=e.split(\"\\n\");for(var y=0;y<o.length;y++){var v=o[y],m=new Ko;if(m.styleName=i,m.text=v,m.isLineHolder=!v&&!s,\"number\"==typeof l.width?m.width=l.width:m.width=a?a[y]:oi(v,h),y||c)u.push(new $o([m]));else{var _=(u[u.length-1]||(u[0]=new $o)).tokens,x=_.length;1===x&&_[0].isLineHolder?_[0]=m:(v||!x||s)&&_.push(m)}}}var ta=V(\",&?/;] \".split(\"\"),function(t,e){return t[e]=!0,t},{});function ea(t){return!function(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(t)||!!ta[t]}function na(t,e,n,r,i){for(var o=[],a=[],s=\"\",l=\"\",u=0,h=0,c=0;c<t.length;c++){var p=t.charAt(c);if(\"\\n\"!==p){var d=oi(p,e),f=!r&&!ea(p);(o.length?h+d>n:i+h+d>n)?h?(s||l)&&(f?(s||(s=l,l=\"\",h=u=0),o.push(s),a.push(h-u),l+=p,s=\"\",h=u+=d):(l&&(s+=l,l=\"\",u=0),o.push(s),a.push(h),s=p,h=d)):f?(o.push(l),a.push(u),l=p,u=d):(o.push(p),a.push(d)):(h+=d,f?(l+=p,u+=d):(l&&(s+=l,l=\"\",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s=\"\",l=\"\",u=0,h=0}return o.length||s||(s=t,l=\"\",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=i),{accumWidth:h,lines:o,linesWidths:a}}var ra=\"__zr_style_\"+Math.round(10*Math.random()),ia={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:\"#000\",opacity:1,blend:\"source-over\"},oa={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ia[ra]=!0;var aa=[\"z\",\"z2\",\"invisible\"],sa=[\"invisible\"],la=function(t){function e(e){return t.call(this,e)||this}var r;return n(e,t),e.prototype._init=function(e){for(var n=H(e),r=0;r<n.length;r++){var i=n[r];\"style\"===i?this.useStyle(e[i]):t.prototype.attrKV.call(this,i,e[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){ua.copy(t.getBoundingRect()),t.transform&&ua.applyTransform(t.transform);return ha.width=e,ha.height=n,!ua.intersect(ha)}(this,t,e)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(r&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,o=r.shadowOffsetX||0,a=r.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Oe(0,0,0,0)),e?Oe.applyTransform(t,n,e):t.copy(n),(i||o||a)&&(t.width+=2*i+Math.abs(o),t.height+=2*i+Math.abs(a),t.x=Math.min(t.x,t.x+o-i),t.y=Math.min(t.y,t.y+a-i));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Oe(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate(\"style\",t)},e.prototype.updateDuringAnimation=function(t){\"style\"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){\"style\"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return\"string\"==typeof t?this.style[t]=e:L(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return mt(ia,t)},e.prototype.useStyle=function(t){t[ra]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[ra]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,aa)},e.prototype._applyStateObj=function(e,n,r,i,o,a){t.prototype._applyStateObj.call(this,e,n,r,i,o,a);var s,l=!(n&&i);if(n&&n.style?o?i?s=n.style:(s=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(s,n.style)):l&&(s=r.style),s)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=H(u),c=0;c<h.length;c++){(d=h[c])in s&&(s[d]=s[d],this.style[d]=u[d])}var p=H(s);for(c=0;c<p.length;c++){var d=p[c];this.style[d]=this.style[d]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var f=this.__inHover?sa:aa;for(c=0;c<f.length;c++){d=f[c];n&&null!=n[d]?this[d]=n[d]:l&&null!=r[d]&&(this[d]=r[d])}},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(r.style=n),r},e.prototype._mergeStyle=function(t,e){return L(t,e),t},e.prototype.getAnimationStyleProps=function(){return oa},e.initDefaultProps=((r=e.prototype).type=\"displayable\",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor=\"pointer\",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,void(r.__dirty=2|Je)),e}(vi),ua=new Oe(0,0,0,0),ha=new Oe(0,0,0,0);var ca=Math.min,pa=Math.max,da=Math.sin,fa=Math.cos,ga=2*Math.PI,ya=Mt(),va=Mt(),ma=Mt();function _a(t,e,n,r,i,o){i[0]=ca(t,n),i[1]=ca(e,r),o[0]=pa(t,n),o[1]=pa(e,r)}var xa=[],wa=[];function ba(t,e,n,r,i,o,a,s,l,u){var h=bn,c=_n,p=h(t,n,i,a,xa);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<p;d++){var f=c(t,n,i,a,xa[d]);l[0]=ca(f,l[0]),u[0]=pa(f,u[0])}p=h(e,r,o,s,wa);for(d=0;d<p;d++){var g=c(e,r,o,s,wa[d]);l[1]=ca(g,l[1]),u[1]=pa(g,u[1])}l[0]=ca(t,l[0]),u[0]=pa(t,u[0]),l[0]=ca(a,l[0]),u[0]=pa(a,u[0]),l[1]=ca(e,l[1]),u[1]=pa(e,u[1]),l[1]=ca(s,l[1]),u[1]=pa(s,u[1])}function Sa(t,e,n,r,i,o,a,s){var l=Dn,u=Tn,h=pa(ca(l(t,n,i),1),0),c=pa(ca(l(e,r,o),1),0),p=u(t,n,i,h),d=u(e,r,o,c);a[0]=ca(t,i,p),a[1]=ca(e,o,d),s[0]=pa(t,i,p),s[1]=pa(e,o,d)}function Ma(t,e,n,r,i,o,a,s,l){var u=Gt,h=Ut,c=Math.abs(i-o);if(c%ga<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-r,l[0]=t+n,void(l[1]=e+r);if(ya[0]=fa(i)*n+t,ya[1]=da(i)*r+e,va[0]=fa(o)*n+t,va[1]=da(o)*r+e,u(s,ya,va),h(l,ya,va),(i%=ga)<0&&(i+=ga),(o%=ga)<0&&(o+=ga),i>o&&!a?o+=ga:i<o&&a&&(i+=ga),a){var p=o;o=i,i=p}for(var d=0;d<o;d+=Math.PI/2)d>i&&(ma[0]=fa(d)*n+t,ma[1]=da(d)*r+e,u(s,ma,s),h(l,ma,l))}var Ia={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ta=[],Ca=[],Da=[],ka=[],La=[],Aa=[],Pa=Math.min,Ra=Math.max,Oa=Math.cos,Na=Math.sin,Ea=Math.abs,Ba=Math.PI,za=2*Ba,Va=\"undefined\"!=typeof Float32Array,Fa=[];function Ha(t){return Math.round(t/Ba*1e8)/1e8%2*Ba}var Wa=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=Ea(n/qr/t)||0,this._uy=Ea(n/qr/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Ia.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=Ea(t-this._xi),r=Ea(e-this._yi),i=n>this._ux||r>this._uy;if(this.addData(Ia.L,t,e),this._ctx&&i&&this._ctx.lineTo(t,e),i)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._drawPendingPt(),this.addData(Ia.C,t,e,n,r,i,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,i,o),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(Ia.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},t.prototype.arc=function(t,e,n,r,i,o){this._drawPendingPt(),Fa[0]=r,Fa[1]=i,function(t,e){var n=Ha(t[0]);n<0&&(n+=za);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=za?i=n+za:e&&n-i>=za?i=n-za:!e&&n>i?i=n+(za-Ha(n-i)):e&&n<i&&(i=n-(za-Ha(i-n))),t[0]=n,t[1]=i}(Fa,o),r=Fa[0];var a=(i=Fa[1])-r;return this.addData(Ia.A,t,e,n,n,r,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=Oa(i)*n+t,this._yi=Na(i)*n+e,this},t.prototype.arcTo=function(t,e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},t.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(Ia.R,t,e,n,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ia.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Va||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();Va&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},t.prototype.addData=function(t,e,n,r,i,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Va&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){Da[0]=Da[1]=La[0]=La[1]=Number.MAX_VALUE,ka[0]=ka[1]=Aa[0]=Aa[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,r=0,i=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(i=n=e[t],o=r=e[t+1]),a){case Ia.M:n=i=e[t++],r=o=e[t++],La[0]=i,La[1]=o,Aa[0]=i,Aa[1]=o;break;case Ia.L:_a(n,r,e[t],e[t+1],La,Aa),n=e[t++],r=e[t++];break;case Ia.C:ba(n,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],La,Aa),n=e[t++],r=e[t++];break;case Ia.Q:Sa(n,r,e[t++],e[t++],e[t],e[t+1],La,Aa),n=e[t++],r=e[t++];break;case Ia.A:var l=e[t++],u=e[t++],h=e[t++],c=e[t++],p=e[t++],d=e[t++]+p;t+=1;var f=!e[t++];s&&(i=Oa(p)*h+l,o=Na(p)*c+u),Ma(l,u,h,c,p,d,f,La,Aa),n=Oa(d)*h+l,r=Na(d)*c+u;break;case Ia.R:_a(i=n=e[t++],o=r=e[t++],i+e[t++],o+e[t++],La,Aa);break;case Ia.Z:n=i,r=o}Gt(Da,Da,La),Ut(ka,ka,Aa)}return 0===t&&(Da[0]=Da[1]=ka[0]=ka[1]=0),new Oe(Da[0],Da[1],ka[0]-Da[0],ka[1]-Da[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,i=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,h=0,c=0;c<e;){var p=t[c++],d=1===c;d&&(a=i=t[c],s=o=t[c+1]);var f=-1;switch(p){case Ia.M:i=a=t[c++],o=s=t[c++];break;case Ia.L:var g=t[c++],y=(_=t[c++])-o;(Ea(k=g-i)>n||Ea(y)>r||c===e-1)&&(f=Math.sqrt(k*k+y*y),i=g,o=_);break;case Ia.C:var v=t[c++],m=t[c++],_=(g=t[c++],t[c++]),x=t[c++],w=t[c++];f=In(i,o,v,m,g,_,x,w,10),i=x,o=w;break;case Ia.Q:f=An(i,o,v=t[c++],m=t[c++],g=t[c++],_=t[c++],10),i=g,o=_;break;case Ia.A:var b=t[c++],S=t[c++],M=t[c++],I=t[c++],T=t[c++],C=t[c++],D=C+T;c+=1,t[c++],d&&(a=Oa(T)*M+b,s=Na(T)*I+S),f=Ra(M,I)*Pa(za,Math.abs(C)),i=Oa(D)*M+b,o=Na(D)*I+S;break;case Ia.R:a=i=t[c++],s=o=t[c++],f=2*t[c++]+2*t[c++];break;case Ia.Z:var k=a-i;y=s-o;f=Math.sqrt(k*k+y*y),i=a,o=s}f>=0&&(l[h++]=f,u+=f)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var n,r,i,o,a,s,l,u,h,c,p=this.data,d=this._ux,f=this._uy,g=this._len,y=e<1,v=0,m=0,_=0;if(!y||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var x=0;x<g;){var w=p[x++],b=1===x;switch(b&&(n=i=p[x],r=o=p[x+1]),w!==Ia.L&&_>0&&(t.lineTo(h,c),_=0),w){case Ia.M:n=i=p[x++],r=o=p[x++],t.moveTo(i,o);break;case Ia.L:a=p[x++],s=p[x++];var S=Ea(a-i),M=Ea(s-o);if(S>d||M>f){if(y){if(v+(j=l[m++])>u){var I=(u-v)/j;t.lineTo(i*(1-I)+a*I,o*(1-I)+s*I);break t}v+=j}t.lineTo(a,s),i=a,o=s,_=0}else{var T=S*S+M*M;T>_&&(h=a,c=s,_=T)}break;case Ia.C:var C=p[x++],D=p[x++],k=p[x++],L=p[x++],A=p[x++],P=p[x++];if(y){if(v+(j=l[m++])>u){Sn(i,C,k,A,I=(u-v)/j,Ta),Sn(o,D,L,P,I,Ca),t.bezierCurveTo(Ta[1],Ca[1],Ta[2],Ca[2],Ta[3],Ca[3]);break t}v+=j}t.bezierCurveTo(C,D,k,L,A,P),i=A,o=P;break;case Ia.Q:C=p[x++],D=p[x++],k=p[x++],L=p[x++];if(y){if(v+(j=l[m++])>u){kn(i,C,k,I=(u-v)/j,Ta),kn(o,D,L,I,Ca),t.quadraticCurveTo(Ta[1],Ca[1],Ta[2],Ca[2]);break t}v+=j}t.quadraticCurveTo(C,D,k,L),i=k,o=L;break;case Ia.A:var R=p[x++],O=p[x++],N=p[x++],E=p[x++],B=p[x++],z=p[x++],V=p[x++],F=!p[x++],H=N>E?N:E,W=Ea(N-E)>.001,G=B+z,U=!1;if(y)v+(j=l[m++])>u&&(G=B+z*(u-v)/j,U=!0),v+=j;if(W&&t.ellipse?t.ellipse(R,O,N,E,V,B,G,F):t.arc(R,O,H,B,G,F),U)break t;b&&(n=Oa(B)*N+R,r=Na(B)*E+O),i=Oa(G)*N+R,o=Na(G)*E+O;break;case Ia.R:n=i=p[x],r=o=p[x+1],a=p[x++],s=p[x++];var X=p[x++],Y=p[x++];if(y){if(v+(j=l[m++])>u){var q=u-v;t.moveTo(a,s),t.lineTo(a+Pa(q,X),s),(q-=X)>0&&t.lineTo(a+X,s+Pa(q,Y)),(q-=Y)>0&&t.lineTo(a+Ra(X-q,0),s+Y),(q-=X)>0&&t.lineTo(a,s+Ra(Y-q,0));break t}v+=j}t.rect(a,s,X,Y);break;case Ia.Z:if(y){var j;if(v+(j=l[m++])>u){I=(u-v)/j;t.lineTo(i*(1-I)+n*I,o*(1-I)+r*I);break t}v+=j}t.closePath(),i=n,o=r}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=Ia,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}();function Ga(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,l=0;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}function Ua(t,e,n,r,i,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>r+c&&h>o+c&&h>s+c||h<e-c&&h<r-c&&h<o-c&&h<s-c||u>t+c&&u>n+c&&u>i+c&&u>a+c||u<t-c&&u<n-c&&u<i-c&&u<a-c)&&Mn(t,e,n,r,i,o,a,s,u,h,null)<=c/2}function Xa(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>r+u&&l>o+u||l<e-u&&l<r-u&&l<o-u||s>t+u&&s>n+u&&s>i+u||s<t-u&&s<n-u&&s<i-u)&&Ln(t,e,n,r,i,o,s,l,null)<=u/2}var Ya=2*Math.PI;function qa(t){return(t%=Ya)<0&&(t+=Ya),t}var ja=2*Math.PI;function Za(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(r-i)%ja<1e-4)return!0;if(o){var c=r;r=qa(i),i=qa(c)}else r=qa(r),i=qa(i);r>i&&(i+=ja);var p=Math.atan2(l,s);return p<0&&(p+=ja),p>=r&&p<=i||p+ja>=r&&p+ja<=i}function Ka(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;1!==a&&0!==a||(s=r<e?.5:-.5);var l=a*(n-t)+t;return l===i?1/0:l>i?s:0}var $a=Wa.CMD,Qa=2*Math.PI,Ja=1e-4;var ts=[-1,-1,-1],es=[-1,-1];function ns(t,e,n,r,i,o,a,s,l,u){if(u>e&&u>r&&u>o&&u>s||u<e&&u<r&&u<o&&u<s)return 0;var h,c=wn(e,r,o,s,u,ts);if(0===c)return 0;for(var p=0,d=-1,f=void 0,g=void 0,y=0;y<c;y++){var v=ts[y],m=0===v||1===v?.5:1;_n(t,n,i,a,v)<l||(d<0&&(d=bn(e,r,o,s,es),es[1]<es[0]&&d>1&&(void 0,h=es[0],es[0]=es[1],es[1]=h),f=_n(e,r,o,s,es[0]),d>1&&(g=_n(e,r,o,s,es[1]))),2===d?v<es[0]?p+=f<e?m:-m:v<es[1]?p+=g<f?m:-m:p+=s<g?m:-m:v<es[0]?p+=f<e?m:-m:p+=s<f?m:-m)}return p}function rs(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var l=function(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,l=0;if(vn(o))mn(a)&&(h=-s/a)>=0&&h<=1&&(i[l++]=h);else{var u=a*a-4*o*s;if(vn(u))(h=-a/(2*o))>=0&&h<=1&&(i[l++]=h);else if(u>0){var h,c=un(u),p=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(i[l++]=h),p>=0&&p<=1&&(i[l++]=p)}}return l}(e,r,o,s,ts);if(0===l)return 0;var u=Dn(e,r,o);if(u>=0&&u<=1){for(var h=0,c=Tn(e,r,o,u),p=0;p<l;p++){var d=0===ts[p]||1===ts[p]?.5:1;Tn(t,n,i,ts[p])<a||(ts[p]<u?h+=c<e?d:-d:h+=o<c?d:-d)}return h}d=0===ts[0]||1===ts[0]?.5:1;return Tn(t,n,i,ts[0])<a?0:o<e?d:-d}function is(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);ts[0]=-l,ts[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=Qa-1e-4){r=0,i=Qa;var h=o?1:-1;return a>=ts[0]+t&&a<=ts[1]+t?h:0}if(r>i){var c=r;r=i,i=c}r<0&&(r+=Qa,i+=Qa);for(var p=0,d=0;d<2;d++){var f=ts[d];if(f+t>a){var g=Math.atan2(s,f);h=o?1:-1;g<0&&(g=Qa+g),(g>=r&&g<=i||g+Qa>=r&&g+Qa<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),p+=h)}}return p}function os(t,e,n,r,i){for(var o,a,s,l,u=t.data,h=t.len(),c=0,p=0,d=0,f=0,g=0,y=0;y<h;){var v=u[y++],m=1===y;switch(v===$a.M&&y>1&&(n||(c+=Ka(p,d,f,g,r,i))),m&&(f=p=u[y],g=d=u[y+1]),v){case $a.M:p=f=u[y++],d=g=u[y++];break;case $a.L:if(n){if(Ga(p,d,u[y],u[y+1],e,r,i))return!0}else c+=Ka(p,d,u[y],u[y+1],r,i)||0;p=u[y++],d=u[y++];break;case $a.C:if(n){if(Ua(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],e,r,i))return!0}else c+=ns(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],r,i)||0;p=u[y++],d=u[y++];break;case $a.Q:if(n){if(Xa(p,d,u[y++],u[y++],u[y],u[y+1],e,r,i))return!0}else c+=rs(p,d,u[y++],u[y++],u[y],u[y+1],r,i)||0;p=u[y++],d=u[y++];break;case $a.A:var _=u[y++],x=u[y++],w=u[y++],b=u[y++],S=u[y++],M=u[y++];y+=1;var I=!!(1-u[y++]);o=Math.cos(S)*w+_,a=Math.sin(S)*b+x,m?(f=o,g=a):c+=Ka(p,d,o,a,r,i);var T=(r-_)*b/w+_;if(n){if(Za(_,x,b,S,S+M,I,e,T,i))return!0}else c+=is(_,x,b,S,S+M,I,T,i);p=Math.cos(S+M)*w+_,d=Math.sin(S+M)*b+x;break;case $a.R:if(f=p=u[y++],g=d=u[y++],o=f+u[y++],a=g+u[y++],n){if(Ga(f,g,o,g,e,r,i)||Ga(o,g,o,a,e,r,i)||Ga(o,a,f,a,e,r,i)||Ga(f,a,f,g,e,r,i))return!0}else c+=Ka(o,g,o,a,r,i),c+=Ka(f,a,f,g,r,i);break;case $a.Z:if(n){if(Ga(p,d,f,g,e,r,i))return!0}else c+=Ka(p,d,f,g,r,i);p=f,d=g}}return n||(s=d,l=g,Math.abs(s-l)<Ja)||(c+=Ka(p,d,f,g,r,i)||0),0!==c}var as=A({fill:\"#000\",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:\"butt\",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ia),ss={style:A({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},oa.style)},ls=ri.concat([\"invisible\",\"culling\",\"z\",\"z2\",\"zlevel\",\"parent\"]),us=function(t){function e(e){return t.call(this,e)||this}var r;return n(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(t){n.buildPath(t,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<ls.length;++s)i[ls[s]]=this[ls[s]];i.__dirty|=Je}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=H(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var o=n[i],a=e[o];\"style\"===o?this.style?L(this.style,a):this.useStyle(a):\"shape\"===o?L(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(\"none\"!==t){if(Y(t)){var e=ar(t,0);return e>.5?\"#333\":e>.2?\"#eee\":\"#ccc\"}if(t)return\"#ccc\"}return\"#333\"},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Y(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===ar(t,0)<jr)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~tn},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Wa(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||\"none\"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&\"none\"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var i=this.path;(r||this.__dirty&tn)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,r){return os(t,e,!0,n,r)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return os(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=tn,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate(\"shape\",t)},e.prototype.updateDuringAnimation=function(t){\"style\"===t?this.dirtyStyle():\"shape\"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){\"shape\"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),\"string\"==typeof t?n[t]=e:L(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&tn)},e.prototype.createStyle=function(t){return mt(as,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=L({},this.shape))},e.prototype._applyStateObj=function(e,n,r,i,o,a){t.prototype._applyStateObj.call(this,e,n,r,i,o,a);var s,l=!(n&&i);if(n&&n.shape?o?i?s=n.shape:L(s=L({},r.shape),n.shape):L(s=L({},i?this.shape:r.shape),n.shape):l&&(s=r.shape),s)if(o){this.shape=L({},this.shape);for(var u={},h=H(s),c=0;c<h.length;c++){var p=h[c];\"object\"==typeof s[p]?this.shape[p]=s[p]:u[p]=s[p]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(r.shape=n),r},e.prototype.getAnimationStyleProps=function(){return ss},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(e){function r(n){var r=e.call(this,n)||this;return t.init&&t.init.call(r,n),r}return n(r,e),r.prototype.getDefaultStyle=function(){return D(t.style)},r.prototype.getDefaultShape=function(){return D(t.shape)},r}(e);for(var i in t)\"function\"==typeof t[i]&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=((r=e.prototype).type=\"path\",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,void(r.__dirty=2|Je|tn)),e}(la),hs=A({strokeFirst:!0,font:a,x:0,y:0,textAlign:\"left\",textBaseline:\"top\",miterLimit:2},as),cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&\"none\"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&\"none\"!==t},e.prototype.createStyle=function(t){return mt(hs,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+=\"\":e=\"\";var n=si(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(la);cs.prototype.type=\"tspan\";var ps=A({x:0,y:0},ia),ds={style:A({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},oa.style)};var fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.createStyle=function(t){return mt(ps,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var r,i=(r=e.image)&&\"string\"!=typeof r&&r.width&&r.height?e.image:this.__image;if(!i)return 0;var o=\"width\"===t?\"height\":\"width\",a=e[o];return null==a?i[t]:i[t]/i[o]*a},e.prototype.getWidth=function(){return this._getSize(\"width\")},e.prototype.getHeight=function(){return this._getSize(\"height\")},e.prototype.getAnimationStyleProps=function(){return ds},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Oe(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(la);fs.prototype.type=\"image\";var gs=Math.round;function ys(t,e,n){if(!e)return t;var r=gs(2*t);return(r+gs(e))%2==0?r/2:(r+(n?1:-1))/2}var vs=function(){return function(){this.x=0,this.y=0,this.width=0,this.height=0}}(),ms={},_s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new vs},e.prototype.buildPath=function(t,e){var n,r,i,o;if(this.subPixelOptimize){var a=function(t,e,n){if(e){var r=e.x,i=e.y,o=e.width,a=e.height;t.x=r,t.y=i,t.width=o,t.height=a;var s=n&&n.lineWidth;return s?(t.x=ys(r,s,!0),t.y=ys(i,s,!0),t.width=Math.max(ys(r+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(ys(i+a,s,!1)-t.y,0===a?0:1),t):t}}(ms,e,this.style);n=a.x,r=a.y,i=a.width,o=a.height,a.r=e.r,e=a}else n=e.x,r=e.y,i=e.width,o=e.height;e.r?function(t,e){var n,r,i,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),\"number\"==typeof c?n=r=i=o=c:c instanceof Array?1===c.length?n=r=i=o=c[0]:2===c.length?(n=i=c[0],r=o=c[1]):3===c.length?(n=c[0],r=o=c[1],i=c[2]):(n=c[0],r=c[1],i=c[2],o=c[3]):n=r=i=o=0,n+r>u&&(n*=u/(a=n+r),r*=u/a),i+o>u&&(i*=u/(a=i+o),o*=u/a),r+i>h&&(r*=h/(a=r+i),i*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+u-r,l),0!==r&&t.arc(s+u-r,l+r,r,-Math.PI/2,0),t.lineTo(s+u,l+h-i),0!==i&&t.arc(s+u-i,l+h-i,i,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,r,i,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(us);_s.prototype.type=\"rect\";var xs={fill:\"#000\"},ws={style:A({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},oa.style)},bs=function(t){function e(e){var n=t.call(this)||this;return n.type=\"text\",n._children=[],n._defaultStyle=xs,n.attr(e),n}return n(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,Cs(t=this.style),B(t.rich,Cs),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Oe(0,0,0,0),e=this._children,n=[],r=null,i=0;i<e.length;i++){var o=e[i],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(r=r||t.clone()).union(t)):(r=r||a.clone()).union(a)}this._rect=r||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||xs},e.prototype.setTextContent=function(t){throw new Error(\"Can't attach text on another text\")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,r=t.rich||n&&{};return L(t,e),n&&r?(this._mergeRich(r,n),t.rich=r):r&&(t.rich=r),t},e.prototype._mergeRich=function(t,e){for(var n=H(e),r=0;r<n.length;r++){var i=n[r];t[i]=t[i]||{},L(t[i],e[i])}},e.prototype.getAnimationStyleProps=function(){return ws},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||a,n=t.padding,r=function(t,e){null!=t&&(t+=\"\");var n,r=e.overflow,i=e.padding,o=e.font,a=\"truncate\"===r,s=hi(o),l=it(e.lineHeight,s),u=!!e.backgroundColor,h=\"truncate\"===e.lineOverflow,c=e.width,p=(n=null==c||\"break\"!==r&&\"breakAll\"!==r?t?t.split(\"\\n\"):[]:t?na(t,e.font,c,\"breakAll\"===r,0).lines:[]).length*l,d=it(e.height,p);if(p>d&&h){var f=Math.floor(d/l);n=n.slice(0,f)}if(t&&a&&null!=c)for(var g=qo(c,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y=0;y<n.length;y++)n[y]=jo(n[y],g);var v=d,m=0;for(y=0;y<n.length;y++)m=Math.max(oi(n[y],o),m);null==c&&(c=m);var _=m;return i&&(v+=i[0]+i[2],_+=i[1]+i[3],c+=i[1]+i[3]),u&&(_=c),{lines:n,height:d,outerWidth:_,outerHeight:v,lineHeight:l,calculatedLineHeight:s,contentWidth:m,contentHeight:p,width:c}}(As(t),t),i=Ps(t),o=!!t.backgroundColor,s=r.outerHeight,l=r.outerWidth,u=r.contentWidth,h=r.lines,c=r.lineHeight,p=this._defaultStyle,d=t.x||0,f=t.y||0,g=t.align||p.align||\"left\",y=t.verticalAlign||p.verticalAlign||\"top\",v=d,m=ui(f,r.contentHeight,y);if(i||n){var _=li(d,l,g),x=ui(f,s,y);i&&this._renderBackground(t,t,_,x,l,s)}m+=c/2,n&&(v=Ls(d,g,n),\"top\"===y?m+=n[0]:\"bottom\"===y&&(m-=n[2]));for(var w=0,b=!1,S=(ks(\"fill\"in t?t.fill:(b=!0,p.fill))),M=(Ds(\"stroke\"in t?t.stroke:o||p.autoStroke&&!b?null:(w=2,p.stroke))),I=t.textShadowBlur>0,T=null!=t.width&&(\"truncate\"===t.overflow||\"break\"===t.overflow||\"breakAll\"===t.overflow),C=r.calculatedLineHeight,D=0;D<h.length;D++){var k=this._getOrCreateChild(cs),L=k.createStyle();k.useStyle(L),L.text=h[D],L.x=v,L.y=m,g&&(L.textAlign=g),L.textBaseline=\"middle\",L.opacity=t.opacity,L.strokeFirst=!0,I&&(L.shadowBlur=t.textShadowBlur||0,L.shadowColor=t.textShadowColor||\"transparent\",L.shadowOffsetX=t.textShadowOffsetX||0,L.shadowOffsetY=t.textShadowOffsetY||0),L.stroke=M,L.fill=S,M&&(L.lineWidth=t.lineWidth||w,L.lineDash=t.lineDash,L.lineDashOffset=t.lineDashOffset||0),L.font=e,Ts(L,t),m+=c,T&&k.setBoundingRect(new Oe(li(L.x,t.width,L.textAlign),ui(L.y,C,L.textBaseline),u,C))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new Qo;if(null!=t&&(t+=\"\"),!t)return n;for(var r,i=e.width,o=e.height,a=e.overflow,s=\"break\"!==a&&\"breakAll\"!==a||null==i?null:{width:i,accumWidth:0,breakAll:\"breakAll\"===a},l=Xo.lastIndex=0;null!=(r=Xo.exec(t));){var u=r.index;u>l&&Jo(n,t.substring(l,u),e,s),Jo(n,r[2],e,s,r[1]),l=Xo.lastIndex}l<t.length&&Jo(n,t.substring(l,t.length),e,s);var h=[],c=0,p=0,d=e.padding,f=\"truncate\"===a,g=\"truncate\"===e.lineOverflow;function y(t,e,n){t.width=e,t.lineHeight=n,c+=n,p=Math.max(p,e)}t:for(var v=0;v<n.lines.length;v++){for(var m=n.lines[v],_=0,x=0,w=0;w<m.tokens.length;w++){var b=(P=m.tokens[w]).styleName&&e.rich[P.styleName]||{},S=P.textPadding=b.padding,M=S?S[1]+S[3]:0,I=P.font=b.font||e.font;P.contentHeight=hi(I);var T=it(b.height,P.contentHeight);if(P.innerHeight=T,S&&(T+=S[0]+S[2]),P.height=T,P.lineHeight=ot(b.lineHeight,e.lineHeight,T),P.align=b&&b.align||e.align,P.verticalAlign=b&&b.verticalAlign||\"middle\",g&&null!=o&&c+P.lineHeight>o){w>0?(m.tokens=m.tokens.slice(0,w),y(m,x,_),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break t}var C=b.width,D=null==C||\"auto\"===C;if(\"string\"==typeof C&&\"%\"===C.charAt(C.length-1))P.percentWidth=C,h.push(P),P.contentWidth=oi(P.text,I);else{if(D){var k=b.backgroundColor,L=k&&k.image;L&&Uo(L=Ho(L))&&(P.width=Math.max(P.width,L.width*T/L.height))}var A=f&&null!=i?i-x:null;null!=A&&A<P.width?!D||A<M?(P.text=\"\",P.width=P.contentWidth=0):(P.text=Yo(P.text,A-M,I,e.ellipsis,{minChar:e.truncateMinChar}),P.width=P.contentWidth=oi(P.text,I)):P.contentWidth=oi(P.text,I)}P.width+=M,x+=P.width,b&&(_=Math.max(_,P.lineHeight))}y(m,x,_)}for(n.outerWidth=n.width=it(i,p),n.outerHeight=n.height=it(o,c),n.contentHeight=c,n.contentWidth=p,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]),v=0;v<h.length;v++){var P,R=(P=h[v]).percentWidth;P.width=parseInt(R,10)/100*n.width}return n}(As(t),t),n=e.width,r=e.outerWidth,i=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,h=t.verticalAlign||l.verticalAlign,c=li(a,r,u),p=ui(s,i,h),d=c,f=p;o&&(d+=o[3],f+=o[0]);var g=d+n;Ps(t)&&this._renderBackground(t,t,c,p,r,i);for(var y=!!t.backgroundColor,v=0;v<e.lines.length;v++){for(var m=e.lines[v],_=m.tokens,x=_.length,w=m.lineHeight,b=m.width,S=0,M=d,I=g,T=x-1,C=void 0;S<x&&(!(C=_[S]).align||\"left\"===C.align);)this._placeToken(C,t,w,f,M,\"left\",y),b-=C.width,M+=C.width,S++;for(;T>=0&&\"right\"===(C=_[T]).align;)this._placeToken(C,t,w,f,I,\"right\",y),b-=C.width,I-=C.width,T--;for(M+=(n-(M-d)-(g-I)-b)/2;S<=T;)C=_[S],this._placeToken(C,t,w,f,M+C.width/2,\"center\",y),M+=C.width,S++;f+=w}},e.prototype._placeToken=function(t,e,n,r,i,o,s){var l=e.rich[t.styleName]||{};l.text=t.text;var u=t.verticalAlign,h=r+n/2;\"top\"===u?h=r+t.height/2:\"bottom\"===u&&(h=r+n-t.height/2),!t.isLineHolder&&Ps(l)&&this._renderBackground(l,e,\"right\"===o?i-t.width:\"center\"===o?i-t.width/2:i,h-t.height/2,t.width,t.height);var c=!!l.backgroundColor,p=t.textPadding;p&&(i=Ls(i,o,p),h-=t.height/2-p[0]-t.innerHeight/2);var d=this._getOrCreateChild(cs),f=d.createStyle();d.useStyle(f);var g=this._defaultStyle,y=!1,v=0,m=ks(\"fill\"in l?l.fill:\"fill\"in e?e.fill:(y=!0,g.fill)),_=Ds(\"stroke\"in l?l.stroke:\"stroke\"in e?e.stroke:c||s||g.autoStroke&&!y?null:(v=2,g.stroke)),x=l.textShadowBlur>0||e.textShadowBlur>0;f.text=t.text,f.x=i,f.y=h,x&&(f.shadowBlur=l.textShadowBlur||e.textShadowBlur||0,f.shadowColor=l.textShadowColor||e.textShadowColor||\"transparent\",f.shadowOffsetX=l.textShadowOffsetX||e.textShadowOffsetX||0,f.shadowOffsetY=l.textShadowOffsetY||e.textShadowOffsetY||0),f.textAlign=o,f.textBaseline=\"middle\",f.font=t.font||a,f.opacity=ot(l.opacity,e.opacity,1),Ts(f,l),_&&(f.lineWidth=ot(l.lineWidth,e.lineWidth,v),f.lineDash=it(l.lineDash,e.lineDash),f.lineDashOffset=e.lineDashOffset||0,f.stroke=_),m&&(f.fill=m);var w=t.contentWidth,b=t.contentHeight;d.setBoundingRect(new Oe(li(f.x,w,f.textAlign),ui(f.y,b,f.textBaseline),w,b))},e.prototype._renderBackground=function(t,e,n,r,i,o){var a,s,l,u=t.backgroundColor,h=t.borderWidth,c=t.borderColor,p=u&&u.image,d=u&&!p,f=t.borderRadius,g=this;if(d||t.lineHeight||h&&c){(a=this._getOrCreateChild(_s)).useStyle(a.createStyle()),a.style.fill=null;var y=a.shape;y.x=n,y.y=r,y.width=i,y.height=o,y.r=f,a.dirtyShape()}if(d)(l=a.style).fill=u||null,l.fillOpacity=it(t.fillOpacity,1);else if(p){(s=this._getOrCreateChild(fs)).onload=function(){g.dirtyStyle()};var v=s.style;v.image=u.image,v.x=n,v.y=r,v.width=i,v.height=o}h&&c&&((l=a.style).lineWidth=h,l.stroke=c,l.strokeOpacity=it(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var m=(a||s).style;m.shadowBlur=t.shadowBlur||0,m.shadowColor=t.shadowColor||\"transparent\",m.shadowOffsetX=t.shadowOffsetX||0,m.shadowOffsetY=t.shadowOffsetY||0,m.opacity=ot(t.opacity,e.opacity,1)},e.makeFont=function(t){var e,n=\"\";return function(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}(t)&&(n=[t.fontStyle,t.fontWeight,(e=t.fontSize,\"string\"!=typeof e||-1===e.indexOf(\"px\")&&-1===e.indexOf(\"rem\")&&-1===e.indexOf(\"em\")?isNaN(+e)?o+\"px\":e+\"px\":e),t.fontFamily||\"sans-serif\"].join(\" \")),n&&ut(n)||t.textFont||t.font},e}(la),Ss={left:!0,right:1,center:1},Ms={top:1,bottom:1,middle:1},Is=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\"];function Ts(t,e){for(var n=0;n<Is.length;n++){var r=Is[n],i=e[r];null!=i&&(t[r]=i)}}function Cs(t){if(t){t.font=bs.makeFont(t);var e=t.align;\"middle\"===e&&(e=\"center\"),t.align=null==e||Ss[e]?e:\"left\";var n=t.verticalAlign;\"center\"===n&&(n=\"middle\"),t.verticalAlign=null==n||Ms[n]?n:\"top\",t.padding&&(t.padding=st(t.padding))}}function Ds(t,e){return null==t||e<=0||\"transparent\"===t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function ks(t){return null==t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function Ls(t,e,n){return\"right\"===e?t-n[1]:\"center\"===e?t+n[3]/2-n[1]/2:t+n[3]}function As(t){var e=t.text;return null!=e&&(e+=\"\"),e}function Ps(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Rs=xo(),Os=1,Ns={},Es=xo(),Bs=xo(),zs=0,Vs=1,Fs=2,Hs=[\"emphasis\",\"blur\",\"select\"],Ws=[\"normal\",\"emphasis\",\"blur\",\"select\"],Gs=10,Us=9,Xs=\"highlight\",Ys=\"downplay\",qs=\"select\",js=\"unselect\",Zs=\"toggleSelect\";function Ks(t){return null!=t&&\"none\"!==t}var $s=new Bn(100);function Qs(t){if(Y(t)){var e=$s.get(t);return e||(e=Qn(t,-.1),$s.put(t,e)),e}if(J(t)){var n=L({},t);return n.colorStops=z(t.colorStops,function(t){return{offset:t.offset,color:Qn(t.color,-.1)}}),n}return t}function Js(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function tl(t){Js(t,\"emphasis\",Fs)}function el(t){t.hoverState===Fs&&Js(t,\"normal\",zs)}function nl(t){Js(t,\"blur\",Vs)}function rl(t){t.hoverState===Vs&&Js(t,\"normal\",zs)}function il(t){t.selected=!0}function ol(t){t.selected=!1}function al(t,e,n){e(t,n)}function sl(t,e,n){al(t,e,n),t.isGroup&&t.traverse(function(t){al(t,e,n)})}function ll(t,e){var n=this.states[t];if(this.style){if(\"emphasis\"===t)return function(t,e,n,r){var i=n&&R(n,\"select\")>=0,o=!1;if(t instanceof us){var a=Es(t),s=i&&a.selectFill||a.normalFill,l=i&&a.selectStroke||a.normalStroke;if(Ks(s)||Ks(l)){var u=(r=r||{}).style||{};\"inherit\"===u.fill?(o=!0,r=L({},r),(u=L({},u)).fill=s):!Ks(u.fill)&&Ks(s)?(o=!0,r=L({},r),(u=L({},u)).fill=Qs(s)):!Ks(u.stroke)&&Ks(l)&&(o||(r=L({},r),u=L({},u)),u.stroke=Qs(l)),r.style=u}}if(r&&null==r.z2){o||(r=L({},r));var h=t.z2EmphasisLift;r.z2=t.z2+(null!=h?h:Gs)}return r}(this,0,e,n);if(\"blur\"===t)return function(t,e,n){var r=R(t.currentStates,e)>=0,i=t.style.opacity,o=r?null:function(t,e,n,r){for(var i=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=i[s];o[s]=null==l?r&&r[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&\"style\"===u.targetName&&u.saveTo(o,e)}return o}(t,[\"opacity\"],e,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=L({},n),a=L({opacity:r?i:.1*o.opacity},a),n.style=a),n}(this,t,n);if(\"select\"===t)return function(t,e,n){if(n&&null==n.z2){n=L({},n);var r=t.z2SelectLift;n.z2=t.z2+(null!=r?r:Us)}return n}(this,0,n)}return n}function ul(t){t.stateProxy=ll;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=ll),n&&(n.stateProxy=ll)}function hl(t,e){!vl(t,e)&&!t.__highByOuter&&sl(t,tl)}function cl(t,e){!vl(t,e)&&!t.__highByOuter&&sl(t,el)}function pl(t,e){t.__highByOuter|=1<<(e||0),sl(t,tl)}function dl(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&sl(t,el)}function fl(t){sl(t,rl)}function gl(t){sl(t,il)}function yl(t){sl(t,ol)}function vl(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function ml(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(e,i){var o=Bs(i),a=\"series\"===e,s=a?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);!a&&r.push(s),o.isBlured&&(s.group.traverse(function(t){rl(t)}),a&&n.push(i)),o.isBlured=!1}),B(r,function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)})}function _l(t,e,n,r){var i=r.getModel();function o(t,e){for(var n=0;n<e.length;n++){var r=t.getItemGraphicEl(e[n]);r&&fl(r)}}if(n=n||\"coordinateSystem\",null!=t&&e&&\"none\"!==e){var a=i.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(t){var i=a===t,u=t.coordinateSystem;if(u&&u.master&&(u=u.master),!(\"series\"===n&&!i||\"coordinateSystem\"===n&&!(u&&s?u===s:i)||\"series\"===e&&i)){if(r.getViewOfSeriesModel(t).group.traverse(function(t){t.__highByOuter&&i&&\"self\"===e||nl(t)}),E(e))o(t.getData(),e);else if(Z(e))for(var h=H(e),c=0;c<h.length;c++)o(t.getData(h[c]),e[h[c]]);l.push(t),Bs(t).isBlured=!0}}),i.eachComponent(function(t,e){if(\"series\"!==t){var n=r.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,i)}})}}function xl(t,e,n){if(null!=t&&null!=e){var r=n.getModel().getComponent(t,e);if(r){Bs(r).isBlured=!0;var i=n.getViewOfComponentModel(r);i&&i.focusBlurEnabled&&i.group.traverse(function(t){nl(t)})}}}function wl(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(null==t||\"series\"===t||null==e||null==n)return i;var o=r.getModel().getComponent(t,e);if(!o)return i;var a=r.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var s,l=a.findHighDownDispatchers(n),u=0;u<l.length;u++)if(Cl(l[u])||$i(\"param should be highDownDispatcher\"),\"self\"===Rs(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function bl(t){B(t.getAllData(),function(e){var n=e.data,r=e.type;n.eachItemGraphicEl(function(e,n){t.isSelected(n,r)?gl(e):yl(e)})})}function Sl(t,e,n){Tl(t,!0),sl(t,ul),Il(t,e,n)}function Ml(t,e,n,r){r?function(t){Tl(t,!1)}(t):Sl(t,e,n)}function Il(t,e,n){var r=Rs(t);null!=e?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}function Tl(t,e){var n=!1===e,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Cl(t){return!(!t||!t.__highDownDispatcher)}function Dl(t){var e=t.type;return e===qs||e===js||e===Zs}function kl(t){var e=t.type;return e===Xs||e===Ys}var Ll=Wa.CMD,Al=[[],[],[]],Pl=Math.sqrt,Rl=Math.atan2;var Ol=Math.sqrt,Nl=Math.sin,El=Math.cos,Bl=Math.PI;function zl(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Vl(t,e){return(t[0]*e[0]+t[1]*e[1])/(zl(t)*zl(e))}function Fl(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Vl(t,e))}function Hl(t,e,n,r,i,o,a,s,l,u,h){var c=l*(Bl/180),p=El(c)*(t-n)/2+Nl(c)*(e-r)/2,d=-1*Nl(c)*(t-n)/2+El(c)*(e-r)/2,f=p*p/(a*a)+d*d/(s*s);f>1&&(a*=Ol(f),s*=Ol(f));var g=(i===o?-1:1)*Ol((a*a*(s*s)-a*a*(d*d)-s*s*(p*p))/(a*a*(d*d)+s*s*(p*p)))||0,y=g*a*d/s,v=g*-s*p/a,m=(t+n)/2+El(c)*y-Nl(c)*v,_=(e+r)/2+Nl(c)*y+El(c)*v,x=Fl([1,0],[(p-y)/a,(d-v)/s]),w=[(p-y)/a,(d-v)/s],b=[(-1*p-y)/a,(-1*d-v)/s],S=Fl(w,b);if(Vl(w,b)<=-1&&(S=Bl),Vl(w,b)>=1&&(S=0),S<0){var M=Math.round(S/Bl*1e6)/1e6;S=2*Bl+M%2*Bl}h.addData(u,m,_,a,s,x,S,c,o)}var Wl=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Gl=/-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;var Ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.applyTransform=function(t){},e}(us);function Xl(t){return null!=t.setData}function Yl(t,e){var n=function(t){var e=new Wa;if(!t)return e;var n,r=0,i=0,o=r,a=i,s=Wa.CMD,l=t.match(Wl);if(!l)return e;for(var u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),p=void 0,d=h.match(Gl)||[],f=d.length,g=0;g<f;g++)d[g]=parseFloat(d[g]);for(var y=0;y<f;){var v=void 0,m=void 0,_=void 0,x=void 0,w=void 0,b=void 0,S=void 0,M=r,I=i,T=void 0,C=void 0;switch(c){case\"l\":r+=d[y++],i+=d[y++],p=s.L,e.addData(p,r,i);break;case\"L\":r=d[y++],i=d[y++],p=s.L,e.addData(p,r,i);break;case\"m\":r+=d[y++],i+=d[y++],p=s.M,e.addData(p,r,i),o=r,a=i,c=\"l\";break;case\"M\":r=d[y++],i=d[y++],p=s.M,e.addData(p,r,i),o=r,a=i,c=\"L\";break;case\"h\":r+=d[y++],p=s.L,e.addData(p,r,i);break;case\"H\":r=d[y++],p=s.L,e.addData(p,r,i);break;case\"v\":i+=d[y++],p=s.L,e.addData(p,r,i);break;case\"V\":i=d[y++],p=s.L,e.addData(p,r,i);break;case\"C\":p=s.C,e.addData(p,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),r=d[y-2],i=d[y-1];break;case\"c\":p=s.C,e.addData(p,d[y++]+r,d[y++]+i,d[y++]+r,d[y++]+i,d[y++]+r,d[y++]+i),r+=d[y-2],i+=d[y-1];break;case\"S\":v=r,m=i,T=e.len(),C=e.data,n===s.C&&(v+=r-C[T-4],m+=i-C[T-3]),p=s.C,M=d[y++],I=d[y++],r=d[y++],i=d[y++],e.addData(p,v,m,M,I,r,i);break;case\"s\":v=r,m=i,T=e.len(),C=e.data,n===s.C&&(v+=r-C[T-4],m+=i-C[T-3]),p=s.C,M=r+d[y++],I=i+d[y++],r+=d[y++],i+=d[y++],e.addData(p,v,m,M,I,r,i);break;case\"Q\":M=d[y++],I=d[y++],r=d[y++],i=d[y++],p=s.Q,e.addData(p,M,I,r,i);break;case\"q\":M=d[y++]+r,I=d[y++]+i,r+=d[y++],i+=d[y++],p=s.Q,e.addData(p,M,I,r,i);break;case\"T\":v=r,m=i,T=e.len(),C=e.data,n===s.Q&&(v+=r-C[T-4],m+=i-C[T-3]),r=d[y++],i=d[y++],p=s.Q,e.addData(p,v,m,r,i);break;case\"t\":v=r,m=i,T=e.len(),C=e.data,n===s.Q&&(v+=r-C[T-4],m+=i-C[T-3]),r+=d[y++],i+=d[y++],p=s.Q,e.addData(p,v,m,r,i);break;case\"A\":_=d[y++],x=d[y++],w=d[y++],b=d[y++],S=d[y++],Hl(M=r,I=i,r=d[y++],i=d[y++],b,S,_,x,w,p=s.A,e);break;case\"a\":_=d[y++],x=d[y++],w=d[y++],b=d[y++],S=d[y++],Hl(M=r,I=i,r+=d[y++],i+=d[y++],b,S,_,x,w,p=s.A,e)}}\"z\"!==c&&\"Z\"!==c||(p=s.Z,e.addData(p),r=o,i=a),n=p}return e.toStatic(),e}(t),r=L({},e);return r.buildPath=function(t){if(Xl(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},r.applyTransform=function(t){!function(t,e){if(e){var n,r,i,o,a,s,l=t.data,u=t.len(),h=Ll.M,c=Ll.C,p=Ll.L,d=Ll.R,f=Ll.A,g=Ll.Q;for(i=0,o=0;i<u;){switch(n=l[i++],o=i,r=0,n){case h:case p:r=1;break;case c:r=3;break;case g:r=2;break;case f:var y=e[4],v=e[5],m=Pl(e[0]*e[0]+e[1]*e[1]),_=Pl(e[2]*e[2]+e[3]*e[3]),x=Rl(-e[1]/_,e[0]/m);l[i]*=m,l[i++]+=y,l[i]*=_,l[i++]+=v,l[i++]*=m,l[i++]*=_,l[i++]+=x,l[i++]+=x,o=i+=2;break;case d:s[0]=l[i++],s[1]=l[i++],Wt(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[i++],s[1]+=l[i++],Wt(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<r;a++){var w=Al[a];w[0]=l[i++],w[1]=l[i++],Wt(w,w,e),l[o++]=w[0],l[o++]=w[1]}}t.increaseVersion()}}(n,t),this.dirtyShape()},r}var ql=function(){return function(){this.cx=0,this.cy=0,this.r=0}}(),jl=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new ql},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(us);jl.prototype.type=\"circle\";var Zl=function(){return function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),Kl=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Zl},e.prototype.buildPath=function(t,e){var n=.5522848,r=e.cx,i=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(r-o,i),t.bezierCurveTo(r-o,i-l,r-s,i-a,r,i-a),t.bezierCurveTo(r+s,i-a,r+o,i-l,r+o,i),t.bezierCurveTo(r+o,i+l,r+s,i+a,r,i+a),t.bezierCurveTo(r-s,i+a,r-o,i+l,r-o,i),t.closePath()},e}(us);Kl.prototype.type=\"ellipse\";var $l=Math.PI,Ql=2*$l,Jl=Math.sin,tu=Math.cos,eu=Math.acos,nu=Math.atan2,ru=Math.abs,iu=Math.sqrt,ou=Math.max,au=Math.min,su=1e-4;function lu(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/iu(s*s+l*l),h=u*l,c=-u*s,p=t+h,d=e+c,f=n+h,g=r+c,y=(p+f)/2,v=(d+g)/2,m=f-p,_=g-d,x=m*m+_*_,w=i-o,b=p*g-f*d,S=(_<0?-1:1)*iu(ou(0,w*w*x-b*b)),M=(b*_-m*S)/x,I=(-b*m-_*S)/x,T=(b*_+m*S)/x,C=(-b*m+_*S)/x,D=M-y,k=I-v,L=T-y,A=C-v;return D*D+k*k>L*L+A*A&&(M=T,I=C),{cx:M,cy:I,x0:-h,y0:-c,x1:M*(i/w-1),y1:I*(i/w-1)}}function uu(t,e){var n,r=ou(e.r,0),i=ou(e.r0||0,0),o=r>0;if(o||i>0){if(o||(r=i,i=0),i>r){var a=r;r=i,i=a}var s=e.startAngle,l=e.endAngle;if(!isNaN(s)&&!isNaN(l)){var u=e.cx,h=e.cy,c=!!e.clockwise,p=ru(l-s),d=p>Ql&&p%Ql;if(d>su&&(p=d),r>su)if(p>Ql-su)t.moveTo(u+r*tu(s),h+r*Jl(s)),t.arc(u,h,r,s,l,!c),i>su&&(t.moveTo(u+i*tu(l),h+i*Jl(l)),t.arc(u,h,i,l,s,c));else{var f=void 0,g=void 0,y=void 0,v=void 0,m=void 0,_=void 0,x=void 0,w=void 0,b=void 0,S=void 0,M=void 0,I=void 0,T=void 0,C=void 0,D=void 0,k=void 0,L=r*tu(s),A=r*Jl(s),P=i*tu(l),R=i*Jl(l),O=p>su;if(O){var N=e.cornerRadius;N&&(f=(n=function(t){var e;if(U(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(N))[0],g=n[1],y=n[2],v=n[3]);var E=ru(r-i)/2;if(m=au(E,y),_=au(E,v),x=au(E,f),w=au(E,g),M=b=ou(m,_),I=S=ou(x,w),(b>su||S>su)&&(T=r*tu(l),C=r*Jl(l),D=i*tu(s),k=i*Jl(s),p<$l)){var B=function(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,h=a-i,c=s-o,p=c*l-h*u;if(!(p*p<su))return[t+(p=(h*(e-o)-c*(t-i))/p)*l,e+p*u]}(L,A,D,k,T,C,P,R);if(B){var z=L-B[0],V=A-B[1],F=T-B[0],H=C-B[1],W=1/Jl(eu((z*F+V*H)/(iu(z*z+V*V)*iu(F*F+H*H)))/2),G=iu(B[0]*B[0]+B[1]*B[1]);M=au(b,(r-G)/(W+1)),I=au(S,(i-G)/(W-1))}}}if(O)if(M>su){var X=au(y,M),Y=au(v,M),q=lu(D,k,L,A,r,X,c),j=lu(T,C,P,R,r,Y,c);t.moveTo(u+q.cx+q.x0,h+q.cy+q.y0),M<b&&X===Y?t.arc(u+q.cx,h+q.cy,M,nu(q.y0,q.x0),nu(j.y0,j.x0),!c):(X>0&&t.arc(u+q.cx,h+q.cy,X,nu(q.y0,q.x0),nu(q.y1,q.x1),!c),t.arc(u,h,r,nu(q.cy+q.y1,q.cx+q.x1),nu(j.cy+j.y1,j.cx+j.x1),!c),Y>0&&t.arc(u+j.cx,h+j.cy,Y,nu(j.y1,j.x1),nu(j.y0,j.x0),!c))}else t.moveTo(u+L,h+A),t.arc(u,h,r,s,l,!c);else t.moveTo(u+L,h+A);if(i>su&&O)if(I>su){X=au(f,I),q=lu(P,R,T,C,i,-(Y=au(g,I)),c),j=lu(L,A,D,k,i,-X,c);t.lineTo(u+q.cx+q.x0,h+q.cy+q.y0),I<S&&X===Y?t.arc(u+q.cx,h+q.cy,I,nu(q.y0,q.x0),nu(j.y0,j.x0),!c):(Y>0&&t.arc(u+q.cx,h+q.cy,Y,nu(q.y0,q.x0),nu(q.y1,q.x1),!c),t.arc(u,h,i,nu(q.cy+q.y1,q.cx+q.x1),nu(j.cy+j.y1,j.cx+j.x1),c),X>0&&t.arc(u+j.cx,h+j.cy,X,nu(j.y1,j.x1),nu(j.y0,j.x0),!c))}else t.lineTo(u+P,h+R),t.arc(u,h,i,l,s,c);else t.lineTo(u+P,h+R)}else t.moveTo(u,h);t.closePath()}}}var hu=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),cu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new hu},e.prototype.buildPath=function(t,e){uu(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(us);cu.prototype.type=\"sector\";var pu=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),du=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new pu},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)},e}(us);function fu(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var o=function(t,e,n,r){var i,o,a,s,l=[],u=[],h=[],c=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var p=0,d=t.length;p<d;p++)Gt(a,a,t[p]),Ut(s,s,t[p]);Gt(a,a,r[0]),Ut(s,s,r[1])}for(p=0,d=t.length;p<d;p++){var f=t[p];if(n)i=t[p?p-1:d-1],o=t[(p+1)%d];else{if(0===p||p===d-1){l.push(Tt(t[p]));continue}i=t[p-1],o=t[p+1]}Lt(u,o,i),Nt(u,u,e);var g=Bt(f,i),y=Bt(f,o),v=g+y;0!==v&&(g/=v,y/=v),Nt(h,u,-g),Nt(c,u,y);var m=Dt([],f,h),_=Dt([],f,c);r&&(Ut(m,m,a),Gt(m,m,s),Ut(_,_,a),Gt(_,_,s)),l.push(m),l.push(_)}return n&&l.push(l.shift()),l}(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=i[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{t.moveTo(i[0][0],i[0][1]);s=1;for(var c=i.length;s<c;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}du.prototype.type=\"ring\";var gu=function(){return function(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),yu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new gu},e.prototype.buildPath=function(t,e){fu(t,e,!0)},e}(us);yu.prototype.type=\"polygon\";var vu=function(){return function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),mu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},e.prototype.getDefaultShape=function(){return new vu},e.prototype.buildPath=function(t,e){fu(t,e,!1)},e}(us);mu.prototype.type=\"polyline\";var _u={},xu=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),wu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},e.prototype.getDefaultShape=function(){return new xu},e.prototype.buildPath=function(t,e){var n,r,i,o;if(this.subPixelOptimize){var a=function(t,e,n){if(e){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;t.x1=r,t.x2=i,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s?(gs(2*r)===gs(2*i)&&(t.x1=t.x2=ys(r,s,!0)),gs(2*o)===gs(2*a)&&(t.y1=t.y2=ys(o,s,!0)),t):t}}(_u,e,this.style);n=a.x1,r=a.y1,i=a.x2,o=a.y2}else n=e.x1,r=e.y1,i=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(n,r),s<1&&(i=n*(1-s)+i*s,o=r*(1-s)+o*s),t.lineTo(i,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(us);wu.prototype.type=\"line\";var bu=[],Su=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function Mu(t,e,n){var r=t.cpx2,i=t.cpy2;return null!=r||null!=i?[(n?xn:_n)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?xn:_n)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Cn:Tn)(t.x1,t.cpx1,t.x2,e),(n?Cn:Tn)(t.y1,t.cpy1,t.y2,e)]}var Iu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},e.prototype.getDefaultShape=function(){return new Su},e.prototype.buildPath=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,r),null==l||null==u?(h<1&&(kn(n,a,i,h,bu),a=bu[1],i=bu[2],kn(r,s,o,h,bu),s=bu[1],o=bu[2]),t.quadraticCurveTo(a,s,i,o)):(h<1&&(Sn(n,a,l,i,h,bu),a=bu[1],l=bu[2],i=bu[3],Sn(r,s,u,o,h,bu),s=bu[1],u=bu[2],o=bu[3]),t.bezierCurveTo(a,s,l,u,i,o)))},e.prototype.pointAt=function(t){return Mu(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=Mu(this.shape,t,!0);return Et(e,e)},e}(us);Iu.prototype.type=\"bezier-curve\";var Tu=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),Cu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},e.prototype.getDefaultShape=function(){return new Tu},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*i+n,u*i+r),t.arc(n,r,i,o,a,!s)},e}(us);Cu.prototype.type=\"arc\";var Du=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"compound\",e}return n(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),us.prototype.getBoundingRect.call(this)},e}(us),ku=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),Lu=function(t){function e(e,n,r,i,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type=\"linear\",s.global=a||!1,s}return n(e,t),e}(ku),Au=function(t){function e(e,n,r,i,o){var a=t.call(this,i)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type=\"radial\",a.global=o||!1,a}return n(e,t),e}(ku),Pu=[0,0],Ru=[0,0],Ou=new Ie,Nu=new Ie,Eu=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Ie;for(n=0;n<2;n++)this._axes[n]=new Ie;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,i=t.x,o=t.y,a=i+t.width,s=o+t.height;if(n[0].set(i,o),n[1].set(a,o),n[2].set(a,s),n[3].set(i,s),e)for(var l=0;l<4;l++)n[l].transform(e);Ie.sub(r[0],n[1],n[0]),Ie.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(l=0;l<2;l++)this._origin[l]=r[l].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,r=!e;return Ou.set(1/0,1/0),Nu.set(0,0),!this._intersectCheckOneSide(this,t,Ou,Nu,r,1)&&(n=!1,r)?n:!this._intersectCheckOneSide(t,this,Ou,Nu,r,-1)&&(n=!1,r)?n:(r||Ie.copy(e,n?Ou:Nu),n)},t.prototype._intersectCheckOneSide=function(t,e,n,r,i,o){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,Pu),this._getProjMinMaxOnAxis(s,e._corners,Ru),Pu[1]<Ru[0]||Pu[0]>Ru[1]){if(a=!1,i)return a;var u=Math.abs(Ru[0]-Pu[1]),h=Math.abs(Pu[0]-Ru[1]);Math.min(u,h)>r.len()&&(u<h?Ie.scale(r,l,-u*o):Ie.scale(r,l,h*o))}else if(n){u=Math.abs(Ru[0]-Pu[1]),h=Math.abs(Pu[0]-Ru[1]);Math.min(u,h)<n.len()&&(u<h?Ie.scale(n,l,u*o):Ie.scale(n,l,-h*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],i=this._origin,o=e[0].dot(r)+i[t],a=o,s=o,l=1;l<e.length;l++){var u=e[l].dot(r)+i[t];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},t}(),Bu=[],zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return n(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Oe(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Bu)),t.union(r)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++){if(this._displayables[r].contain(t,e))return!0}return!1},e}(la),Vu=xo();function Fu(t,e,n,r,i,o,a){var s,l=!1;X(i)?(a=o,o=i,i=null):Z(i)&&(o=i.cb,a=i.during,l=i.isFrom,s=i.removeOpt,i=i.dataIndex);var u=\"leave\"===t;u||e.stopAnimation(\"leave\");var h=function(t,e,n,r,i){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s=\"update\"===t;if(e&&e.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return r?(l=it(r.duration,200),u=it(r.easing,\"cubicOut\"),h=0):(l=e.getShallow(s?\"animationDurationUpdate\":\"animationDuration\"),u=e.getShallow(s?\"animationEasingUpdate\":\"animationEasing\"),h=e.getShallow(s?\"animationDelayUpdate\":\"animationDelay\")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),X(h)&&(h=h(n,i)),X(l)&&(l=l(n)),{duration:l||0,delay:h,easing:u}}return null}(t,r,i,u?s||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(h&&h.duration>0){var c={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:t,during:a};l?e.animateFrom(n,c):e.animateTo(n,c)}else e.stopAnimation(),!l&&e.attr(n),a&&a(1),o&&o()}function Hu(t,e,n,r,i,o){Fu(\"update\",t,e,n,r,i,o)}function Wu(t,e,n,r,i,o){Fu(\"enter\",t,e,n,r,i,o)}function Gu(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if(\"leave\"===t.animators[e].scope)return!0}return!1}function Uu(t,e,n,r,i,o){Gu(t)||Fu(\"leave\",t,e,n,r,i,o)}var Xu=Math.max,Yu=Math.min,qu={};var ju=function(t,e){var r=Yl(t,e);return function(t){function e(e){var n=t.call(this,e)||this;return n.applyTransform=r.applyTransform,n.buildPath=r.buildPath,n}return n(e,t),e}(Ul)};function Zu(t,e){qu[t]=e}function Ku(t,e,n,r){var i=function(t,e){return new Ul(Yl(t,e))}(t,e);return n&&(\"center\"===r&&(n=Qu(n,i.getBoundingRect())),th(i,n)),i}function $u(t,e,n){var r=new fs({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(\"center\"===n){var i={width:t.width,height:t.height};r.setStyle(Qu(e,i))}}});return r}function Qu(t,e){var n,r=e.width/e.height,i=t.height*r;return n=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}var Ju=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];n.push(o.getUpdatedPathProxy(!0))}var a=new us(e);return a.createPathProxy(),a.buildPath=function(t){if(Xl(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function th(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function eh(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function nh(t,e){if(t)if(U(t))for(var n=0;n<t.length;n++)eh(t[n],e);else eh(t,e)}Zu(\"circle\",jl),Zu(\"ellipse\",Kl),Zu(\"sector\",cu),Zu(\"ring\",du),Zu(\"polygon\",yu),Zu(\"polyline\",mu),Zu(\"rect\",_s),Zu(\"line\",wu),Zu(\"bezierCurve\",Iu),Zu(\"arc\",Cu);var rh={};function ih(t,e){for(var n=0;n<Hs.length;n++){var r=Hs[n],i=e[r],o=t.ensureState(r);o.style=o.style||{},o.style.text=i}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function oh(t,e,n){var r,i=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;i&&(r=i.getFormattedLabel(o,\"normal\",null,a,s&&s.get(\"formatter\"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=X(t.defaultText)?t.defaultText(o,t,n):t.defaultText);for(var l={normal:r},u=0;u<Hs.length;u++){var h=Hs[u],c=e[h];l[h]=it(i?i.getFormattedLabel(o,h,null,a,c&&c.get(\"formatter\")):null,r)}return l}function ah(t,e,n,r){n=n||rh;for(var i=t instanceof bs,o=!1,a=0;a<Ws.length;a++){if((p=e[Ws[a]])&&p.getShallow(\"show\")){o=!0;break}}var s=i?t:t.getTextContent();if(o){i||(s||(s=new bs,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=oh(n,e),u=e.normal,h=!!u.getShallow(\"show\"),c=lh(u,r&&r.normal,n,!1,!i);c.text=l.normal,i||t.setTextConfig(uh(u,n,!1));for(a=0;a<Hs.length;a++){var p,d=Hs[a];if(p=e[d]){var f=s.ensureState(d),g=!!it(p.getShallow(\"show\"),h);if(g!==h&&(f.ignore=!g),f.style=lh(p,r&&r[d],n,!0,!i),f.style.text=l[d],!i)t.ensureState(d).textConfig=uh(p,n,!0)}}s.silent=!!u.getShallow(\"silent\"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),n.enableTextSetter&&(fh(s).setLabelText=function(t){var r=oh(n,e,t);ih(s,r)})}else s&&(s.ignore=!0);t.dirty()}function sh(t,e){e=e||\"label\";for(var n={normal:t.getModel(e)},r=0;r<Hs.length;r++){var i=Hs[r];n[i]=t.getModel([i,e])}return n}function lh(t,e,n,r,i){var o={};return function(t,e,n,r,i){n=n||rh;var o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||rh).rich;if(n){e=e||{};for(var r=H(n),i=0;i<r.length;i++){var o=r[i];e[o]=1}}t=t.parentModel}return e}(e);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var h=e.getModel([\"rich\",u]);dh(o[u]={},h,s,n,r,i,!1,!0)}o&&(t.rich=o);var c=e.get(\"overflow\");c&&(t.overflow=c);var p=e.get(\"minMargin\");null!=p&&(t.margin=p);dh(t,e,s,n,r,i,!0,!1)}(o,t,n,r,i),e&&L(o,e),o}function uh(t,e,n){e=e||{};var r,i={},o=t.getShallow(\"rotate\"),a=it(t.getShallow(\"distance\"),n?null:5),s=t.getShallow(\"offset\");return\"outside\"===(r=t.getShallow(\"position\")||(n?null:\"inside\"))&&(r=e.defaultOutsidePosition||\"top\"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=a&&(i.distance=a),i.outsideFill=\"inherit\"===t.get(\"color\")?e.inheritColor||null:\"auto\",i}var hh=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"textShadowColor\",\"textShadowBlur\",\"textShadowOffsetX\",\"textShadowOffsetY\"],ch=[\"align\",\"lineHeight\",\"width\",\"height\",\"tag\",\"verticalAlign\",\"ellipsis\"],ph=[\"padding\",\"borderWidth\",\"borderRadius\",\"borderDashOffset\",\"backgroundColor\",\"borderColor\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"];function dh(t,e,n,r,i,o,a,s){n=!i&&n||rh;var l=r&&r.inheritColor,u=e.getShallow(\"color\"),h=e.getShallow(\"textBorderColor\"),c=it(e.getShallow(\"opacity\"),n.opacity);\"inherit\"!==u&&\"auto\"!==u||(\"auto\"===u&&Ji(\"color: 'auto'\",\"color: 'inherit'\"),u=l||null),\"inherit\"!==h&&\"auto\"!==h||(\"auto\"===h&&Ji(\"color: 'auto'\",\"color: 'inherit'\"),h=l||null),o||(u=u||n.color,h=h||n.textBorderColor),null!=u&&(t.fill=u),null!=h&&(t.stroke=h);var p=it(e.getShallow(\"textBorderWidth\"),n.textBorderWidth);null!=p&&(t.lineWidth=p);var d=it(e.getShallow(\"textBorderType\"),n.textBorderType);null!=d&&(t.lineDash=d);var f=it(e.getShallow(\"textBorderDashOffset\"),n.textBorderDashOffset);null!=f&&(t.lineDashOffset=f),i||null!=c||s||(c=r&&r.defaultOpacity),null!=c&&(t.opacity=c),i||o||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var g=0;g<hh.length;g++){var y=hh[g];null!=(m=it(e.getShallow(y),n[y]))&&(t[y]=m)}for(g=0;g<ch.length;g++){y=ch[g];null!=(m=e.getShallow(y))&&(t[y]=m)}if(null==t.verticalAlign){var v=e.getShallow(\"baseline\");null!=v&&(t.verticalAlign=v)}if(!a||!r.disableBox){for(g=0;g<ph.length;g++){var m;y=ph[g];null!=(m=e.getShallow(y))&&(t[y]=m)}var _=e.getShallow(\"borderType\");null!=_&&(t.borderDash=_),\"auto\"!==t.backgroundColor&&\"inherit\"!==t.backgroundColor||!l||(\"auto\"===t.backgroundColor&&Ji(\"backgroundColor: 'auto'\",\"backgroundColor: 'inherit'\"),t.backgroundColor=l),\"auto\"!==t.borderColor&&\"inherit\"!==t.borderColor||!l||(\"auto\"===t.borderColor&&Ji(\"borderColor: 'auto'\",\"borderColor: 'inherit'\"),t.borderColor=l)}}var fh=xo();function gh(t,e,n,r,i){var o=fh(t);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=it(o.interpolatedValue,o.prevValue),l=o.value;t.percent=0,(null==o.prevValue?Wu:Hu)(t,{percent:1},r,e,null,function(r){var u=function(t,e,n,r,i){var o=null==e||\"auto\"===e;if(null==r)return r;if(j(r))return Pi(f=no(n||0,r,i),o?Math.max(Ri(n||0),Ri(r)):e);if(Y(r))return i<1?n:r;for(var a=[],s=n,l=r,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){var c=t.getDimensionInfo(h);if(c&&\"ordinal\"===c.type)a[h]=(i<1&&s?s:l)[h];else{var p=s&&s[h]?s[h]:0,d=l[h],f=no(p,d,i);a[h]=Pi(f,o?Math.max(Ri(p),Ri(d)):e)}}return a}(n,o.precision,s,l,r);o.interpolatedValue=1===r?null:u;var h=oh({labelDataIndex:e,labelFetcher:i,defaultText:a?a(u):u+\"\"},o.statesModels,u);ih(t,h)})}}var yh,vh,mh=[\"textStyle\",\"color\"],_h=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"padding\",\"lineHeight\",\"rich\",\"width\",\"height\",\"overflow\"],xh=new bs,wh=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow(\"color\")||(!t&&e?e.get(mh):null)},t.prototype.getFont=function(){return t={fontStyle:this.getShallow(\"fontStyle\"),fontWeight:this.getShallow(\"fontWeight\"),fontSize:this.getShallow(\"fontSize\"),fontFamily:this.getShallow(\"fontFamily\")},e=this.ecModel,n=e&&e.getModel(\"textStyle\"),ut([t.fontStyle||n&&n.getShallow(\"fontStyle\")||\"\",t.fontWeight||n&&n.getShallow(\"fontWeight\")||\"\",(t.fontSize||n&&n.getShallow(\"fontSize\")||12)+\"px\",t.fontFamily||n&&n.getShallow(\"fontFamily\")||\"sans-serif\"].join(\" \"));var t,e,n},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow(\"verticalAlign\")||this.getShallow(\"baseline\")},n=0;n<_h.length;n++)e[_h[n]]=this.getShallow(_h[n]);return xh.useStyle(e),xh.update(),xh.getBoundingRect()},t}(),bh=[[\"lineWidth\",\"width\"],[\"stroke\",\"color\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"],[\"lineDash\",\"type\"],[\"lineDashOffset\",\"dashOffset\"],[\"lineCap\",\"cap\"],[\"lineJoin\",\"join\"],[\"miterLimit\"]],Sh=Bo(bh),Mh=function(){function t(){}return t.prototype.getLineStyle=function(t){return Sh(this,t)},t}(),Ih=[[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"],[\"lineDash\",\"borderType\"],[\"lineDashOffset\",\"borderDashOffset\"],[\"lineCap\",\"borderCap\"],[\"lineJoin\",\"borderJoin\"],[\"miterLimit\",\"borderMiterLimit\"]],Th=Bo(Ih),Ch=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return Th(this,t,e)},t}(),Dh=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){},t.prototype.mergeOption=function(t,e){k(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var i=this.parentModel;i&&(r=i.getShallow(t))}return r},t.prototype.getModel=function(e,n){var r=null!=e,i=r?this.parsePath(e):null;return new t(r?this._doGet(i):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(D(this.option))},t.prototype.parsePath=function(t){return\"string\"==typeof t?t.split(\".\"):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!i.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&(!t[r]||null!=(n=n&&\"object\"==typeof n?n[t[r]]:null));r++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Ao(Dh),yh=Dh,vh=[\"__\\0is_clz\",Ro++].join(\"_\"),yh.prototype[vh]=!0,lt(!yh.isInstance,'The method \"is\" can not be defined.'),yh.isInstance=function(t){return!(!t||!t[vh])},N(Dh,Mh),N(Dh,Ch),N(Dh,Vo),N(Dh,wh);var kh=Math.round(10*Math.random());function Lh(t){return[t||\"\",kh++].join(\"_\")}var Ah=\"ZH\",Ph=\"EN\",Rh=Ph,Oh={},Nh={},Eh=i.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(Ah)>-1?Ah:Rh;function Bh(t,e){t=t.toUpperCase(),Nh[t]=new Dh(e),Oh[t]=e}Bh(Ph,{time:{month:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthAbbr:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayOfWeek:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayOfWeekAbbr:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"]},legend:{selector:{all:\"All\",inverse:\"Inv\"}},toolbox:{brush:{title:{rect:\"Box Select\",polygon:\"Lasso Select\",lineX:\"Horizontally Select\",lineY:\"Vertically Select\",keep:\"Keep Selections\",clear:\"Clear Selections\"}},dataView:{title:\"Data View\",lang:[\"Data View\",\"Close\",\"Refresh\"]},dataZoom:{title:{zoom:\"Zoom\",back:\"Zoom Reset\"}},magicType:{title:{line:\"Switch to Line Chart\",bar:\"Switch to Bar Chart\",stack:\"Stack\",tiled:\"Tile\"}},restore:{title:\"Restore\"},saveAsImage:{title:\"Save as Image\",lang:[\"Right Click to Save Image\"]}},series:{typeNames:{pie:\"Pie chart\",bar:\"Bar chart\",line:\"Line chart\",scatter:\"Scatter plot\",effectScatter:\"Ripple scatter plot\",radar:\"Radar chart\",tree:\"Tree\",treemap:\"Treemap\",boxplot:\"Boxplot\",candlestick:\"Candlestick\",k:\"K line chart\",heatmap:\"Heat map\",map:\"Map\",parallel:\"Parallel coordinate map\",lines:\"Line graph\",graph:\"Relationship graph\",sankey:\"Sankey diagram\",funnel:\"Funnel chart\",gauge:\"Gauge\",pictorialBar:\"Pictorial bar\",themeRiver:\"Theme River Map\",sunburst:\"Sunburst\"}},aria:{general:{withTitle:'This is a chart about \"{title}\"',withoutTitle:\"This is a chart\"},series:{single:{prefix:\"\",withName:\" with type {seriesType} named {seriesName}.\",withoutName:\" with type {seriesType}.\"},multiple:{prefix:\". It consists of {seriesCount} series count.\",withName:\" The {seriesId} series is a {seriesType} representing {seriesName}.\",withoutName:\" The {seriesId} series is a {seriesType}.\",separator:{middle:\"\",end:\"\"}}},data:{allData:\"The data is as follows: \",partialData:\"The first {displayCnt} items are: \",withName:\"the data for {name} is {value}\",withoutName:\"{value}\",separator:{middle:\", \",end:\". \"}}}}),Bh(Ah,{time:{month:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"],monthAbbr:[\"1月\",\"2月\",\"3月\",\"4月\",\"5月\",\"6月\",\"7月\",\"8月\",\"9月\",\"10月\",\"11月\",\"12月\"],dayOfWeek:[\"星期日\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\"],dayOfWeekAbbr:[\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\"]},legend:{selector:{all:\"全选\",inverse:\"反选\"}},toolbox:{brush:{title:{rect:\"矩形选择\",polygon:\"圈选\",lineX:\"横向选择\",lineY:\"纵向选择\",keep:\"保持选择\",clear:\"清除选择\"}},dataView:{title:\"数据视图\",lang:[\"数据视图\",\"关闭\",\"刷新\"]},dataZoom:{title:{zoom:\"区域缩放\",back:\"区域缩放还原\"}},magicType:{title:{line:\"切换为折线图\",bar:\"切换为柱状图\",stack:\"切换为堆叠\",tiled:\"切换为平铺\"}},restore:{title:\"还原\"},saveAsImage:{title:\"保存为图片\",lang:[\"右键另存为图片\"]}},series:{typeNames:{pie:\"饼图\",bar:\"柱状图\",line:\"折线图\",scatter:\"散点图\",effectScatter:\"涟漪散点图\",radar:\"雷达图\",tree:\"树图\",treemap:\"矩形树图\",boxplot:\"箱型图\",candlestick:\"K线图\",k:\"K线图\",heatmap:\"热力图\",map:\"地图\",parallel:\"平行坐标图\",lines:\"线图\",graph:\"关系图\",sankey:\"桑基图\",funnel:\"漏斗图\",gauge:\"仪表盘图\",pictorialBar:\"象形柱图\",themeRiver:\"主题河流图\",sunburst:\"旭日图\"}},aria:{general:{withTitle:\"这是一个关于“{title}”的图表。\",withoutTitle:\"这是一个图表，\"},series:{single:{prefix:\"\",withName:\"图表类型是{seriesType}，表示{seriesName}。\",withoutName:\"图表类型是{seriesType}。\"},multiple:{prefix:\"它由{seriesCount}个图表系列组成。\",withName:\"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，\",withoutName:\"第{seriesId}个系列是一个{seriesType}，\",separator:{middle:\"；\",end:\"。\"}}},data:{allData:\"其数据是——\",partialData:\"其中，前{displayCnt}项是——\",withName:\"{name}的数据是{value}\",withoutName:\"{value}\",separator:{middle:\"，\",end:\"\"}}}});var zh=1e3,Vh=60*zh,Fh=60*Vh,Hh=24*Fh,Wh=365*Hh,Gh={year:\"{yyyy}\",month:\"{MMM}\",day:\"{d}\",hour:\"{HH}:{mm}\",minute:\"{HH}:{mm}\",second:\"{HH}:{mm}:{ss}\",millisecond:\"{HH}:{mm}:{ss} {SSS}\",none:\"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}\"},Uh={year:\"{yyyy}\",month:\"{yyyy}-{MM}\",day:\"{yyyy}-{MM}-{dd}\",hour:\"{yyyy}-{MM}-{dd} \"+Gh.hour,minute:\"{yyyy}-{MM}-{dd} \"+Gh.minute,second:\"{yyyy}-{MM}-{dd} \"+Gh.second,millisecond:Gh.none},Xh=[\"year\",\"month\",\"day\",\"hour\",\"minute\",\"second\",\"millisecond\"],Yh=[\"year\",\"half-year\",\"quarter\",\"month\",\"week\",\"half-week\",\"day\",\"half-day\",\"quarter-day\",\"hour\",\"minute\",\"second\",\"millisecond\"];function qh(t,e){return\"0000\".substr(0,e-(t+=\"\").length)+t}function jh(t){switch(t){case\"half-year\":case\"quarter\":return\"month\";case\"week\":case\"half-week\":return\"day\";case\"half-day\":case\"quarter-day\":return\"hour\";default:return t}}function Zh(t,e,n,r){var i=Vi(t),o=i[Qh(n)](),a=i[Jh(n)]()+1,s=Math.floor((a-1)/3)+1,l=i[tc(n)](),u=i[\"get\"+(n?\"UTC\":\"\")+\"Day\"](),h=i[ec(n)](),c=(h-1)%12+1,p=i[nc(n)](),d=i[rc(n)](),f=i[ic(n)](),g=(r instanceof Dh?r:function(t){return Nh[t]}(r||Eh)||Nh[Rh]).getModel(\"time\"),y=g.get(\"month\"),v=g.get(\"monthAbbr\"),m=g.get(\"dayOfWeek\"),_=g.get(\"dayOfWeekAbbr\");return(e||\"\").replace(/{yyyy}/g,o+\"\").replace(/{yy}/g,qh(o%100+\"\",2)).replace(/{Q}/g,s+\"\").replace(/{MMMM}/g,y[a-1]).replace(/{MMM}/g,v[a-1]).replace(/{MM}/g,qh(a,2)).replace(/{M}/g,a+\"\").replace(/{dd}/g,qh(l,2)).replace(/{d}/g,l+\"\").replace(/{eeee}/g,m[u]).replace(/{ee}/g,_[u]).replace(/{e}/g,u+\"\").replace(/{HH}/g,qh(h,2)).replace(/{H}/g,h+\"\").replace(/{hh}/g,qh(c+\"\",2)).replace(/{h}/g,c+\"\").replace(/{mm}/g,qh(p,2)).replace(/{m}/g,p+\"\").replace(/{ss}/g,qh(d,2)).replace(/{s}/g,d+\"\").replace(/{SSS}/g,qh(f,3)).replace(/{S}/g,f+\"\")}function Kh(t,e){var n=Vi(t),r=n[Jh(e)]()+1,i=n[tc(e)](),o=n[ec(e)](),a=n[nc(e)](),s=n[rc(e)](),l=0===n[ic(e)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,p=c&&1===i;return p&&1===r?\"year\":p?\"month\":c?\"day\":h?\"hour\":u?\"minute\":l?\"second\":\"millisecond\"}function $h(t,e,n){var r=j(t)?Vi(t):t;switch(e=e||Kh(t,n)){case\"year\":return r[Qh(n)]();case\"half-year\":return r[Jh(n)]()>=6?1:0;case\"quarter\":return Math.floor((r[Jh(n)]()+1)/4);case\"month\":return r[Jh(n)]();case\"day\":return r[tc(n)]();case\"half-day\":return r[ec(n)]()/24;case\"hour\":return r[ec(n)]();case\"minute\":return r[nc(n)]();case\"second\":return r[rc(n)]();case\"millisecond\":return r[ic(n)]()}}function Qh(t){return t?\"getUTCFullYear\":\"getFullYear\"}function Jh(t){return t?\"getUTCMonth\":\"getMonth\"}function tc(t){return t?\"getUTCDate\":\"getDate\"}function ec(t){return t?\"getUTCHours\":\"getHours\"}function nc(t){return t?\"getUTCMinutes\":\"getMinutes\"}function rc(t){return t?\"getUTCSeconds\":\"getSeconds\"}function ic(t){return t?\"getUTCMilliseconds\":\"getMilliseconds\"}function oc(t){return t?\"setUTCFullYear\":\"setFullYear\"}function ac(t){return t?\"setUTCMonth\":\"setMonth\"}function sc(t){return t?\"setUTCDate\":\"setDate\"}function lc(t){return t?\"setUTCHours\":\"setHours\"}function uc(t){return t?\"setUTCMinutes\":\"setMinutes\"}function hc(t){return t?\"setUTCSeconds\":\"setSeconds\"}function cc(t){return t?\"setUTCMilliseconds\":\"setMilliseconds\"}function pc(t){if(!Ui(t))return Y(t)?t:\"-\";var e=(t+\"\").split(\".\");return e[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"$1,\")+(e.length>1?\".\"+e[1]:\"\")}var dc=st,fc=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"],gc=function(t,e){return\"{\"+t+(null==e?\"\":e)+\"}\"};function yc(t,e,n){U(e)||(e=[e]);var r=e.length;if(!r)return\"\";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=fc[o];t=t.replace(gc(a),gc(a,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var u=e[s][i[l]];t=t.replace(gc(fc[l],s),n?re(u):u)}return t}var vc=B,mc=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],_c=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]];function xc(t,e,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(l,u){var h,c,p=l.getBoundingRect(),d=e.childAt(u+1),f=d&&d.getBoundingRect();if(\"horizontal\"===t){var g=p.width+(f?-f.x+p.x:0);(h=o+g)>r||l.newline?(o=0,h=g,a+=s+n,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(f?-f.y+p.y:0);(c=a+y)>i||l.newline?(o+=s+n,a=0,c=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),\"horizontal\"===t?o=h+n:a=c+n)})}function wc(t,e,n){n=dc(n||0);var r=e.width,i=e.height,o=Ai(t.left,r),a=Ai(t.top,i),s=Ai(t.right,r),l=Ai(t.bottom,i),u=Ai(t.width,r),h=Ai(t.height,i),c=n[2]+n[0],p=n[1]+n[3],d=t.aspect;switch(isNaN(u)&&(u=r-s-p-o),isNaN(h)&&(h=i-l-c-a),null!=d&&(isNaN(u)&&isNaN(h)&&(d>r/i?u=.8*r:h=.8*i),isNaN(u)&&(u=d*h),isNaN(h)&&(h=u/d)),isNaN(o)&&(o=r-s-u-p),isNaN(a)&&(a=i-l-h-c),t.left||t.right){case\"center\":o=r/2-u/2-n[3];break;case\"right\":o=r-u-p}switch(t.top||t.bottom){case\"middle\":case\"center\":a=i/2-h/2-n[0];break;case\"bottom\":a=i-h-c}o=o||0,a=a||0,isNaN(u)&&(u=r-p-o-(s||0)),isNaN(h)&&(h=i-c-a-(l||0));var f=new Oe(o+n[3],a+n[0],u,h);return f.margin=n,f}function bc(t){var e=t.layoutMode||t.constructor.layoutMode;return Z(e)?e:e?{type:e}:null}function Sc(t,e,n){var r=n&&n.ignoreSize;!U(r)&&(r=[r,r]);var i=a(_c[0],0),o=a(_c[1],1);function a(n,i){var o={},a=0,u={},h=0;if(vc(n,function(e){u[e]=t[e]}),vc(n,function(t){s(e,t)&&(o[t]=u[t]=e[t]),l(o,t)&&a++,l(u,t)&&h++}),r[i])return l(e,n[1])?u[n[2]]=null:l(e,n[2])&&(u[n[1]]=null),u;if(2!==h&&a){if(a>=2)return o;for(var c=0;c<n.length;c++){var p=n[c];if(!s(o,p)&&s(t,p)){o[p]=t[p];break}}return o}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&\"auto\"!==t[e]}function u(t,e,n){vc(t,function(t){e[t]=n[t]})}u(_c[0],t,i),u(_c[1],t,o)}function Mc(t){return function(t,e){return e&&t&&vc(mc,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}({},t)}G(xc,\"vertical\"),G(xc,\"horizontal\");var Ic=xo(),Tc=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.uid=Lh(\"ec_cpt_model\"),i}var r;return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=bc(this),r=n?Mc(t):{};k(t,e.getTheme().get(this.mainType)),k(t,this.getDefaultOption()),n&&Sc(t,r,n)},e.prototype.mergeOption=function(t,e){k(this.option,t,!0);var n=bc(this);n&&Sc(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[ko])}(t))return t.defaultOption;var e=Ic(this);if(!e.defaultOption){for(var n=[],r=t;r;){var i=r.prototype.defaultOption;i&&n.push(i),r=r.superClass}for(var o={},a=n.length-1;a>=0;a--)o=k(o,n[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+\"Index\",r=t+\"Id\";return Io(this.ecModel,t,{index:this.get(n,!0),id:this.get(r,!0)},e)},e.prototype.getBoxLayoutParams=function(){return{left:this.get(\"left\"),top:this.get(\"top\"),right:this.get(\"right\"),bottom:this.get(\"bottom\"),width:this.get(\"width\"),height:this.get(\"height\")}},e.prototype.getZLevelKey=function(){return\"\"},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((r=e.prototype).type=\"component\",r.id=\"\",r.name=\"\",r.mainType=\"\",r.subType=\"\",void(r.componentIndex=0)),e}(Dh);Po(Tc,Dh),Eo(Tc),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){var r=Lo(t);e[r.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=Lo(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i}}(Tc),function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,i,o){if(t.length){var a=function(t){var r={},i=[];return B(t,function(o){var a=n(r,o),s=function(t,e){var n=[];return B(t,function(t){R(e,t)>=0&&n.push(t)}),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&i.push(o),B(s,function(t){R(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(r,t);R(e.successor,t)<0&&e.successor.push(o)})}),{graph:r,noEntryList:i}}(r),s=a.graph,l=a.noEntryList,u={};for(B(t,function(t){u[t]=!0});l.length;){var h=l.pop(),c=s[h],p=!!u[h];p&&(i.call(o,h,c.originalDeps.slice()),delete u[h]),B(c.successor,p?f:d)}B(u,function(){var e;throw e=to(\"Circular dependency may exists: \",u,t,r),new Error(e)})}function d(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}function f(t){u[t]=!0,d(t)}}}(Tc,function(t){var e=[];B(Tc.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=z(e,function(t){return Lo(t).main}),\"dataset\"!==t&&R(e,\"dataset\")<=0&&e.unshift(\"dataset\");return e});var Cc=\"\";\"undefined\"!=typeof navigator&&(Cc=navigator.platform||\"\");var Dc=\"rgba(0, 0, 0, 0.2)\",kc={darkMode:\"auto\",colorBy:\"series\",color:[\"#5470c6\",\"#91cc75\",\"#fac858\",\"#ee6666\",\"#73c0de\",\"#3ba272\",\"#fc8452\",\"#9a60b4\",\"#ea7ccc\"],gradientColor:[\"#f6efa6\",\"#d88273\",\"#bf444c\"],aria:{decal:{decals:[{color:Dc,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Dc,symbol:\"circle\",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Dc,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Dc,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Dc,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Dc,symbol:\"triangle\",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Cc.match(/^Win/)?\"Microsoft YaHei\":\"sans-serif\",fontSize:12,fontStyle:\"normal\",fontWeight:\"normal\"},blendMode:null,stateAnimation:{duration:300,easing:\"cubicOut\"},animation:\"auto\",animationDuration:1e3,animationDurationUpdate:500,animationEasing:\"cubicInOut\",animationEasingUpdate:\"cubicInOut\",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Lc=yt([\"tooltip\",\"label\",\"itemName\",\"itemId\",\"itemGroupId\",\"seriesName\"]),Ac=\"original\",Pc=\"arrayRows\",Rc=\"objectRows\",Oc=\"keyedColumns\",Nc=\"typedArray\",Ec=\"unknown\",Bc=\"column\",zc=\"row\",Vc={Must:1,Might:2,Not:3},Fc=xo();function Hc(t,e,n){var r={},i=Wc(e);if(!i||!t)return r;var o,a,s=[],l=[],u=e.ecModel,h=Fc(u).datasetMap,c=i.uid+\"_\"+n.seriesLayoutBy;B(t=t.slice(),function(e,n){var i=Z(e)?e:t[n]={name:e};\"ordinal\"===i.type&&null==o&&(o=n,a=f(i)),r[i.name]=[]});var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function d(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function f(t){var e=t.dimsDef;return e?e.length:1}return B(t,function(t,e){var n=t.name,i=f(t);if(null==o){var a=p.valueWayDim;d(r[n],a,i),d(l,a,i),p.valueWayDim+=i}else if(o===e)d(r[n],0,i),d(s,0,i);else{a=p.categoryWayDim;d(r[n],a,i),d(l,a,i),p.categoryWayDim+=i}}),s.length&&(r.itemName=s),l.length&&(r.seriesName=l),r}function Wc(t){if(!t.get(\"data\",!0))return Io(t.ecModel,\"dataset\",{index:t.get(\"datasetIndex\",!0),id:t.get(\"datasetId\",!0)},Mo).models[0]}function Gc(t,e){return function(t,e,n,r,i,o){var a,s,l;if($(t))return Vc.Not;if(r){var u=r[o];Z(u)?(s=u.name,l=u.type):Y(u)&&(s=u)}if(null!=l)return\"ordinal\"===l?Vc.Must:Vc.Not;if(e===Pc){var h=t;if(n===zc){for(var c=h[o],p=0;p<(c||[]).length&&p<5;p++)if(null!=(a=_(c[i+p])))return a}else for(var p=0;p<h.length&&p<5;p++){var d=h[i+p];if(d&&null!=(a=_(d[o])))return a}}else if(e===Rc){var f=t;if(!s)return Vc.Not;for(var p=0;p<f.length&&p<5;p++){var g=f[p];if(g&&null!=(a=_(g[s])))return a}}else if(e===Oc){var y=t;if(!s)return Vc.Not;var c=y[s];if(!c||$(c))return Vc.Not;for(var p=0;p<c.length&&p<5;p++)if(null!=(a=_(c[p])))return a}else if(e===Ac)for(var v=t,p=0;p<v.length&&p<5;p++){var g=v[p],m=lo(g);if(!U(m))return Vc.Not;if(null!=(a=_(m[o])))return a}function _(t){var e=Y(t);return null!=t&&isFinite(t)&&\"\"!==t?e?Vc.Might:Vc.Not:e&&\"-\"!==t?Vc.Must:void 0}return Vc.Not}(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}var Uc=yt();var Xc,Yc,qc,jc=xo(),Zc=xo(),Kc=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var r=oo(this.get(\"color\",!0)),i=this.get(\"colorLayer\",!0);return $c(this,jc,r,i,t,e,n)},t.prototype.clearColorPalette=function(){var t,e;(e=jc)(t=this).paletteIdx=0,e(t).paletteNameMap={}},t}();function $c(t,e,n,r,i,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var h=null!=a&&r?function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}(r,a):n;if((h=h||n)&&h.length){var c=h[l];return i&&(u[i]=c),s.paletteIdx=(l+1)%h.length,c}}var Qc={grid:\"GridComponent\",polar:\"PolarComponent\",geo:\"GeoComponent\",singleAxis:\"SingleAxisComponent\",parallel:\"ParallelComponent\",calendar:\"CalendarComponent\",graphic:\"GraphicComponent\",toolbox:\"ToolboxComponent\",tooltip:\"TooltipComponent\",axisPointer:\"AxisPointerComponent\",brush:\"BrushComponent\",title:\"TitleComponent\",timeline:\"TimelineComponent\",markPoint:\"MarkPointComponent\",markLine:\"MarkLineComponent\",markArea:\"MarkAreaComponent\",legend:\"LegendComponent\",dataZoom:\"DataZoomComponent\",visualMap:\"VisualMapComponent\",xAxis:\"GridComponent\",yAxis:\"GridComponent\",angleAxis:\"PolarComponent\",radiusAxis:\"PolarComponent\"},Jc={line:\"LineChart\",bar:\"BarChart\",pie:\"PieChart\",scatter:\"ScatterChart\",radar:\"RadarChart\",map:\"MapChart\",tree:\"TreeChart\",treemap:\"TreemapChart\",graph:\"GraphChart\",gauge:\"GaugeChart\",funnel:\"FunnelChart\",parallel:\"ParallelChart\",sankey:\"SankeyChart\",boxplot:\"BoxplotChart\",candlestick:\"CandlestickChart\",effectScatter:\"EffectScatterChart\",lines:\"LinesChart\",heatmap:\"HeatmapChart\",pictorialBar:\"PictorialBarChart\",themeRiver:\"ThemeRiverChart\",sunburst:\"SunburstChart\",custom:\"CustomChart\"},tp={};var ep=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t,e,n,r,i,o){r=r||{},this.option=null,this._theme=new Dh(r),this._locale=new Dh(i),this._optionManager=o},e.prototype.setOption=function(t,e,n){lt(null!=t,\"option is null/undefined\"),lt(1!==t[\"\\0_ec_inner\"],\"please use chart.getOption()\");var r=ip(e);this._optionManager.setOption(t,n,r),this._resetOption(null,r)},e.prototype.resetOption=function(t,e){return this._resetOption(t,ip(e))},e.prototype._resetOption=function(t,e){var n=!1,r=this._optionManager;if(!t||\"recreate\"===t){var i=r.mountOption(\"recreate\"===t);B(i,function(t,e){if(!Tc.hasClass(e)){var n=Qc[e];n&&!tp[n]&&($i(\"Component \"+e+\" is used but not imported.\\nimport { \"+n+\" } from 'echarts/components';\\necharts.use([\"+n+\"]);\"),tp[n]=!0)}}),this.option&&\"recreate\"!==t?(this.restoreData(),this._mergeOption(i,e)):qc(this,i),n=!0}if(\"timeline\"!==t&&\"media\"!==t||this.restoreData(),!t||\"recreate\"===t||\"timeline\"===t){var o=r.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,e))}if(!t||\"recreate\"===t||\"media\"===t){var a=r.getMediaOption(this);a.length&&B(a,function(t){n=!0,this._mergeOption(t,e)},this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,r=this._componentsMap,i=this._componentsCount,o=[],a=yt(),s=e&&e.replaceMergeMainTypeMap;Fc(this).datasetMap=yt(),B(t,function(t,e){null!=t&&(Tc.hasClass(e)?e&&(o.push(e),a.set(e,!0)):n[e]=null==n[e]?D(t):k(n[e],t,!0))}),s&&s.each(function(t,e){Tc.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))}),Tc.topologicalTravel(o,Tc.getAllClassMainTypes(),function(e){var o=function(t,e,n){var r=Uc.get(e);if(!r)return n;var i=r(t);if(!i)return n;for(var o=0;o<i.length;o++)lt(mo(i[o]));return n.concat(i)}(this,e,oo(t[e])),a=r.get(e),l=a?s&&s.get(e)?\"replaceMerge\":\"normalMerge\":\"replaceAll\",u=ho(a,o,l);(function(t,e,n){B(t,function(t){var r=t.newOption;Z(r)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,r){return e.type?e.type:n?n.subType:r.determineSubType(t,e)}(e,r,t.existing,n))})})(u,e,Tc),n[e]=null,r.set(e,null),i.set(e,0);var h,c,p=[],d=[],f=0;B(u,function(t,n){var r=t.existing,i=t.newOption;if(i){var o=\"series\"===e,a=Tc.getClass(e,t.keyInfo.subType,!o);if(!a){var s=t.keyInfo.subType,l=Jc[s];return void(tp[s]||(tp[s]=!0,$i(l?\"Series \"+s+\" is used but not imported.\\nimport { \"+l+\" } from 'echarts/charts';\\necharts.use([\"+l+\"]);\":\"Unknown series \"+s)))}if(\"tooltip\"===e){if(h)return void(c||(Ki(\"Currently only one tooltip component is allowed.\"),c=!0));h=!0}if(r&&r.constructor===a)r.name=t.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var u=L({componentIndex:n},t.keyInfo);L(r=new a(i,this,this,u),u),t.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(p.push(r.option),d.push(r),f++):(p.push(void 0),d.push(void 0))},this),n[e]=p,r.set(e,d),i.set(e,f),\"series\"===e&&Xc(this)},this),this._seriesIndices||Xc(this)},e.prototype.getOption=function(){var t=D(this.option);return B(t,function(e,n){if(Tc.hasClass(n)){for(var r=oo(e),i=r.length,o=!1,a=i-1;a>=0;a--)r[a]&&!mo(r[a])?o=!0:(r[a]=null,!o&&i--);r.length=i,t[n]=r}}),delete t[\"\\0_ec_inner\"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var r=n[e||0];if(r)return r;if(null==e)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=r?(n=[],B(oo(r),function(t){a[t]&&n.push(a[t])})):n=null!=i?np(\"id\",i,a):null!=o?np(\"name\",o,a):F(a,function(t){return!!t}),rp(n,t)):[]},e.prototype.findComponents=function(t){var e,n,r,i,o,a=t.query,s=t.mainType,l=(n=s+\"Index\",r=s+\"Id\",i=s+\"Name\",!(e=a)||null==e[n]&&null==e[r]&&null==e[i]?null:{mainType:s,index:e[n],id:e[r],name:e[i]}),u=l?this.queryComponents(l):F(this._componentsMap.get(s),function(t){return!!t});return o=rp(u,t),t.filter?F(o,t.filter):o},e.prototype.eachComponent=function(t,e,n){var r=this._componentsMap;if(X(t)){var i=e,o=t;r.each(function(t,e){for(var n=0;t&&n<t.length;n++){var r=t[n];r&&o.call(i,e,r,r.componentIndex)}})}else for(var a=Y(t)?r.get(t):Z(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var l=a[s];l&&e.call(n,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=fo(t,null);return F(this._componentsMap.get(\"series\"),function(t){return!!t&&null!=e&&t.name===e})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get(\"series\")[t]},e.prototype.getSeriesByType=function(t){return F(this._componentsMap.get(\"series\"),function(e){return!!e&&e.subType===t})},e.prototype.getSeries=function(){return F(this._componentsMap.get(\"series\"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get(\"series\")},e.prototype.eachSeries=function(t,e){Yc(this),B(this._seriesIndices,function(n){var r=this._componentsMap.get(\"series\")[n];t.call(e,r,n)},this)},e.prototype.eachRawSeries=function(t,e){B(this._componentsMap.get(\"series\"),function(n){n&&t.call(e,n,n.componentIndex)})},e.prototype.eachSeriesByType=function(t,e,n){Yc(this),B(this._seriesIndices,function(r){var i=this._componentsMap.get(\"series\")[r];i.subType===t&&e.call(n,i,r)},this)},e.prototype.eachRawSeriesByType=function(t,e,n){return B(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return Yc(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){Yc(this);var n=[];B(this._seriesIndices,function(r){var i=this._componentsMap.get(\"series\")[r];t.call(e,i,r)&&n.push(r)},this),this._seriesIndices=n,this._seriesIndicesMap=yt(n)},e.prototype.restoreData=function(t){Xc(this);var e=this._componentsMap,n=[];e.each(function(t,e){Tc.hasClass(e)&&n.push(e)}),Tc.topologicalTravel(n,Tc.getAllClassMainTypes(),function(n){B(e.get(n),function(e){!e||\"series\"===n&&function(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}(e,t)||e.restoreData()})})},e.internalField=(Xc=function(t){var e=t._seriesIndices=[];B(t._componentsMap.get(\"series\"),function(t){t&&e.push(t.componentIndex)}),t._seriesIndicesMap=yt(e)},Yc=function(t){if(!t._seriesIndices)throw new Error(\"Option should contains series.\")},void(qc=function(t,e){t.option={},t.option[\"\\0_ec_inner\"]=1,t._componentsMap=yt({series:[]}),t._componentsCount=yt();var n,r,i,o=e.aria;Z(o)&&null==o.enabled&&(o.enabled=!0),n=e,r=t._theme.option,i=n.color&&!n.colorLayer,B(r,function(t,e){\"colorLayer\"===e&&i||Tc.hasClass(e)||(\"object\"==typeof t?n[e]=n[e]?k(n[e],t,!1):D(t):null==n[e]&&(n[e]=t))}),k(e,kc,!1),t._mergeOption(e,null)})),e}(Dh);function np(t,e,n){if(U(e)){var r=yt();return B(e,function(t){null!=t&&(null!=fo(t,null)&&r.set(t,!0))}),F(n,function(e){return e&&r.get(e[t])})}var i=fo(e,null);return F(n,function(e){return e&&null!=i&&e[t]===i})}function rp(t,e){return e.hasOwnProperty(\"subType\")?F(t,function(t){return t&&t.subType===e.subType}):t}function ip(t){var e=yt();return t&&B(oo(t.replaceMerge),function(t){lt(Tc.hasClass(t),'\"'+t+'\" is not valid component main type in \"replaceMerge\"'),e.set(t,!0)}),{replaceMergeMainTypeMap:e}}N(ep,Kc);var op=[\"getDom\",\"getZr\",\"getWidth\",\"getHeight\",\"getDevicePixelRatio\",\"dispatchAction\",\"isSSR\",\"isDisposed\",\"on\",\"off\",\"getDataURL\",\"getConnectedDataURL\",\"getOption\",\"getId\",\"updateLabelLayout\"],ap=function(){return function(t){B(op,function(e){this[e]=W(t[e],t)},this)}}(),sp={},lp=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];B(sp,function(r,i){var o=r.create(t,e);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(t,e){B(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){sp[t]=e},t.get=function(t){return sp[t]},t}(),up=/^(min|max)?(.+)$/,hp=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(B(oo(t.series),function(t){t&&t.data&&$(t.data)&&ct(t.data)}),B(oo(t.dataset),function(t){t&&t.source&&$(t.source)&&ct(t.source)})),t=D(t);var r=this._optionBackup,i=function(t,e,n){var r,i,o=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||s||a&&a.timeline);a?(i=a).timeline||(i.timeline=s):((c||h)&&(t.options=t.media=null),i=t);h&&(U(u)?B(u,function(t){t&&!t.option&&Z(t.query)&&Z(t.query.option)&&$i(\"Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }\"),t&&t.option&&(t.query?o.push(t):r||(r=t))}):$i(\"Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }\"));function p(t){B(e,function(e){e(t,n)})}return p(i),B(l,function(t){return p(t)}),B(o,function(t){return p(t.option)}),{baseOption:i,timelineOptions:l||[],mediaDefault:r,mediaList:o}}(t,e,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],D(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent(\"timeline\");r&&(e=D(n[r.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,r=this._api.getWidth(),i=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,h=o.length;u<h;u++)cp(o[u].query,r,i)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(e=s,n=this._currentMediaIndices,e.join(\",\")!==n.join(\",\"))&&(l=z(s,function(t){return D(-1===t?a.option:o[t].option)})),this._currentMediaIndices=s,l},t}();function cp(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return B(t,function(t,e){var n=e.match(up);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return\"min\"===n?t>=e:\"max\"===n?t<=e:t===e})(r[a],t,o)||(i=!1)}}),i}var pp=B,dp=Z,fp=[\"areaStyle\",\"lineStyle\",\"nodeStyle\",\"linkStyle\",\"chordStyle\",\"label\",\"labelLine\"];function gp(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=fp.length;n<r;n++){var i=fp[n],o=e.normal,a=e.emphasis;o&&o[i]&&(Ji(\"itemStyle.normal.\"+i,i),t[i]=t[i]||{},t[i].normal?k(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),a&&a[i]&&(Ji(\"itemStyle.emphasis.\"+i,\"emphasis.\"+i),t[i]=t[i]||{},t[i].emphasis?k(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null)}}function yp(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(Qi(\"'normal' hierarchy in \"+e+\" has been removed since 4.0. All style properties are configured in \"+e+\" directly now.\"),n?(t[e].normal=t[e].emphasis=null,A(t[e],r)):t[e]=r),i&&(Qi(e+\".emphasis has been changed to emphasis.\"+e+\" since 4.0\"),t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function vp(t){yp(t,\"itemStyle\"),yp(t,\"lineStyle\"),yp(t,\"areaStyle\"),yp(t,\"label\"),yp(t,\"labelLine\"),yp(t,\"upperLabel\"),yp(t,\"edgeLabel\")}function mp(t,e){var n=dp(t)&&t[e],r=dp(n)&&n.textStyle;if(r){Qi(\"textStyle hierarchy in \"+e+\" has been removed since 4.0. All textStyle properties are configured in \"+e+\" directly now.\");for(var i=0,o=so.length;i<o;i++){var a=so[i];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function _p(t){t&&(vp(t),mp(t,\"label\"),t.emphasis&&mp(t.emphasis,\"label\"))}function xp(t){return U(t)?t:t?[t]:[]}function wp(t){return(U(t)?t[0]:t)||{}}function bp(t,e){pp(xp(t.series),function(t){dp(t)&&function(t){if(dp(t)){gp(t),vp(t),mp(t,\"label\"),mp(t,\"upperLabel\"),mp(t,\"edgeLabel\"),t.emphasis&&(mp(t.emphasis,\"label\"),mp(t.emphasis,\"upperLabel\"),mp(t.emphasis,\"edgeLabel\"));var e=t.markPoint;e&&(gp(e),_p(e));var n=t.markLine;n&&(gp(n),_p(n));var r=t.markArea;r&&_p(r);var i=t.data;if(\"graph\"===t.type){i=i||t.nodes;var o=t.links||t.edges;if(o&&!$(o))for(var a=0;a<o.length;a++)_p(o[a]);B(t.categories,function(t){vp(t)})}if(i&&!$(i))for(a=0;a<i.length;a++)_p(i[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)_p(s[a])}if((n=t.markLine)&&n.data){var l=n.data;for(a=0;a<l.length;a++)U(l[a])?(_p(l[a][0]),_p(l[a][1])):_p(l[a])}\"gauge\"===t.type?(mp(t,\"axisLabel\"),mp(t,\"title\"),mp(t,\"detail\")):\"treemap\"===t.type?(yp(t.breadcrumb,\"itemStyle\"),B(t.levels,function(t){vp(t)})):\"tree\"===t.type&&vp(t.leaves)}}(t)});var n=[\"xAxis\",\"yAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"parallelAxis\",\"radar\"];e&&n.push(\"valueAxis\",\"categoryAxis\",\"logAxis\",\"timeAxis\"),pp(n,function(e){pp(xp(t[e]),function(t){t&&(mp(t,\"axisLabel\"),mp(t.axisPointer,\"label\"))})}),pp(xp(t.parallel),function(t){var e=t&&t.parallelAxisDefault;mp(e,\"axisLabel\"),mp(e&&e.axisPointer,\"label\")}),pp(xp(t.calendar),function(t){yp(t,\"itemStyle\"),mp(t,\"dayLabel\"),mp(t,\"monthLabel\"),mp(t,\"yearLabel\")}),pp(xp(t.radar),function(t){mp(t,\"name\"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name,Qi(\"name property in radar component has been changed to axisName\")),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap,Qi(\"nameGap property in radar component has been changed to axisNameGap\")),pp(t.indicator,function(t){t.text&&Ji(\"text\",\"name\",\"radar.indicator\")})}),pp(xp(t.geo),function(t){dp(t)&&(_p(t),pp(xp(t.regions),function(t){_p(t)}))}),pp(xp(t.timeline),function(t){_p(t),yp(t,\"label\"),yp(t,\"itemStyle\"),yp(t,\"controlStyle\",!0);var e=t.data;U(e)&&B(e,function(t){Z(t)&&(yp(t,\"label\"),yp(t,\"itemStyle\"))})}),pp(xp(t.toolbox),function(t){yp(t,\"iconStyle\"),pp(t.feature,function(t){yp(t,\"iconStyle\")})}),mp(wp(t.axisPointer),\"label\"),mp(wp(t.tooltip).axisPointer,\"label\")}function Sp(t){t&&B(Mp,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var Mp=[[\"x\",\"left\"],[\"y\",\"top\"],[\"x2\",\"right\"],[\"y2\",\"bottom\"]],Ip=[\"grid\",\"geo\",\"parallel\",\"legend\",\"toolbox\",\"title\",\"visualMap\",\"dataZoom\",\"timeline\"],Tp=[[\"borderRadius\",\"barBorderRadius\"],[\"borderColor\",\"barBorderColor\"],[\"borderWidth\",\"barBorderWidth\"]];function Cp(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Tp.length;n++){var r=Tp[n][1],i=Tp[n][0];null!=e[r]&&(e[i]=e[r],Ji(r,i))}}function Dp(t){t&&\"edge\"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(Ji(\"label.margin\",\"label.edgeDistance\",\"pie\"),t.edgeDistance=t.margin)}function kp(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay,Ji(\"downplay\",\"blur\",\"sunburst\"))}function Lp(t,e){bp(t,e),t.series=oo(t.series),B(t.series,function(t){if(Z(t)){var e,n=t.type;if(\"line\"===n)null!=t.clipOverflow&&(t.clip=t.clipOverflow,Ji(\"clipOverflow\",\"clip\",\"line\"));else if(\"pie\"===n||\"gauge\"===n){if(null!=t.clockWise&&(t.clockwise=t.clockWise,Ji(\"clockWise\",\"clockwise\")),Dp(t.label),(o=t.data)&&!$(o))for(var r=0;r<o.length;r++)Dp(o[r]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(Ji(\"hoverOffset\",\"emphasis.scaleSize\"),t.emphasis.scaleSize=t.hoverOffset))}else if(\"gauge\"===n){var i=function(t,e){for(var n=e.split(\",\"),r=t,i=0;i<n.length&&null!=(r=r&&r[n[i]]);i++);return r}(t,\"pointer.color\");null!=i&&function(t,e,n,r){for(var i,o=e.split(\",\"),a=t,s=0;s<o.length-1;s++)null==a[i=o[s]]&&(a[i]={}),a=a[i];(r||null==a[o[s]])&&(a[o[s]]=n)}(t,\"itemStyle.color\",i)}else if(\"bar\"===n){var o;if(Cp(t),Cp(t.backgroundStyle),Cp(t.emphasis),(o=t.data)&&!$(o))for(r=0;r<o.length;r++)\"object\"==typeof o[r]&&(Cp(o[r]),Cp(o[r]&&o[r].emphasis))}else if(\"sunburst\"===n){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a,Ji(\"highlightPolicy\",\"emphasis.focus\",\"sunburst\"))),kp(t),function t(e,n){if(e)for(var r=0;r<e.length;r++)n(e[r]),e[r]&&t(e[r].children,n)}(t.data,kp)}else\"graph\"===n||\"sankey\"===n?(e=t)&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(Ji(\"focusNodeAdjacency\",\"emphasis: { focus: 'adjacency'}\",\"graph/sankey\"),e.emphasis.focus=\"adjacency\")):\"map\"===n&&(t.mapType&&!t.map&&(Ji(\"mapType\",\"map\",\"map\"),t.map=t.mapType),t.mapLocation&&(Qi(\"`mapLocation` is not used anymore.\"),A(t,t.mapLocation)));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(Ji(\"hoverAnimation\",\"emphasis.scale\"),t.emphasis.scale=t.hoverAnimation)),Sp(t)}}),t.dataRange&&(t.visualMap=t.dataRange),B(Ip,function(e){var n=t[e];n&&(U(n)||(n=[n]),B(n,function(t){Sp(t)}))})}function Ap(t){B(t,function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get(\"stackStrategy\")||\"samesign\";a.modify(o,function(o,u,h){var c,p,d=a.get(e.stackedDimension,h);if(isNaN(d))return i;s?p=a.getRawIndex(h):c=a.get(e.stackedByDimension,h);for(var f=NaN,g=n-1;g>=0;g--){var y=t[g];if(s||(p=y.data.rawIndexOf(y.stackedByDimension,c)),p>=0){var v=y.data.getByRawIndex(y.stackResultDimension,p);if(\"all\"===l||\"positive\"===l&&v>0||\"negative\"===l&&v<0||\"samesign\"===l&&d>=0&&v>0||\"samesign\"===l&&d<=0&&v<0){d=Ei(d,v),f=v;break}}}return r[0]=d,r[1]=f,r})})}var Pp,Rp,Op,Np,Ep,Bp=function(){return function(t){this.data=t.data||(t.sourceFormat===Oc?{}:[]),this.sourceFormat=t.sourceFormat||Ec,this.seriesLayoutBy=t.seriesLayoutBy||Bc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];null==r.type&&Gc(this,n)===Vc.Must&&(r.type=\"ordinal\")}}}();function zp(t){return t instanceof Bp}function Vp(t,e,n){n=n||Hp(t);var r=e.seriesLayoutBy,i=function(t,e,n,r,i){var o,a;if(!t)return{dimensionsDefine:Wp(i),startIndex:a,dimensionsDetectedCount:o};if(e===Pc){var s=t;\"auto\"===r||null==r?Gp(function(t){null!=t&&\"-\"!==t&&(Y(t)?null==a&&(a=1):a=0)},n,s,10):a=j(r)?r:r?1:0,i||1!==a||(i=[],Gp(function(t,e){i[e]=null!=t?t+\"\":\"\"},n,s,1/0)),o=i?i.length:n===zc?s.length:s[0]?s[0].length:null}else if(e===Rc)i||(i=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e)return H(e)}(t));else if(e===Oc)i||(i=[],B(t,function(t,e){i.push(e)}));else if(e===Ac){var l=lo(t[0]);o=U(l)&&l.length||1}else e===Nc&&lt(!!i,\"dimensions must be given if data is TypedArray.\");return{startIndex:a,dimensionsDefine:Wp(i),dimensionsDetectedCount:o}}(t,n,r,e.sourceHeader,e.dimensions);return new Bp({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:D(e)})}function Fp(t){return new Bp({data:t,sourceFormat:$(t)?Nc:Ac})}function Hp(t){var e=Ec;if($(t))e=Nc;else if(U(t)){0===t.length&&(e=Pc);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){if(U(i)){e=Pc;break}if(Z(i)){e=Rc;break}}}}else if(Z(t))for(var o in t)if(xt(t,o)&&E(t[o])){e=Oc;break}return e}function Wp(t){if(t){var e=yt();return z(t,function(t,n){var r={name:(t=Z(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+=\"\",null==r.displayName&&(r.displayName=r.name);var i=e.get(r.name);return i?r.name+=\"-\"+i.count++:e.set(r.name,{count:1}),r})}}function Gp(t,e,n,r){if(e===zc)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else{var o=n[0]||[];for(i=0;i<o.length&&i<r;i++)t(o[i],i)}}function Up(t){var e=t.sourceFormat;return e===Rc||e===Oc}var Xp=function(){function t(t,e){var n=zp(t)?t:Fp(t);this._source=n;var r=this._data=n.data;if(n.sourceFormat===Nc){if(null==e)throw new Error(\"Typed array data must specify dimension size\");this._offset=0,this._dimSize=e,this._data=r}Ep(this,r,n)}var e;return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((e=t.prototype).pure=!1,void(e.persistent=!0)),t.internalField=function(){var t;Ep=function(t,i,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine,h=Np[ed(a,s)];if(lt(h,\"Invalide sourceFormat: \"+a),L(t,h),a===Nc)t.getItem=e,t.count=r,t.fillStorage=n;else{var c=jp(a,s);t.getItem=W(c,null,i,l,u);var p=$p(a,s);t.count=W(p,null,i,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,i=r*t,o=0;o<r;o++)e[o]=n[i+o];return e},n=function(t,e,n,r){for(var i=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=r[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],h=e-t,c=n[a],p=0;p<h;p++){var d=i[p*o+a];c[t+p]=d,d<l&&(l=d),d>u&&(u=d)}s[0]=l,s[1]=u}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[Pc+\"_\"+Bc]={pure:!0,appendData:i},t[Pc+\"_\"+zc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".')}},t[Rc]={pure:!0,appendData:i},t[Oc]={pure:!0,appendData:function(t){var e=this._data;B(t,function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])})}},t[Ac]={appendData:i},t[Nc]={persistent:!1,pure:!0,appendData:function(t){lt($(t),\"Added data must be TypedArray if data in initialization is TypedArray\"),this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Np=t}(),t}(),Yp=function(t,e,n,r){return t[r]},qp=((Pp={})[Pc+\"_\"+Bc]=function(t,e,n,r){return t[r+e]},Pp[Pc+\"_\"+zc]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[r]:null}return o},Pp[Rc]=Yp,Pp[Oc]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){var s=n[a].name;if(null==s)throw new Error;var l=t[s];o[a]=l?l[r]:null}return o},Pp[Ac]=Yp,Pp);function jp(t,e){var n=qp[ed(t,e)];return lt(n,'Do not support get item on \"'+t+'\", \"'+e+'\".'),n}var Zp=function(t,e,n){return t.length},Kp=((Rp={})[Pc+\"_\"+Bc]=function(t,e,n){return Math.max(0,t.length-e)},Rp[Pc+\"_\"+zc]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},Rp[Rc]=Zp,Rp[Oc]=function(t,e,n){var r=n[0].name;if(null==r)throw new Error;var i=t[r];return i?i.length:0},Rp[Ac]=Zp,Rp);function $p(t,e){var n=Kp[ed(t,e)];return lt(n,'Do not support count on \"'+t+'\", \"'+e+'\".'),n}var Qp=function(t,e,n){return t[e]},Jp=((Op={})[Pc]=Qp,Op[Rc]=function(t,e,n){return t[n]},Op[Oc]=Qp,Op[Ac]=function(t,e,n){var r=lo(t);return r instanceof Array?r[e]:r},Op[Nc]=Qp,Op);function td(t){var e=Jp[t];return lt(e,'Do not support get value on \"'+t+'\".'),e}function ed(t,e){return t===Pc?t+\"_\"+e:t}function nd(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i=t.getStore(),o=i.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=i.getDimensionProperty(a);return td(o)(r,a,s)}var l=r;return o===Ac&&(l=lo(r)),l}}}var rd=/\\{@(.+?)\\}/g,id=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,\"style\"),l=s&&s[n.getItemVisual(t,\"drawType\")||\"fill\"],u=s&&s.stroke,h=this.mainType,c=\"series\"===h,p=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:i,data:a,dataType:e,value:r,color:l,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:[\"seriesName\",\"name\",\"value\"]}},t.prototype.getFormattedLabel=function(t,e,n,r,i,o){e=e||\"normal\";var a=this.getData(n),s=this.getDataParams(t,n);(o&&(s.value=o.interpolatedValue),null!=r&&U(s.value)&&(s.value=s.value[r]),i)||(i=a.getItemModel(t).get(\"normal\"===e?[\"label\",\"formatter\"]:[e,\"label\",\"formatter\"]));return X(i)?(s.status=e,s.dimensionIndex=r,i(s)):Y(i)?yc(i,s).replace(rd,function(e,n){var r=n.length,i=n;\"[\"===i.charAt(0)&&\"]\"===i.charAt(r-1)&&(i=+i.slice(1,r-1),isNaN(i)&&$i(\"Invalide label formatter: @\"+n+\", only support @[0], @[1], @[2], ...\"));var s=nd(a,t,i);if(o&&U(o.interpolatedValue)){var l=a.getDimensionIndex(i);l>=0&&(s=o.interpolatedValue[l])}return null!=s?s+\"\":\"\"}):void 0},t.prototype.getRawValue=function(t,e){return nd(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function od(t){return new ad(t)}var ad=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var o,a=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}a===l&&s===u||(e=\"reset\"),(this._dirty||\"reset\"===e)&&(this._dirty=!1,o=this._doReset(r)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(n?(lt(null!=n._outputDueEnd),this._dueEnd=n._outputDueEnd):(lt(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var p=this._dueIndex,d=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!r&&(o||p<d)){var f=this._progress;if(U(f))for(var g=0;g<f.length;g++)this._doProgress(f[g],p,d,l,u);else this._doProgress(f,p,d,l,u)}this._dueIndex=d;var y=null!=this._settedOutputEnd?this._settedOutputEnd:d;lt(y>=this._outputDueEnd),this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,r,i){sd.reset(e,n,r,i),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:sd.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),U(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){lt(t&&!t._disposed&&t!==this),(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),sd=function(){var t,e,n,r,i,o={reset:function(l,u,h,c){e=l,t=u,n=h,r=c,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%i*n+Math.ceil(e/i),a=e>=t?null:o<r?o:e;return e++,a}}();function ld(t,e){var n=e&&e.type;return\"ordinal\"===n?t:(\"time\"!==n||j(t)||null==t||\"-\"===t||(t=+Vi(t)),null==t||\"\"===t?NaN:+t)}var ud=yt({number:function(t){return parseFloat(t)},time:function(t){return+Vi(t)},trim:function(t){return Y(t)?ut(t):t}});function hd(t){return ud.get(t)}var cd={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},pd=function(){function t(t,e){if(!j(e)){'rvalue of \"<\", \">\", \"<=\", \">=\" can only be number in filter.',eo('rvalue of \"<\", \">\", \"<=\", \">=\" can only be number in filter.')}this._opFn=cd[t],this._rvalFloat=Gi(e)}return t.prototype.evaluate=function(t){return j(t)?this._opFn(t,this._rvalFloat):this._opFn(Gi(t),this._rvalFloat)},t}(),dd=function(){function t(t,e){var n=\"desc\"===t;this._resultLT=n?1:-1,null==e&&(e=n?\"min\":\"max\"),this._incomparable=\"min\"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=j(t)?t:Gi(t),r=j(e)?e:Gi(e),i=isNaN(n),o=isNaN(r);if(i&&(n=this._incomparable),o&&(r=this._incomparable),i&&o){var a=Y(t),s=Y(e);a&&(n=s?t:0),s&&(r=a?e:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},t}(),fd=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Gi(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||\"number\"!==n&&\"number\"!==this._rvalTypeof||(e=Gi(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function gd(t,e){return\"eq\"===t||\"ne\"===t?new fd(\"eq\"===t,e):xt(cd,t)?new pd(t,e):null}var yd=function(){function t(){}return t.prototype.getRawData=function(){throw new Error(\"not supported\")},t.prototype.getRawDataItem=function(t){throw new Error(\"not supported\")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return ld(t,e)},t}();function vd(t){var e=t.sourceFormat;if(!Sd(e)){eo(\"`getRawData` is not supported in source format \"+e)}return t.data}function md(t){var e=t.sourceFormat,n=t.data;if(!Sd(e)){eo(\"`cloneRawData` is not supported in source format \"+e)}if(e===Pc){for(var r=[],i=0,o=n.length;i<o;i++)r.push(n[i].slice());return r}if(e===Rc){for(r=[],i=0,o=n.length;i<o;i++)r.push(L({},n[i]));return r}}function _d(t,e,n){if(null!=n)return j(n)||!isNaN(n)&&!xt(e,n)?t[n]:xt(e,n)?e[n]:void 0}function xd(t){return D(t)}var wd=yt();function bd(t,e,n,r){e.length||eo(\"Must have at least one upstream dataset.\"),Z(t)||eo(\"transform declaration must be an object rather than \"+typeof t+\".\");var i=t.type,o=wd.get(i);o||eo('Can not find transform on type \"'+i+'\".');var a,s=z(e,function(t){return function(t,e){var n=new yd,r=t.data,i=n.sourceFormat=t.sourceFormat,o=t.startIndex;t.seriesLayoutBy!==Bc&&eo('`seriesLayoutBy` of upstream dataset can only be \"column\" in data transform.');var a=[],s={},l=t.dimensionsDefine;if(l)B(l,function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};a.push(r),null!=n&&(xt(s,n)&&eo('dimension name \"'+n+'\" duplicated.'),s[n]=r)});else for(var u=0;u<t.dimensionsDetectedCount;u++)a.push({index:u});var h=jp(i,Bc);e.__isBuiltIn&&(n.getRawDataItem=function(t){return h(r,o,a,t)},n.getRawData=W(vd,null,t)),n.cloneRawData=W(md,null,t);var c=$p(i,Bc);n.count=W(c,null,r,o,a);var p=td(i);n.retrieveValue=function(t,e){var n=h(r,o,a,t);return d(n,e)};var d=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=a[e];return n?p(t,e,n.name):void 0}};return n.getDimensionInfo=W(_d,null,a,s),n.cloneAllDimensionInfo=W(xd,null,a),n}(t,o)}),l=oo(o.transform({upstream:s[0],upstreamList:s,config:D(t.config)}));if(t.print){var u=z(l,function(t){var e=null!=r?\" === pipe index: \"+r:\"\";return[\"=== dataset index: \"+n.datasetIndex+e+\" ===\",\"- transform result data:\",to(t.data),\"- transform result dimensions:\",to(t.dimensions)].join(\"\\n\")}).join(\"\\n\");Zi(\"log\",u,a)}return z(l,function(t,n){var r;Z(t)||eo(\"A transform should not return some empty results.\"),t.data||eo(\"Transform result data should be not be null or undefined\"),Sd(Hp(t.data))||eo(\"Transform result data should be array rows or object rows.\");var i=e[0];if(i&&0===n&&!t.dimensions){var o=i.startIndex;o&&(t.data=i.data.slice(0,o).concat(t.data)),r={seriesLayoutBy:Bc,sourceHeader:o,dimensions:i.metaRawOption.dimensions}}else r={seriesLayoutBy:Bc,sourceHeader:0,dimensions:t.dimensions};return Vp(t.data,r,null)})}function Sd(t){return t===Pc||t===Rc}var Md,Id=\"undefined\"==typeof Uint32Array?Array:Uint32Array,Td=\"undefined\"==typeof Uint16Array?Array:Uint16Array,Cd=\"undefined\"==typeof Int32Array?Array:Int32Array,Dd=\"undefined\"==typeof Float64Array?Array:Float64Array,kd={float:Dd,int:Cd,ordinal:Array,number:Array,time:Dd};function Ld(t){return t>65535?Id:Td}function Ad(t,e,n,r,i){var o=kd[n||\"float\"];if(i){var a=t[e],s=a&&a.length;if(s!==r){for(var l=new o(r),u=0;u<s;u++)l[u]=a[u];t[e]=l}}else t[e]=new o(r)}var Pd=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=yt()}return t.prototype.initData=function(t,e,n){lt(X(t.getItem)&&X(t.count),\"Invalid data provider.\"),this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),i=this.defaultDimValueGetter=Md[r.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[];var o=Up(r);this._dimensions=z(e,function(t){return o&&lt(null!=t.property),{type:t.type,property:t.property}}),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(t);if(null!=i){if(r[i].type===e)return i}else i=r.length;return r[i]={type:e},n.set(t,i),this._chunks[i]=new kd[e||\"float\"](this._rawCount),this._rawExtent[i]=[1/0,-1/0],i},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],i=this._rawExtent,o=r.ordinalOffset||0,a=n.length;0===o&&(i[t]=[1/0,-1/0]);for(var s=i[t],l=o;l<a;l++){var u=n[l]=e.parseAndCollect(n[l]);isNaN(u)||(s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1]))}r.ordinalMeta=e,r.ordinalOffset=a,r.type=\"ordinal\"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){lt(!this._indices,\"appendData can only be called on raw data.\");var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,r=this._dimensions,i=r.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e||0),l=0;l<i;l++){Ad(n,l,(d=r[l]).type,s,!0)}for(var u=[],h=a;h<s;h++)for(var c=h-a,p=0;p<i;p++){var d=r[p],f=Md.arrayRows.call(this,t[c]||u,d.property,c,p);n[p][h]=f;var g=o[p];f<g[0]&&(g[0]=f),f>g[1]&&(g[1]=f)}return this._rawCount=this._count=s,{start:a,end:s}},t.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,i=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=z(o,function(t){return t.property}),u=0;u<a;u++){var h=o[u];s[u]||(s[u]=[1/0,-1/0]),Ad(i,u,h.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,i,s);else for(var c=[],p=t;p<e;p++){c=r.getItem(p,c);for(var d=0;d<a;d++){var f=i[d],g=this._dimValueGetter(c,l[d],p,d);f[p]=g;var y=s[d];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],r=[];if(null==e){e=t,t=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=t;i=0;for(var o=r.length;i<o;i++)n.push(this.get(r[i],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,r=this.count();n<r;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],function(t){isNaN(t)||e.push(t)});var n=e.sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks[t],i=[];if(!r)return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var h=e-r[this.getRawIndex(l)],c=Math.abs(h);c<=n&&((c<o||c===o&&h>=0&&a<0)&&(o=c,a=h,s=0),h===a&&(i[s++]=l))}return i.length=s,i},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var i=0;i<r;i++)t[i]=e[i]}else t=new n(e.buffer,0,r)}else{t=new(n=Ld(this._rawCount))(this.count());for(i=0;i<t.length;i++)t[i]=i}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=new(Ld(n._rawCount))(r),o=[],a=t.length,s=0,l=t[0],u=n._chunks,h=0;h<r;h++){var c=void 0,p=n.getRawIndex(h);if(0===a)c=e(h);else if(1===a){c=e(u[l][p],h)}else{for(var d=0;d<a;d++)o[d]=u[t[d]][p];o[d]=h,c=e.apply(null,o)}c&&(i[s++]=p)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=H(t),i=r.length;if(!i)return this;var o=e.count(),a=new(Ld(e._rawCount))(o),s=0,l=r[0],u=t[l][0],h=t[l][1],c=e._chunks,p=!1;if(!e._indices){var d=0;if(1===i){for(var f=c[r[0]],g=0;g<n;g++){((_=f[g])>=u&&_<=h||isNaN(_))&&(a[s++]=d),d++}p=!0}else if(2===i){f=c[r[0]];var y=c[r[1]],v=t[r[1]][0],m=t[r[1]][1];for(g=0;g<n;g++){var _=f[g],x=y[g];(_>=u&&_<=h||isNaN(_))&&(x>=v&&x<=m||isNaN(x))&&(a[s++]=d),d++}p=!0}}if(!p)if(1===i)for(g=0;g<o;g++){var w=e.getRawIndex(g);((_=c[r[0]][w])>=u&&_<=h||isNaN(_))&&(a[s++]=w)}else for(g=0;g<o;g++){for(var b=!0,S=(w=e.getRawIndex(g),0);S<i;S++){var M=r[S];((_=c[M][w])<t[M][0]||_>t[M][1])&&(b=!1)}b&&(a[s++]=e.getRawIndex(g))}return s<o&&(e._indices=a),e._count=s,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var r=t._chunks,i=[],o=e.length,a=t.count(),s=[],l=t._rawExtent,u=0;u<e.length;u++)l[e[u]]=[1/0,-1/0];for(var h=0;h<a;h++){for(var c=t.getRawIndex(h),p=0;p<o;p++)s[p]=r[e[p]][c];s[o]=h;var d=n&&n.apply(null,s);if(null!=d){\"object\"!=typeof d&&(i[0]=d,d=i);for(u=0;u<d.length;u++){var f=e[u],g=d[u],y=l[f],v=r[f];v&&(v[c]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,r,i,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),l=0,u=Math.floor(1/e),h=this.getRawIndex(0),c=new(Ld(this._rawCount))(Math.min(2*(Math.ceil(s/u)+2),s));c[l++]=h;for(var p=1;p<s-1;p+=u){for(var d=Math.min(p+u,s-1),f=Math.min(p+2*u,s),g=(f+d)/2,y=0,v=d;v<f;v++){var m=a[I=this.getRawIndex(v)];isNaN(m)||(y+=m)}y/=f-d;var _=p,x=Math.min(p+u,s),w=p-1,b=a[h];n=-1,i=_;var S=-1,M=0;for(v=_;v<x;v++){var I;m=a[I=this.getRawIndex(v)];isNaN(m)?(M++,S<0&&(S=I)):(r=Math.abs((w-g)*(m-b)-(w-v)*(y-b)))>n&&(n=r,i=I)}M>0&&M<x-_&&(c[l++]=Math.min(S,i),i=Math.max(S,i)),c[l++]=i,h=i}return c[l++]=this.getRawIndex(s-1),o._count=l,o._indices=c,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,r){for(var i=this.clone([t],!0),o=i._chunks,a=[],s=Math.floor(1/e),l=o[t],u=this.count(),h=i._rawExtent[t]=[1/0,-1/0],c=new(Ld(this._rawCount))(Math.ceil(u/s)),p=0,d=0;d<u;d+=s){s>u-d&&(s=u-d,a.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(d+f);a[f]=l[g]}var y=n(a),v=this.getRawIndex(Math.min(d+r(a,y)||0,u-1));l[v]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),c[p++]=v}return i._count=p,i._indices=c,i._updateGetRawIdx(),i},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,i=0,o=this.count();i<o;i++){var a=this.getRawIndex(i);switch(n){case 0:e(i);break;case 1:e(r[t[0]][a],i);break;case 2:e(r[t[0]][a],r[t[1]][a],i);break;default:for(var s=0,l=[];s<n;s++)l[s]=r[t[s]][a];l[s]=i,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var r,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var o=(r=n)[0],a=r[1],s=0;s<i;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return r=[o,a],this._extent[t]=r,r},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][e]);return n},t.prototype.clone=function(e,n){var r,i,o=new t,a=this._chunks,s=e&&V(e,function(t,e){return t[e]=!0,t},{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(r=a[l],i=void 0,(i=r.constructor)===Array?r.slice():new i(r)):a[l];else o._chunks=a;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=D(this._extent),t._rawExtent=D(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,r){return ld(t[r],this._dimensions[r])}Md={arrayRows:t,objectRows:function(t,e,n,r){return ld(t[e],this._dimensions[r])},keyedColumns:t,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return ld(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(t,e,n,r){return t[r]}}}(),t}(),Rd=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+\"_\"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,r=this._getUpstreamSourceManagers(),i=!!r.length;if(Nd(n)){var o=n,a=void 0,s=void 0,l=void 0;if(i){var u=r[0];u.prepareSource(),a=(l=u.getSource()).data,s=l.sourceFormat,e=[u._getVersionSign()]}else s=$(a=o.get(\"data\",!0))?Nc:Ac,e=[];var h=this._getSourceMetaRawOption()||{},c=l&&l.metaRawOption||{},p=it(h.seriesLayoutBy,c.seriesLayoutBy)||null,d=it(h.sourceHeader,c.sourceHeader),f=it(h.dimensions,c.dimensions);t=p!==c.seriesLayoutBy||!!d!=!!c.sourceHeader||f?[Vp(a,{seriesLayoutBy:p,sourceHeader:d,dimensions:f},s)]:[]}else{var g=n;if(i){var y=this._applyTransform(r);t=y.sourceList,e=y.upstreamSignList}else{t=[Vp(g.get(\"source\",!0),this._getSourceMetaRawOption(),null)],e=[]}}lt(t&&e),this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,r=n.get(\"transform\",!0),i=n.get(\"fromTransformResult\",!0);if(lt(null!=i||null!=r),null!=i){1!==t.length&&Ed(\"When using `fromTransformResult`, there should be only one upstream dataset\")}var o,a=[],s=[];return B(t,function(t){t.prepareSource();var e=t.getSource(i||0);null==i||e||Ed(\"Can not retrieve result by `fromTransformResult`: \"+i),a.push(e),s.push(t._getVersionSign())}),r?e=function(t,e,n){var r=oo(t),i=r.length;i||eo(\"If `transform` declared, it should at least contain one transform.\");for(var o=0,a=i;o<a;o++)e=bd(r[o],e,n,1===i?null:o),o!==a-1&&(e.length=Math.max(e.length,1));return e}(r,a,{datasetIndex:n.componentIndex}):null!=i&&(e=[(o=a[0],new Bp({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:D(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:s}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){lt(Nd(this._sourceHost),\"Can only call getDataStore on series source manager.\");var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var r=this._storeList,i=r[0];i||(i=r[0]={});var o=i[n];if(!o){var a=this._getUpstreamSourceManagers()[0];Nd(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new Pd).initData(new Xp(e,t.length),t),i[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Nd(t)){var e=Wc(t);return e?[e.getSourceManager()]:[]}return z(function(t){return t.get(\"transform\",!0)||t.get(\"fromTransformResult\",!0)?Io(t.ecModel,\"dataset\",{index:t.get(\"fromDatasetIndex\",!0),id:t.get(\"fromDatasetId\",!0)},Mo).models:[]}(t),function(t){return t.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(Nd(r))t=r.get(\"seriesLayoutBy\",!0),e=r.get(\"sourceHeader\",!0),n=r.get(\"dimensions\",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;t=i.get(\"seriesLayoutBy\",!0),e=i.get(\"sourceHeader\",!0),n=i.get(\"dimensions\",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function Od(t){t.option.transform&&ct(t.option.transform)}function Nd(t){return\"series\"===t.mainType}function Ed(t){throw new Error(t)}function Bd(t,e){return e.type=t,e}function zd(t,e){return function(t,e){return e=e||\"transparent\",Y(t)?t:Z(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}(t.getData().getItemVisual(e,\"style\")[t.visualDrawType])}function Vd(t){var e,n,r,i,o=t.series,a=t.dataIndex,s=t.multipleSeries,l=o.getData(),u=l.mapDimensionsAll(\"defaultedTooltip\"),h=u.length,c=o.getRawValue(a),p=U(c),d=zd(o,a);if(h>1||p&&!h){var f=function(t,e,n,r,i){var o=e.getData(),a=V(t,function(t,e,n){var r=o.getDimensionInfo(n);return t=t||r&&!1!==r.tooltip&&null!=r.displayName},!1),s=[],l=[],u=[];function h(t,e){var n=o.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?u.push(Bd(\"nameValue\",{markerType:\"subItem\",markerColor:i,name:n.displayName,value:t,valueType:n.type})):(s.push(t),l.push(n.type)))}return r.length?B(r,function(t){h(nd(o,n,t),t)}):B(t,h),{inlineValues:s,inlineValueTypes:l,blocks:u}}(c,o,a,u,d);e=f.inlineValues,n=f.inlineValueTypes,r=f.blocks,i=f.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);i=e=nd(l,a,u[0]),n=g.type}else i=e=p?c[0]:c;var y=vo(o),v=y&&o.name||\"\",m=l.getName(a),_=s?v:m;return Bd(\"section\",{header:v,noHeader:s||!y,sortParam:i,blocks:[Bd(\"nameValue\",{markerType:\"item\",markerColor:d,name:_,noName:!ut(_),value:e,valueType:n})].concat(r||[])})}var Fd=xo();function Hd(t,e){return t.getName(e)||t.getId(e)}var Wd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}var r;return n(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=od({count:Ud,reset:Xd}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(Fd(this).sourceManager=new Rd(this)).prepareSource();var r=this.getInitialData(t,n);qd(r,this),this.dataTask.context.data=r,lt(r,\"getInitialData returned invalid data.\"),Fd(this).dataBeforeProcessed=r,Gd(this),this._initSelectedMapFromData(r)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=bc(this),r=n?Mc(t):{},i=this.subType;Tc.hasClass(i)&&(i+=\"Series\"),k(t,e.getTheme().get(this.subType)),k(t,this.getDefaultOption()),ao(t,\"label\",[\"show\"]),this.fillDataTextStyle(t.data),n&&Sc(t,r,n)},e.prototype.mergeOption=function(t,e){t=k(this.option,t,!0),this.fillDataTextStyle(t.data);var n=bc(this);n&&Sc(this.option,t,n);var r=Fd(this).sourceManager;r.dirty(),r.prepareSource();var i=this.getInitialData(t,e);qd(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Fd(this).dataBeforeProcessed=i,Gd(this),this._initSelectedMapFromData(i)},e.prototype.fillDataTextStyle=function(t){if(t&&!$(t))for(var e=[\"show\"],n=0;n<t.length;n++)t[n]&&t[n].label&&ao(t[n],\"label\",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=Zd(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return Fd(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=Zd(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}Fd(this).data=t},e.prototype.getEncode=function(){var t=this.get(\"encode\",!0);if(t)return yt(t)},e.prototype.getSourceManager=function(){return Fd(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Fd(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get(\"colorBy\")||\"series\"},e.prototype.isColorBySeries=function(){return\"series\"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Vd({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(i.node&&(!t||!t.ssr))return!1;var e=this.getShallow(\"animation\");return e&&this.getData().count()>this.getShallow(\"animationThreshold\")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var r=this.ecModel,i=Kc.prototype.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get(\"progressive\")},e.prototype.getProgressiveThreshold=function(){return this.get(\"progressiveThreshold\")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,i=this.getData(e);if(\"series\"===r||\"all\"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<t.length;o++){var a=Hd(i,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],r=0;r<t.length;r++)n[0]=t[r],this.isSelected(t[r],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if(\"all\"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=H(t),n=[],r=0;r<e.length;r++){var i=t[e[r]];i>=0&&n.push(i)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(e);return(\"all\"===n||n[Hd(r,t)])&&!r.getItemModel(t).get([\"select\",\"disabled\"])},e.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,r,i=this.option,o=i.selectedMode,a=e.length;if(o&&a)if(\"series\"===o)i.selectedMap=\"all\";else if(\"multiple\"===o){Z(i.selectedMap)||(i.selectedMap={});for(var s=i.selectedMap,l=0;l<a;l++){var u=e[l];s[c=Hd(t,u)]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(u)}}else if(\"single\"===o||!0===o){var h=e[a-1],c=Hd(t,h);i.selectedMap=((n={})[c]=!0,n),this._selectedDataIndicesMap=((r={})[c]=t.getRawIndex(h),r)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each(function(n){var r=t.getRawDataItem(n);r&&r.selected&&e.push(n)}),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return Tc.registerClass(t)},e.protoInitialize=((r=e.prototype).type=\"series.__base__\",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol=\"circle\",r.visualStyleAccessPath=\"itemStyle\",void(r.visualDrawType=\"fill\")),e}(Tc);function Gd(t){var e=t.name;vo(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll(\"seriesName\"),r=[];return B(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)}),r.join(\" \")}(t)||e)}function Ud(t){return t.model.getRawData().count()}function Xd(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),Yd}function Yd(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function qd(t,e){B(vt(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,G(jd,e))})}function jd(t,e){var n=Zd(t);return n&&n.setOutputEnd((e||this).count()),e}function Zd(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}N(Wd,id),N(Wd,Kc),Po(Wd,Tc);var Kd=function(){function t(){this.group=new wi,this.uid=Lh(\"viewComponent\")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){},t.prototype.updateLayout=function(t,e,n,r){},t.prototype.updateVisual=function(t,e,n,r){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();Ao(Kd),Eo(Kd);var $d=xo(),Qd=function(){var t=xo();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===a&&o===s)&&\"reset\"}}(),Jd=function(){function t(){this.group=new wi,this.uid=Lh(\"viewChart\"),this.renderTask=od({plan:nf,reset:rf}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){throw new Error(\"render method must been implemented\")},t.prototype.highlight=function(t,e,n,r){var i=t.getData(r&&r.dataType);i?ef(i,r,\"emphasis\"):$i(\"Unknown dataType \"+r.dataType)},t.prototype.downplay=function(t,e,n,r){var i=t.getData(r&&r.dataType);i?ef(i,r,\"normal\"):$i(\"Unknown dataType \"+r.dataType)},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.eachRendered=function(t){nh(this.group,t)},t.markUpdateMethod=function(t,e){$d(t).updateMethod=e},t.protoInitialize=void(t.prototype.type=\"chart\"),t}();function tf(t,e,n){t&&Cl(t)&&(\"emphasis\"===e?pl:dl)(t,n)}function ef(t,e,n){var r=_o(t,e),i=e&&null!=e.highlightKey?function(t){var e=Ns[t];return null==e&&Os<=32&&(e=Ns[t]=Os++),e}(e.highlightKey):null;null!=r?B(oo(r),function(e){tf(t.getItemGraphicEl(e),n,i)}):t.eachItemGraphicEl(function(t){tf(t,n,i)})}function nf(t){return Qd(t.model)}function rf(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&$d(i).updateMethod,l=o?\"incrementalPrepareRender\":s&&a[s]?s:\"render\";return\"render\"!==l&&a[l](e,n,r,i),of[l]}Ao(Jd,[\"dispose\"]),Eo(Jd);var of={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};function af(t,e,n){var r,i,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,t.apply(o,a||[])}e=e||0;var p=function(){for(var t=[],p=0;p<arguments.length;p++)t[p]=arguments[p];r=(new Date).getTime(),o=this,a=t;var d=s||e,f=s||n;s=null,i=r-(f?l:u)-d,clearTimeout(h),f?h=setTimeout(c,d):i>=0?c():h=setTimeout(c,-i),l=r};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(t){s=t},p}var sf=xo(),lf={itemStyle:Bo(Ih,!0),lineStyle:Bo(bh,!0)},uf={lineStyle:\"stroke\",itemStyle:\"fill\"};function hf(t,e){var n=t.visualStyleMapper||lf[e];return n||(console.warn(\"Unknown style type '\"+e+\"'.\"),lf.itemStyle)}function cf(t,e){var n=t.visualDrawType||uf[e];return n||(console.warn(\"Unknown style type '\"+e+\"'.\"),\"fill\")}var pf={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||\"itemStyle\",i=t.getModel(r),o=hf(t,r)(i),a=i.getShallow(\"decal\");a&&(n.setVisual(\"decal\",a),a.dirty=!0);var s=cf(t,r),l=o[s],u=X(l)?l:null,h=\"auto\"===o.fill||\"auto\"===o.stroke;if(!o[s]||u||h){var c=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[s]||(o[s]=c,n.setVisual(\"colorFromPalette\",!0)),o.fill=\"auto\"===o.fill||X(o.fill)?c:o.fill,o.stroke=\"auto\"===o.stroke||X(o.stroke)?c:o.stroke}if(n.setVisual(\"style\",o),n.setVisual(\"drawType\",s),!e.isSeriesFiltered(t)&&u)return n.setVisual(\"colorFromPalette\",!1),{dataEach:function(e,n){var r=t.getDataParams(n),i=L({},o);i[s]=u(r),e.setItemVisual(n,\"style\",i)}}}},df=new Dh,ff={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||\"itemStyle\",i=hf(t,r),o=n.getVisual(\"drawType\");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[r]){df.option=n[r];var a=i(df);L(t.ensureUniqueItemVisual(e,\"style\"),a),df.option.decal&&(t.setItemVisual(e,\"decal\",df.option.decal),df.option.decal.dirty=!0),o in a&&t.setItemVisual(e,\"colorFromPalette\",!1)}}:null}}}},gf={performRawSeries:!0,overallReset:function(t){var e=yt();t.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+\"-\"+n,i=e.get(r);i||(i={},e.set(r,i)),sf(t).scope=i}}),t.eachSeries(function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),r={},i=e.getData(),o=sf(e).scope,a=e.visualStyleAccessPath||\"itemStyle\",s=cf(e,a);i.each(function(t){var e=i.getRawIndex(t);r[e]=t}),n.each(function(t){var a=r[t];if(i.getItemVisual(a,\"colorFromPalette\")){var l=i.ensureUniqueItemVisual(a,\"style\"),u=n.getName(t)||t+\"\",h=n.count();l[s]=e.getColorFromPalette(u,o,h)}})}})}},yf=Math.PI;var vf=function(){function t(t,e,n,r){this._stageTaskMap=yt(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=r&&r.modDataCount;return{step:i,modBy:null!=o?Math.ceil(o/i):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,o=t.get(\"large\")&&r>=t.get(\"largeThreshold\"),a=\"mod\"===t.get(\"progressiveChunkMode\")?r:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=yt();t.eachSeries(function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),e._pipe(t,t.dataTask)})},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;B(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,{});lt(!(r.reset&&r.overallReset),'\"reset\" and \"overallReset\" must not be both specified.'),r.reset&&this._createSeriesStageTask(r,i,e,n),r.overallReset&&this._createOverallStageTask(r,i,e,n)},this)},t.prototype.prepareView=function(t,e,n,r){var i=t.renderTask,o=i.context;o.model=e,o.ecModel=n,o.api=r,i.__block=!t.incrementalPrepareRender,this._pipe(e,i)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,r){r=r||{};var i=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}B(t,function(t,s){if(!r.visualType||r.visualType===t.visualType){var l=o._stageTaskMap.get(t.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,p=h.agentStubMap;p.each(function(t){a(r,t)&&(t.dirty(),c=!0)}),c&&h.dirty(),o.updatePayload(h,n);var d=o.getPerformArgs(h,r.block);p.each(function(t){t.perform(d)}),h.perform(d)&&(i=!0)}else u&&u.each(function(s,l){a(r,s)&&s.dirty();var u=o.getPerformArgs(s,r.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(u)&&(i=!0)})}}),this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e}),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},t.prototype.updatePayload=function(t,e){\"remain\"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,r){var i=this,o=e.seriesTaskMap,a=e.seriesTaskMap=yt(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=a.set(s,o&&o.get(s)||od({plan:bf,reset:Sf,count:Tf}));l.context={model:e,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(u):s?n.eachRawSeriesByType(s,u):l&&l(n,r).each(u)},t.prototype._createOverallStageTask=function(t,e,n,r){var i=this,o=e.overallTask=e.overallTask||od({reset:mf});o.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var a=o.agentStubMap,s=o.agentStubMap=yt(),l=t.seriesType,u=t.getTargetSeries,h=!0,c=!1;function p(t){var e=t.uid,n=s.set(e,a&&a.get(e)||(c=!0,od({reset:_f,onDirty:wf})));n.context={model:t,overallProgress:h},n.agent=o,n.__block=h,i._pipe(t,n)}lt(!t.createOnAllSeries,'\"createOnAllSeries\" is not supported for \"overallReset\", because it will block all streams.'),l?n.eachRawSeriesByType(l,p):u?u(n,r).each(p):(h=!1,B(n.getSeries(),p)),c&&o.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},t.wrapStageHandler=function(t,e){return X(t)&&(t={overallReset:t,seriesType:function(t){Cf=null;try{t(Df,kf)}catch(t){}return Cf}(t)}),t.uid=Lh(\"stageHandler\"),e&&(t.visualType=e),t},t}();function mf(t){t.overallReset(t.ecModel,t.api,t.payload)}function _f(t){return t.overallProgress&&xf}function xf(){this.agent.dirty(),this.getDownstream().dirty()}function wf(){this.agent&&this.agent.dirty()}function bf(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Sf(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=oo(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?z(e,function(t,e){return If(e)}):Mf}var Mf=If(0);function If(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function Tf(t){return t.data.count()}var Cf,Df={},kf={};function Lf(t,e){for(var n in e.prototype)t[n]=wt}Lf(Df,ep),Lf(kf,ap),Df.eachSeriesByType=Df.eachRawSeriesByType=function(t){Cf=t},Df.eachComponent=function(t){\"series\"===t.mainType&&t.subType&&(Cf=t.subType)};var Af=[\"#37A2DA\",\"#32C5E9\",\"#67E0E3\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#E062AE\",\"#E690D1\",\"#e7bcf3\",\"#9d96f5\",\"#8378EA\",\"#96BFFF\"],Pf={color:Af,colorLayer:[[\"#37A2DA\",\"#ffd85c\",\"#fd7b5f\"],[\"#37A2DA\",\"#67E0E3\",\"#FFDB5C\",\"#ff9f7f\",\"#E062AE\",\"#9d96f5\"],[\"#37A2DA\",\"#32C5E9\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#e7bcf3\",\"#8378EA\",\"#96BFFF\"],Af]},Rf=[\"#4992ff\",\"#7cffb2\",\"#fddd60\",\"#ff6e76\",\"#58d9f9\",\"#05c091\",\"#ff8a45\",\"#8d48e3\",\"#dd79ff\"],Of={darkMode:!0,color:Rf,backgroundColor:\"#100C2A\",axisPointer:{lineStyle:{color:\"#817f91\"},crossStyle:{color:\"#817f91\"},label:{color:\"#fff\"}},legend:{textStyle:{color:\"#B9B8CE\"}},textStyle:{color:\"#B9B8CE\"},title:{textStyle:{color:\"#EEF1FA\"},subtextStyle:{color:\"#B9B8CE\"}},toolbox:{iconStyle:{borderColor:\"#B9B8CE\"}},dataZoom:{borderColor:\"#71708A\",textStyle:{color:\"#B9B8CE\"},brushStyle:{color:\"rgba(135,163,206,0.3)\"},handleStyle:{color:\"#353450\",borderColor:\"#C5CBE3\"},moveHandleStyle:{color:\"#B0B6C3\",opacity:.3},fillerColor:\"rgba(135,163,206,0.2)\",emphasis:{handleStyle:{borderColor:\"#91B7F2\",color:\"#4D587D\"},moveHandleStyle:{color:\"#636D9A\",opacity:.7}},dataBackground:{lineStyle:{color:\"#71708A\",width:1},areaStyle:{color:\"#71708A\"}},selectedDataBackground:{lineStyle:{color:\"#87A3CE\"},areaStyle:{color:\"#87A3CE\"}}},visualMap:{textStyle:{color:\"#B9B8CE\"}},timeline:{lineStyle:{color:\"#B9B8CE\"},label:{color:\"#B9B8CE\"},controlStyle:{color:\"#B9B8CE\",borderColor:\"#B9B8CE\"}},calendar:{itemStyle:{color:\"#100C2A\"},dayLabel:{color:\"#B9B8CE\"},monthLabel:{color:\"#B9B8CE\"},yearLabel:{color:\"#B9B8CE\"}},timeAxis:{axisLine:{lineStyle:{color:\"#B9B8CE\"}},splitLine:{lineStyle:{color:\"#484753\"}},splitArea:{areaStyle:{color:[\"rgba(255,255,255,0.02)\",\"rgba(255,255,255,0.05)\"]}},minorSplitLine:{lineStyle:{color:\"#20203B\"}}},logAxis:{axisLine:{lineStyle:{color:\"#B9B8CE\"}},splitLine:{lineStyle:{color:\"#484753\"}},splitArea:{areaStyle:{color:[\"rgba(255,255,255,0.02)\",\"rgba(255,255,255,0.05)\"]}},minorSplitLine:{lineStyle:{color:\"#20203B\"}}},valueAxis:{axisLine:{lineStyle:{color:\"#B9B8CE\"}},splitLine:{lineStyle:{color:\"#484753\"}},splitArea:{areaStyle:{color:[\"rgba(255,255,255,0.02)\",\"rgba(255,255,255,0.05)\"]}},minorSplitLine:{lineStyle:{color:\"#20203B\"}}},categoryAxis:{axisLine:{lineStyle:{color:\"#B9B8CE\"}},splitLine:{lineStyle:{color:\"#484753\"}},splitArea:{areaStyle:{color:[\"rgba(255,255,255,0.02)\",\"rgba(255,255,255,0.05)\"]}},minorSplitLine:{lineStyle:{color:\"#20203B\"}}},line:{symbol:\"circle\"},graph:{color:Rf},gauge:{title:{color:\"#B9B8CE\"},axisLine:{lineStyle:{color:[[1,\"rgba(207,212,219,0.2)\"]]}},axisLabel:{color:\"#B9B8CE\"},detail:{color:\"#EEF1FA\"}},candlestick:{itemStyle:{color:\"#f64e56\",color0:\"#54ea92\",borderColor:\"#f64e56\",borderColor0:\"#54ea92\"}}};Of.categoryAxis.splitLine.show=!1;var Nf=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},r={};if(Y(t)){var i=Lo(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var o=[\"Index\",\"Name\",\"Id\"],a={name:1,dataIndex:1,dataType:1};B(t,function(t,i){for(var s=!1,l=0;l<o.length;l++){var u=o[l],h=i.lastIndexOf(u);if(h>0&&h===i.length-u.length){var c=i.slice(0,h);\"data\"!==c&&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(i)&&(n[i]=t,s=!0),s||(r[i]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,\"mainType\")&&u(s,o,\"subType\")&&u(s,o,\"index\",\"componentIndex\")&&u(s,o,\"name\")&&u(s,o,\"id\")&&u(l,i,\"name\")&&u(l,i,\"dataIndex\")&&u(l,i,\"dataType\")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,i));function u(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Ef=[\"symbol\",\"symbolSize\",\"symbolRotate\",\"symbolOffset\"],Bf=Ef.concat([\"symbolKeepAspect\"]),zf={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual(\"legendIcon\",t.legendIcon),t.hasSymbolVisual){for(var r={},i={},o=!1,a=0;a<Ef.length;a++){var s=Ef[a],l=t.get(s);X(l)?(o=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(L({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get(\"symbolKeepAspect\")},r)),!e.isSeriesFiltered(t)){var u=H(i);return{dataEach:o?function(e,n){for(var r=t.getRawValue(n),o=t.getDataParams(n),a=0;a<u.length;a++){var s=u[a];e.setItemVisual(n,s,i[s](r,o))}}:null}}}}},Vf={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),r=0;r<Bf.length;r++){var i=Bf[r],o=n.getShallow(i,!0);null!=o&&t.setItemVisual(e,i,o)}}:null}}};function Ff(t,e,n,r,i){var o=t+e;n.isSilent(o)||(Qi(\"event \"+o+\" is deprecated.\"),r.eachComponent({mainType:\"series\",subType:\"pie\"},function(t){for(var e=t.seriesIndex,r=t.option.selectedMap,a=i.selected,s=0;s<a.length;s++)if(a[s].seriesIndex===e){var l=t.getData(),u=_o(l,i.fromActionPayload);n.trigger(o,{type:o,seriesId:t.id,name:U(u)?l.getName(u[0]):l.getName(u),selected:Y(r)?r:L({},r)})}}))}function Hf(t,e,n){for(var r;t&&(!e(t)||(r=t,!n));)t=t.__hostTarget||t.parent;return r}var Wf=Math.round(9*Math.random()),Gf=\"function\"==typeof Object.defineProperty,Uf=function(){function t(){this._id=\"__ec_inner_\"+Wf++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return Gf?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError(\"Value of WeakMap is not a non-null object.\");return t},t}(),Xf=us.extend({type:\"triangle\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),Yf=us.extend({type:\"diamond\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),qf=us.extend({type:\"pin\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),p=Math.cos(u),d=.6*a,f=.7*a;t.moveTo(n-h,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*d,l+s+p*d,n,r-f,n,r),t.bezierCurveTo(n,r-f,n-h+c*d,l+s+p*d,n-h,l+s),t.closePath()}}),jf=us.extend({type:\"arrow\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),Zf={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},Kf={};B({line:wu,rect:_s,roundRect:_s,square:_s,circle:jl,diamond:Yf,pin:qf,arrow:jf,triangle:Xf},function(t,e){Kf[e]=new t});var $f=us.extend({type:\"symbol\",shape:{symbolType:\"\",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=pi(t,e,n),i=this.shape;return i&&\"pin\"===i.symbolType&&\"inside\"===e.position&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if(\"none\"!==r){var i=Kf[r];i||(i=Kf[r=\"rect\"]),Zf[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function Qf(t,e){if(\"image\"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||\"#fff\",n.lineWidth=2):\"line\"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function Jf(t,e,n,r,i,o,a){var s,l=0===t.indexOf(\"empty\");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf(\"image://\")?$u(t.slice(8),new Oe(e,n,r,i),a?\"center\":\"cover\"):0===t.indexOf(\"path://\")?Ku(t.slice(7),{},new Oe(e,n,r,i),a?\"center\":\"cover\"):new $f({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=l,s.setColor=Qf,o&&s.setColor(o),s}function tg(t){return U(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function eg(t,e){if(null!=t)return U(t)||(t=[t,t]),[Ai(t[0],e[0])||0,Ai(it(t[1],t[0]),e[1])||0]}function ng(t){return isFinite(t)}function rg(t,e,n){for(var r=\"radial\"===e.type?function(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,l*=o),a=ng(a)?a:.5,s=ng(s)?s:.5,l=l>=0&&ng(l)?l:.5,t.createRadialGradient(a,s,0,a,s,l)}(t,e,n):function(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=ng(r)?r:0,i=ng(i)?i:1,o=ng(o)?o:0,a=ng(a)?a:0,t.createLinearGradient(r,o,i,a)}(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function ig(t){return parseInt(t,10)}function og(t,e,n){var r=[\"width\",\"height\"][e],i=[\"clientWidth\",\"clientHeight\"][e],o=[\"paddingLeft\",\"paddingTop\"][e],a=[\"paddingRight\",\"paddingBottom\"][e];if(null!=n[r]&&\"auto\"!==n[r])return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[i]||ig(s[r])||ig(t.style[r]))-(ig(s[o])||0)-(ig(s[a])||0)|0}function ag(t){var e,n,r=t.style,i=r.lineDash&&r.lineWidth>0&&(e=r.lineDash,n=r.lineWidth,e&&\"solid\"!==e&&n>0?\"dashed\"===e?[4*n,2*n]:\"dotted\"===e?[n]:j(e)?[e]:U(e)?e:null:null),o=r.lineDashOffset;if(i){var a=r.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(i=z(i,function(t){return t/a}),o/=a)}return[i,o]}var sg=new Wa(!0);function lg(t){var e=t.stroke;return!(null==e||\"none\"===e||!(t.lineWidth>0))}function ug(t){return\"string\"==typeof t&&\"none\"!==t}function hg(t){var e=t.fill;return null!=e&&\"none\"!==e}function cg(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function pg(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function dg(t,e,n){var r=Wo(e.image,e.__image,n);if(Uo(r)){var i=t.createPattern(r,e.repeat||\"repeat\");if(\"function\"==typeof DOMMatrix&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*bt),o.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(o)}return i}}var fg=[\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"],gg=[[\"lineCap\",\"butt\"],[\"lineJoin\",\"miter\"],[\"miterLimit\",10]];function yg(t,e,n,r,i){var o=!1;if(!r&&e===(n=n||{}))return!1;if(r||e.opacity!==n.opacity){Sg(t,i),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?ia.opacity:a}(r||e.blend!==n.blend)&&(o||(Sg(t,i),o=!0),t.globalCompositeOperation=e.blend||ia.blend);for(var s=0;s<fg.length;s++){var l=fg[s];(r||e[l]!==n[l])&&(o||(Sg(t,i),o=!0),t[l]=t.dpr*(e[l]||0))}return(r||e.shadowColor!==n.shadowColor)&&(o||(Sg(t,i),o=!0),t.shadowColor=e.shadowColor||ia.shadowColor),o}function vg(t,e,n,r,i){var o=Mg(e,i.inHover),a=r?null:n&&Mg(n,i.inHover)||{};if(o===a)return!1;var s=yg(t,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(Sg(t,i),s=!0),ug(o.fill)&&(t.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(Sg(t,i),s=!0),ug(o.stroke)&&(t.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(Sg(t,i),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(Sg(t,i),s=!0),t.lineWidth=l)}for(var u=0;u<gg.length;u++){var h=gg[u],c=h[0];(r||o[c]!==a[c])&&(s||(Sg(t,i),s=!0),t[c]=o[c]||h[1])}return s}function mg(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}var _g=1,xg=2,wg=3,bg=4;function Sg(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill=\"\",e.batchStroke=\"\"}function Mg(t,e){return e&&t.__hoverStyle||t.style}function Ig(t,e){Tg(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Tg(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~Je,void(e.__isRendered=!1);var o=e.__clipPaths,s=n.prevElClipPaths,l=!1,u=!1;if(s&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}(o,s)||(s&&s.length&&(Sg(t,n),t.restore(),u=l=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(Sg(t,n),t.save(),function(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=r||o.isZeroArea(),mg(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=r}(o,t,n),l=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var h=n.prevEl;h||(u=l=!0);var c,p,d=e instanceof us&&e.autoBatch&&function(t){var e=hg(t),n=lg(t);return!(t.lineDash||!(+e^+n)||e&&\"string\"!=typeof t.fill||n&&\"string\"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);l||(c=i,p=h.transform,c&&p?c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||c[4]!==p[4]||c[5]!==p[5]:c||p)?(Sg(t,n),mg(t,e)):d||Sg(t,n);var f=Mg(e,n.inHover);e instanceof us?(n.lastDrawType!==_g&&(u=!0,n.lastDrawType=_g),vg(t,e,h,u,n),d&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,r){var i,o=lg(n),a=hg(n),s=n.strokePercent,l=s<1,u=!e.path;e.silent&&!l||!u||e.createPathProxy();var h=e.path||sg,c=e.__dirty;if(!r){var p=n.fill,d=n.stroke,f=a&&!!p.colorStops,g=o&&!!d.colorStops,y=a&&!!p.image,v=o&&!!d.image,m=void 0,_=void 0,x=void 0,w=void 0,b=void 0;(f||g)&&(b=e.getBoundingRect()),f&&(m=c?rg(t,p,b):e.__canvasFillGradient,e.__canvasFillGradient=m),g&&(_=c?rg(t,d,b):e.__canvasStrokeGradient,e.__canvasStrokeGradient=_),y&&(x=c||!e.__canvasFillPattern?dg(t,p,e):e.__canvasFillPattern,e.__canvasFillPattern=x),v&&(w=c||!e.__canvasStrokePattern?dg(t,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),f?t.fillStyle=m:y&&(x?t.fillStyle=x:a=!1),g?t.strokeStyle=_:v&&(w?t.strokeStyle=w:o=!1)}var S,M,I=e.getGlobalScale();h.setScale(I[0],I[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(S=(i=ag(e))[0],M=i[1]);var T=!0;(u||c&tn)&&(h.setDPR(t.dpr),l?h.setContext(null):(h.setContext(t),T=!1),h.reset(),e.buildPath(h,e.shape,r),h.toStatic(),e.pathUpdated()),T&&h.rebuildPath(t,l?s:1),S&&(t.setLineDash(S),t.lineDashOffset=M),r||(n.strokeFirst?(o&&pg(t,n),a&&cg(t,n)):(a&&cg(t,n),o&&pg(t,n))),S&&t.setLineDash([])}(t,e,f,d),d&&(n.batchFill=f.fill||\"\",n.batchStroke=f.stroke||\"\")):e instanceof cs?(n.lastDrawType!==wg&&(u=!0,n.lastDrawType=wg),vg(t,e,h,u,n),function(t,e,n){var r,i=n.text;if(null!=i&&(i+=\"\"),i){t.font=n.font||a,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,s=void 0;t.setLineDash&&n.lineDash&&(o=(r=ag(e))[0],s=r[1]),o&&(t.setLineDash(o),t.lineDashOffset=s),n.strokeFirst?(lg(n)&&t.strokeText(i,n.x,n.y),hg(n)&&t.fillText(i,n.x,n.y)):(hg(n)&&t.fillText(i,n.x,n.y),lg(n)&&t.strokeText(i,n.x,n.y)),o&&t.setLineDash([])}}(t,e,f)):e instanceof fs?(n.lastDrawType!==xg&&(u=!0,n.lastDrawType=xg),function(t,e,n,r,i){yg(t,Mg(e,i.inHover),n&&Mg(n,i.inHover),r,i)}(t,e,h,u,n),function(t,e,n){var r=e.__image=Wo(n.image,e.__image,e,e.onload);if(r&&Uo(r)){var i=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,h=n.sy||0;t.drawImage(r,u,h,n.sWidth,n.sHeight,i,o,a,s)}else if(n.sx&&n.sy){var c=a-(u=n.sx),p=s-(h=n.sy);t.drawImage(r,u,h,c,p,i,o,a,s)}else t.drawImage(r,i,o,a,s)}}(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==bg&&(u=!0,n.lastDrawType=bg),function(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=r.length;o<a;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Tg(t,l,s,o===a-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}for(var u=0,h=i.length;u<h;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Tg(t,l,s,u===h-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),d&&r&&Sg(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var Cg=new Uf,Dg=new Bn(100),kg=[\"symbol\",\"symbolSize\",\"symbolKeepAspect\",\"color\",\"backgroundColor\",\"dashArrayX\",\"dashArrayY\",\"maxTileWidth\",\"maxTileHeight\"];function Lg(t,e){if(\"none\"===t)return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i=\"svg\"===r.painter.type;t.dirty&&Cg.delete(t);var o=Cg.get(t);if(o)return o;var a=A(t,{symbol:\"rect\",symbolSize:1,symbolKeepAspect:!0,color:\"rgba(0, 0, 0, 0.2)\",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});\"none\"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:\"repeat\"};return function(t){for(var e,o=[n],s=!0,l=0;l<kg.length;++l){var u=a[kg[l]];if(null!=u&&!U(u)&&!Y(u)&&!j(u)&&\"boolean\"!=typeof u){s=!1;break}o.push(u)}if(s){e=o.join(\",\")+(i?\"-svg\":\"\");var h=Dg.get(e);h&&(i?t.svgElement=h:t.image=h)}var c,d=function t(e){if(!e||0===e.length)return[[0,0]];if(j(e)){var n=Math.ceil(e);return[[n,n]]}var r=!0;for(var i=0;i<e.length;++i)if(!j(e[i])){r=!1;break}if(r)return t([e]);var o=[];for(var i=0;i<e.length;++i)if(j(e[i])){var n=Math.ceil(e[i]);o.push([n,n])}else{var n=z(e[i],function(t){return Math.ceil(t)});n.length%2==1?o.push(n.concat(n)):o.push(n)}return o}(a.dashArrayX),f=function(t){if(!t||\"object\"==typeof t&&0===t.length)return[0,0];if(j(t)){var e=Math.ceil(t);return[e,e]}var n=z(t,function(t){return Math.ceil(t)});return t.length%2?n.concat(n):n}(a.dashArrayY),g=function t(e){if(!e||0===e.length)return[[\"rect\"]];if(Y(e))return[[e]];var n=!0;for(var r=0;r<e.length;++r)if(!Y(e[r])){n=!1;break}if(n)return t([e]);var i=[];for(var r=0;r<e.length;++r)Y(e[r])?i.push([e[r]]):i.push(e[r]);return i}(a.symbol),y=(w=d,z(w,function(t){return Ag(t)})),v=Ag(f),m=!i&&p.createCanvas(),_=i&&{tag:\"g\",attrs:{},key:\"dcl\",children:[]},x=function(){for(var t=1,e=0,n=y.length;e<n;++e)t=Xi(t,y[e]);for(var r=1,e=0,n=g.length;e<n;++e)r=Xi(r,g[e].length);t*=r;var i=v*y.length*g.length,o=function(t){console.warn(\"Calculated decal size is greater than \"+t+\" due to decal option settings so \"+t+\" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \"+t+\" to be larger to avoid incontinuity.\")};t>a.maxTileWidth&&o(\"maxTileWidth\");i>a.maxTileHeight&&o(\"maxTileHeight\");return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(i,a.maxTileHeight))}}();var w;m&&(m.width=x.width*n,m.height=x.height*n,c=m.getContext(\"2d\"));(function(){c&&(c.clearRect(0,0,m.width,m.height),a.backgroundColor&&(c.fillStyle=a.backgroundColor,c.fillRect(0,0,m.width,m.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(!(t<=0))for(var o=-v,s=0,l=0,u=0;o<x.height;){if(s%2==0){for(var h=l/2%g.length,p=0,y=0,w=0;p<2*x.width;){for(var b=0,e=0;e<d[u].length;++e)b+=d[u][e];if(b<=0)break;if(y%2==0){var S=.5*(1-a.symbolSize),M=p+d[u][y]*S,I=o+f[s]*S,T=d[u][y]*a.symbolSize,C=f[s]*a.symbolSize,D=w/2%g[h].length;k(M,I,T,C,g[h][D])}p+=d[u][y],++w,++y===d[u].length&&(y=0)}++u===d.length&&(u=0)}o+=f[s],++l,++s===f.length&&(s=0)}function k(t,e,o,s,l){var u=i?1:n,h=Jf(l,t*u,e*u,o*u,s*u,a.color,a.symbolKeepAspect);if(i){var p=r.painter.renderOneToVNode(h);p&&_.children.push(p)}else Ig(c,h)}})(),s&&Dg.put(e,m||_);t.image=m,t.svgElement=_,t.svgWidth=x.width,t.svgHeight=x.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/n,Cg.set(t,s),t.dirty=!1,s}function Ag(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}var Pg=new jt,Rg={};function Og(t){return Rg[t]||$i(\"Implementation of \"+t+\" doesn't exists.\"),Rg[t]}var Ng=2e3,Eg=1e3,Bg=3e3,zg={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:Eg,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:Bg,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Vg=/^[a-zA-Z0-9_]+$/,Fg=\"__connectUpdateStatus\";function Hg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return Gg(this,t,e);dy(this.id)}}function Wg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Gg(this,t,e)}}function Gg(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),jt.prototype[e].apply(t,n)}var Ug,Xg,Yg,qg,jg,Zg,Kg,$g,Qg,Jg,ty,ey,ny,ry,iy,oy,ay,sy,ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(jt),uy=ly.prototype;uy.on=Wg(\"on\"),uy.off=Wg(\"off\");var hy=function(t){function e(e,n,r){var o=t.call(this,new Nf)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},Y(n)&&(n=_y[n]),o._dom=e;var a=\"canvas\",s=\"auto\",l=!1,u=i.hasGlobalWindow?window:global;a=u.__ECHARTS__DEFAULT__RENDERER__||a,s=it(u.__ECHARTS__DEFAULT__COARSE_POINTER,s);var h=u.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;l=null==h?l:h;var c=o._zr=Ii(e,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:it(r.useDirtyRect,l),useCoarsePointer:it(r.useCoarsePointer,s),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=af(W(c.flush,c),17),(n=D(n))&&Lp(n,!0),o._theme=n,o._locale=function(t){if(Y(t)){var e=Oh[t.toUpperCase()]||{};return t===Ah||t===Ph?D(e):k(D(e),D(Oh[Rh]),!1)}return k(D(t),D(Oh[Rh]),!1)}(r.locale||Eh),o._coordSysMgr=new lp;var p=o._api=iy(o);function d(t,e){return t.__prio-e.__prio}return Qe(my,d),Qe(yy,d),o._scheduler=new vf(o,p,yy,my),o._messageCenter=new ly,o._initEvents(),o.resize=W(o.resize,o),c.animation.on(\"frame\",o._onframe,o),Jg(c,o),ty(c,o),ct(o),o}return n(e,t),e.prototype._onframe=function(){if(!this._disposed){sy(this);var t=this._scheduler;if(this.__pendingUpdate){var e=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{Ug(this),qg.update.call(this,null,this.__pendingUpdate.updateParams)}catch(t){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,t}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,$g.call(this,e),Qg.call(this,e)}else if(t.unfinished){var n=1,r=this._model,i=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),Zg(this,r),t.performVisualTasks(r),ry(this,this._model,i,\"remain\",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(this.__flagInMainProcess)$i(\"`setOption` should not be called during main process.\");else if(this._disposed)dy(this.id);else{var r,i,o;if(Z(e)&&(n=e.lazyUpdate,r=e.silent,i=e.replaceMerge,o=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var a=new hp(this._api),s=this._theme,l=this._model=new ep;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:i},vy);var u={seriesTransition:o,optionChanged:!0};if(n)this.__pendingUpdate={silent:r,updateParams:u},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{Ug(this),qg.update.call(this,null,u)}catch(t){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,t}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,$g.call(this,r),Qg.call(this,r)}}},e.prototype.setTheme=function(){Qi(\"ECharts#setTheme() is DEPRECATED in ECharts 3.0\")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||i.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return Ji(\"getRenderedCanvas\",\"renderToCanvas\"),this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;if(\"canvas\"!==e.type)throw new Error(\"renderToCanvas can only be used in the canvas renderer.\");return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get(\"backgroundColor\"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;if(\"svg\"!==e.type)throw new Error(\"renderToSVGString can only be used in the svg renderer.\");return e.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(i.svgSupported){var t=this._zr;return B(t.storage.getDisplayList(),function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,r=[],i=this;B(e,function(t){n.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var o=\"svg\"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL(\"image/\"+(t&&t.type||\"png\"));return B(r,function(t){t.group.ignore=!1}),o}dy(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e=\"svg\"===t.type,n=this.group,r=Math.min,i=Math.max;if(by[n]){var o=1/0,a=1/0,s=-1/0,l=-1/0,u=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();B(wy,function(h,c){if(h.group===n){var p=e?h.getZr().painter.getSvgDom().innerHTML:h.renderToCanvas(D(t)),d=h.getDom().getBoundingClientRect();o=r(d.left,o),a=r(d.top,a),s=i(d.right,s),l=i(d.bottom,l),u.push({dom:p,left:d.left,top:d.top})}});var c=(s*=h)-(o*=h),d=(l*=h)-(a*=h),f=p.createCanvas(),g=Ii(f,{renderer:e?\"svg\":\"canvas\"});if(g.resize({width:c,height:d}),e){var y=\"\";return B(u,function(t){var e=t.left-o,n=t.top-a;y+='<g transform=\"translate('+e+\",\"+n+')\">'+t.dom+\"</g>\"}),g.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return t.connectedBackgroundColor&&g.add(new _s({shape:{x:0,y:0,width:c,height:d},style:{fill:t.connectedBackgroundColor}})),B(u,function(t){var e=new fs({style:{x:t.left*h-o,y:t.top*h-a,image:t.dom}});g.add(e)}),g.refreshImmediately(),f.toDataURL(\"image/\"+(t&&t.type||\"png\"))}return this.getDataURL(t)}dy(this.id)},e.prototype.convertToPixel=function(t,e){return jg(this,\"convertToPixel\",t,e)},e.prototype.convertFromPixel=function(t,e){return jg(this,\"convertFromPixel\",t,e)},e.prototype.containPixel=function(t,e){var n;if(!this._disposed)return B(bo(this._model,t),function(t,r){r.indexOf(\"Models\")>=0&&B(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(e);else if(\"seriesModels\"===r){var o=this._chartsMap[t.__viewId];o&&o.containPoint?n=n||o.containPoint(e,t):Ki(r+\": \"+(o?\"The found component do not support containPoint.\":\"No view mapping to the found component.\"))}else Ki(r+\": containPoint is not supported\")},this)},this),!!n;dy(this.id)},e.prototype.getVisual=function(t,e){var n=bo(this._model,t,{defaultMainType:\"series\"}),r=n.seriesModel;r||Ki(\"There is no specified series model\");var i=r.getData(),o=n.hasOwnProperty(\"dataIndexInside\")?n.dataIndexInside:n.hasOwnProperty(\"dataIndex\")?i.indexOfRawIndex(n.dataIndex):null;return null!=o?function(t,e,n){switch(n){case\"color\":return t.getItemVisual(e,\"style\")[t.getVisual(\"drawType\")];case\"opacity\":return t.getItemVisual(e,\"style\").opacity;case\"symbol\":case\"symbolSize\":case\"liftZ\":return t.getItemVisual(e,n);default:console.warn(\"Unknown visual type \"+n)}}(i,o,e):function(t,e){switch(e){case\"color\":return t.getVisual(\"style\")[t.getVisual(\"drawType\")];case\"opacity\":return t.getVisual(\"style\").opacity;case\"symbol\":case\"symbolSize\":case\"liftZ\":return t.getVisual(e);default:console.warn(\"Unknown visual type \"+e)}}(i,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,r=this;B(py,function(t){var e=function(e){var n,i=r.getModel(),o=e.target,a=\"globalout\"===t;if(a?n={}:o&&Hf(o,function(t){var e=Rs(t);if(e&&null!=e.dataIndex){var r=e.dataModel||i.getSeriesByIndex(e.seriesIndex);return n=r&&r.getDataParams(e.dataIndex,e.dataType,o)||{},!0}if(e.eventData)return n=L({},e.eventData),!0},!0),n){var s=n.componentType,l=n.componentIndex;\"markLine\"!==s&&\"markPoint\"!==s&&\"markArea\"!==s||(s=\"series\",l=n.seriesIndex);var u=s&&null!=l&&i.getComponent(s,l),h=u&&r[\"series\"===u.mainType?\"_chartsMap\":\"_componentsMap\"][u.__viewId];a||u&&h||Ki(\"model or view can not be found by params\"),n.event=e,n.type=t,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:u,view:h},r.trigger(t,n)}};e.zrEventfulCallAtLast=!0,r._zr.on(t,e,r)}),B(gy,function(t,e){r._messageCenter.on(e,function(t){this.trigger(e,t)},r)}),B([\"selectchanged\"],function(t){r._messageCenter.on(t,function(e){this.trigger(t,e)},r)}),t=this._messageCenter,e=this,n=this._api,t.on(\"selectchanged\",function(t){var r=n.getModel();t.isFromClick?(Ff(\"map\",\"selectchanged\",e,r,t),Ff(\"pie\",\"selectchanged\",e,r,t)):\"select\"===t.fromAction?(Ff(\"map\",\"selected\",e,r,t),Ff(\"pie\",\"selected\",e,r,t)):\"unselect\"===t.fromAction&&(Ff(\"map\",\"unselected\",e,r,t),Ff(\"pie\",\"unselected\",e,r,t))})},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?dy(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)dy(this.id);else{this._disposed=!0,this.getDom()&&To(this.getDom(),Iy,\"\");var t=this._api,e=this._model;B(this._componentsViews,function(n){n.dispose(e,t)}),B(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete wy[this.id]}},e.prototype.resize=function(t){if(this.__flagInMainProcess)$i(\"`resize` should not be called during main process.\");else if(this._disposed)dy(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption(\"media\"),r=t&&t.silent;this.__pendingUpdate&&(null==r&&(r=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&Ug(this),qg.update.call(this,{type:\"resize\",animation:L({duration:0},t&&t.animation)})}catch(t){throw this.__flagInMainProcess=!1,t}this.__flagInMainProcess=!1,$g.call(this,r),Qg.call(this,r)}}},e.prototype.showLoading=function(t,e){if(this._disposed)dy(this.id);else if(Z(t)&&(e=t,t=\"\"),t=t||\"default\",this.hideLoading(),xy[t]){var n=xy[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}else Ki(\"Loading effects \"+t+\" not exists.\")},e.prototype.hideLoading=function(){this._disposed?dy(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=L({},t);return e.type=gy[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)dy(this.id);else if(Z(e)||(e={silent:!!e}),fy[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var n=e.silent;Kg.call(this,t,n);var r=e.flush;r?this._zr.flush():!1!==r&&i.browser.weChat&&this._throttledZrFlush(),$g.call(this,n),Qg.call(this,n)}},e.prototype.updateLabelLayout=function(){Pg.trigger(\"series:layoutlabels\",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)dy(this.id);else{var e=t.seriesIndex,n=this.getModel().getSeriesByIndex(e);lt(t.data&&n),n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function e(t){for(var e=[],n=t.currentStates,r=0;r<n.length;r++){var i=n[r];\"emphasis\"!==i&&\"blur\"!==i&&\"select\"!==i&&e.push(i)}t.selected&&t.states.select&&e.push(\"select\"),t.hoverState===Fs&&t.states.emphasis?e.push(\"emphasis\"):t.hoverState===Vs&&t.states.blur&&e.push(\"blur\"),t.useStates(e)}function r(t,e){if(!t.preventAutoZ){var n=t.get(\"z\")||0,r=t.get(\"zlevel\")||0;e.eachRendered(function(t){return function t(e,n,r,i){var o=e.getTextContent();var a=e.getTextGuideLine();var s=e.isGroup;if(s)for(var l=e.childrenRef(),u=0;u<l.length;u++)i=Math.max(t(l[u],n,r,i),i);else e.z=n,e.zlevel=r,i=Math.max(e.z2,i);o&&(o.z=n,o.zlevel=r,isFinite(i)&&(o.z2=i+2));if(a){var h=e.textGuideLineConfig;a.z=n,a.zlevel=r,isFinite(i)&&(a.z2=i+(h&&h.showAbove?1:-1))}return i}(t,n,r,-1/0),!0})}}function o(t,e){e.eachRendered(function(t){if(!Gu(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}})}function a(t,n){var r=t.getModel(\"stateAnimation\"),i=t.isAnimationEnabled(),o=r.get(\"duration\"),a=o>0?{duration:o,delay:r.get(\"delay\"),easing:r.get(\"easing\")}:null;n.eachRendered(function(t){if(t.states&&t.states.emphasis){if(Gu(t))return;if(t instanceof us&&function(t){var e=Es(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(i){t.stateTransition=a;var r=t.getTextContent(),o=t.getTextGuideLine();r&&(r.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}})}Ug=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),Xg(t,!0),Xg(t,!1),e.plan()},Xg=function(t,e){for(var n=t._model,r=t._scheduler,i=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<i.length;l++)i[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u=\"_ec_\"+t.id+\"_\"+t.type,h=!l&&o[u];if(!h){var c=Lo(t.type),p=e?Kd.getClass(c.main,c.sub):Jd.getClass(c.sub);lt(p,c.sub+\" does not exist.\"),(h=new p).init(n,s),o[u]=h,i.push(h),a.add(h.group)}t.__viewId=h.__id=u,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&r.prepareView(h,t,n,s)}e?n.eachComponent(function(t,e){\"series\"!==t&&u(e)}):n.eachSeries(u);for(l=0;l<i.length;){var h=i[l];h.__alive?l++:(!e&&h.renderTask.dispose(),a.remove(h.group),h.dispose(n,s),i.splice(l,1),o[h.__id]===h&&delete o[h.__id],h.__id=h.group.__ecComponentInfo=null)}},Yg=function(t,e,n,r,i){var o=t._model;if(o.setUpdatePayload(n),r){var a={};a[r+\"Id\"]=n[r+\"Id\"],a[r+\"Index\"]=n[r+\"Index\"],a[r+\"Name\"]=n[r+\"Name\"];var s={mainType:r,query:a};i&&(s.subType=i);var l,u=n.excludeSeriesId;null!=u&&(l=yt(),B(oo(u),function(t){var e=fo(t,null);null!=e&&l.set(e,!0)})),o&&o.eachComponent(s,function(e){if(!(l&&null!=l.get(e.id)))if(kl(n))if(e instanceof Wd)n.type!==Xs||n.notBlur||e.get([\"emphasis\",\"disabled\"])||function(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var o=_o(i,e);o=(U(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),l=0;!a&&l<s;)a=i.getItemGraphicEl(l++);if(a){var u=Rs(a);_l(r,u.focus,u.blurScope,n)}else{var h=t.get([\"emphasis\",\"focus\"]),c=t.get([\"emphasis\",\"blurScope\"]);null!=h&&_l(r,h,c,n)}}else $i(\"Unknown dataType \"+e.dataType)}(e,n,t._api);else{var r=wl(e.mainType,e.componentIndex,n.name,t._api),i=r.focusSelf,o=r.dispatchers;n.type===Xs&&i&&!n.notBlur&&xl(e.mainType,e.componentIndex,t._api),o&&B(o,function(t){n.type===Xs?pl(t):dl(t)})}else Dl(n)&&e instanceof Wd&&(!function(t,e,n){if(Dl(e)){var r=e.dataType,i=_o(t.getData(r),e);U(i)||(i=[i]),t[e.type===Zs?\"toggleSelect\":e.type===qs?\"select\":\"unselect\"](i,r)}}(e,n,t._api),bl(e),ay(t))},t),o&&o.eachComponent(s,function(e){l&&null!=l.get(e.id)||h(t[\"series\"===r?\"_chartsMap\":\"_componentsMap\"][e.__viewId])},t)}else B([].concat(t._componentsViews).concat(t._chartsViews),h);function h(r){r&&r.__alive&&r[e]&&r[e](r.__model,o,t._api,n)}},qg={prepareAndUpdate:function(t){Ug(this),qg.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var r=this._model,i=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(r){r.setUpdatePayload(e),s.restoreData(r,e),s.performSeriesTasks(r),a.create(r,i),s.performDataProcessorTasks(r,e),Zg(this,r),a.update(r,i),t(r),s.performVisualTasks(r,e),ey(this,r,i,e,n);var l=r.get(\"backgroundColor\")||\"transparent\",u=r.get(\"darkMode\");o.setBackgroundColor(l),null!=u&&\"auto\"!==u&&o.setDarkMode(u),Pg.trigger(\"afterupdate\",r,i)}},updateTransform:function(e){var n=this,r=this._model,i=this._api;if(r){r.setUpdatePayload(e);var o=[];r.eachComponent(function(t,a){if(\"series\"!==t){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,r,i,e);l&&l.update&&o.push(s)}else o.push(s)}});var a=yt();r.eachSeries(function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var s=o.updateTransform(t,r,i,e);s&&s.update&&a.set(t.uid,1)}else a.set(t.uid,1)}),t(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:a}),ry(this,r,i,e,{},a),Pg.trigger(\"afterupdate\",r,i)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),Jd.markUpdateMethod(e,\"updateView\"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),ey(this,n,this._api,e,{}),Pg.trigger(\"afterupdate\",n,this._api))},updateVisual:function(e){var n=this,r=this._model;r&&(r.setUpdatePayload(e),r.eachSeries(function(t){t.getData().clearAllVisual()}),Jd.markUpdateMethod(e,\"updateVisual\"),t(r),this._scheduler.performVisualTasks(r,e,{visualType:\"visual\",setDirty:!0}),r.eachComponent(function(t,i){if(\"series\"!==t){var o=n.getViewOfComponentModel(i);o&&o.__alive&&o.updateVisual(i,r,n._api,e)}}),r.eachSeries(function(t){n._chartsMap[t.__viewId].updateVisual(t,r,n._api,e)}),Pg.trigger(\"afterupdate\",r,this._api))},updateLayout:function(t){qg.update.call(this,t)}},jg=function(t,e,n,r){if(t._disposed)dy(t.id);else{for(var i,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=bo(o,n),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(i=u[e](o,s,r)))return i}Ki(\"No coordinate system that supports \"+e+\" found by the given finder.\")}},Zg=function(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})},Kg=function(t,e){var n=this,r=this.getModel(),i=t.type,o=t.escapeConnect,a=fy[i],s=a.actionInfo,l=(s.update||\"update\").split(\":\"),u=l.pop(),h=null!=l[0]&&Lo(l[0]);this.__flagInMainProcess=!0;var c=[t],p=!1;t.batch&&(p=!0,c=z(t.batch,function(e){return(e=A(L({},e),t)).batch=null,e}));var d,f=[],g=Dl(t),y=kl(t);if(y&&ml(this._api),B(c,function(e){if((d=(d=a.action(e,n._model,n._api))||L({},e)).type=s.event||d.type,f.push(d),y){var r=So(t),i=r.queryOptionMap,o=r.mainTypeSpecified?i.keys()[0]:\"series\";Yg(n,u,e,o),ay(n)}else g?(Yg(n,u,e,\"series\"),ay(n)):h&&Yg(n,u,e,h.main,h.sub)}),\"none\"!==u&&!y&&!g&&!h)try{this.__pendingUpdate?(Ug(this),qg.update.call(this,t),this.__pendingUpdate=null):qg[u].call(this,t)}catch(t){throw this.__flagInMainProcess=!1,t}if(d=p?{type:s.event||i,escapeConnect:o,batch:f}:f[0],this.__flagInMainProcess=!1,!e){var v=this._messageCenter;if(v.trigger(d.type,d),g){var m={type:\"selectchanged\",escapeConnect:o,selected:function(t){var e=[];return t.eachSeries(function(t){B(t.getAllData(),function(n){n.data;var r=n.type,i=t.getSelectedDataIndices();if(i.length>0){var o={dataIndex:i,seriesIndex:t.seriesIndex};null!=r&&(o.dataType=r),e.push(o)}})}),e}(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};v.trigger(m.type,m)}}},$g=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Kg.call(this,n,t)}},Qg=function(t){!t&&this.trigger(\"updated\")},Jg=function(t,e){t.on(\"rendered\",function(n){e.trigger(\"rendered\",n),!t.animation.isFinished()||e.__pendingUpdate||e._scheduler.unfinished||e._pendingActions.length||e.trigger(\"finished\")})},ty=function(t,e){t.on(\"mouseover\",function(t){var n=Hf(t.target,Cl);n&&(!function(t,e,n){Cl(t)||$i(\"param should be highDownDispatcher\");var r=Rs(t),i=wl(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,a=i.focusSelf;o?(a&&xl(r.componentMainType,r.componentIndex,n),B(o,function(t){return hl(t,e)})):(_l(r.seriesIndex,r.focus,r.blurScope,n),\"self\"===r.focus&&xl(r.componentMainType,r.componentIndex,n),hl(t,e))}(n,t,e._api),ay(e))}).on(\"mouseout\",function(t){var n=Hf(t.target,Cl);n&&(!function(t,e,n){Cl(t)||$i(\"param should be highDownDispatcher\"),ml(n);var r=Rs(t),i=wl(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?B(i,function(t){return cl(t,e)}):cl(t,e)}(n,t,e._api),ay(e))}).on(\"click\",function(t){var n=Hf(t.target,function(t){return null!=Rs(t).dataIndex},!0);if(n){var r=n.selected?\"unselect\":\"select\",i=Rs(n);e._api.dispatchAction({type:r,dataType:i.dataType,dataIndexInside:i.dataIndex,seriesIndex:i.seriesIndex,isFromClick:!0})}})},ey=function(t,e,n,r,i){!function(t){var e=[],n=[],r=!1;if(t.eachComponent(function(t,i){var o=i.get(\"zlevel\")||0,a=i.get(\"z\")||0,s=i.getZLevelKey();r=r||!!s,(\"series\"===t?n:e).push({zlevel:o,z:a,idx:i.componentIndex,type:t,key:s})}),r){var i,o,a=e.concat(n);Qe(a,function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel}),B(a,function(e){var n=t.getComponent(e.type,e.idx),r=e.zlevel,a=e.key;null!=i&&(r=Math.max(i,r)),a?(r===i&&a!==o&&r++,o=a):o&&(r===i&&r++,o=\"\"),i=r,n.setZLevel(r)})}}(e),ny(t,e,n,r,i),B(t._chartsViews,function(t){t.__alive=!1}),ry(t,e,n,r,i),B(t._chartsViews,function(t){t.__alive||t.remove(e,n)})},ny=function(t,e,n,i,s,l){B(l||t._componentsViews,function(t){var s=t.__model;o(s,t),t.render(s,e,n,i),r(s,t),a(s,t)})},ry=function(t,e,n,s,l,u){var h=t._scheduler;l=L(l||{},{updatedSeries:e.getSeries()}),Pg.trigger(\"series:beforeupdate\",e,n,l);var c=!1;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var r=n.renderTask;h.updatePayload(r,s),o(e,n),u&&u.get(e.uid)&&r.dirty(),r.perform(h.getPerformArgs(r))&&(c=!0),n.group.silent=!!e.get(\"silent\"),function(t,e){var n=t.get(\"blendMode\")||null;e.eachRendered(function(t){t.isGroup||(t.style.blend=n)})}(e,n),bl(e)}),h.unfinished=c||h.unfinished,Pg.trigger(\"series:layoutlabels\",e,n,l),Pg.trigger(\"series:transition\",e,n,l),e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];r(e,n),a(e,n)}),function(t,e){var n=t._zr.storage,r=0;n.traverse(function(t){t.isGroup||r++}),r>e.get(\"hoverLayerThreshold\")&&!i.node&&!i.worker&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}})}(t,e),Pg.trigger(\"series:afterupdate\",e,n,l)},ay=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},sy=function(t){t.__needsUpdateStatus&&(t.getZr().storage.traverse(function(t){Gu(t)||e(t)}),t.__needsUpdateStatus=!1)},iy=function(t){return new(function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},r.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},r.prototype.enterEmphasis=function(e,n){pl(e,n),ay(t)},r.prototype.leaveEmphasis=function(e,n){dl(e,n),ay(t)},r.prototype.enterBlur=function(e){!function(t){sl(t,nl)}(e),ay(t)},r.prototype.leaveBlur=function(e){fl(e),ay(t)},r.prototype.enterSelect=function(e){gl(e),ay(t)},r.prototype.leaveSelect=function(e){yl(e),ay(t)},r.prototype.getModel=function(){return t.getModel()},r.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},r.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},r}(ap))(t)},oy=function(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][Fg]=e}}B(gy,function(n,r){t._messageCenter.on(r,function(n){if(by[t.group]&&0!==t[Fg]){if(n&&n.escapeConnect)return;var r=t.makeActionFromEvent(n),i=[];B(wy,function(e){e!==t&&e.group===t.group&&i.push(e)}),e(i,0),B(i,function(t){1!==t[Fg]&&t.dispatchAction(r)}),e(i,2)}})})}}(),e}(jt),cy=hy.prototype;cy.on=Hg(\"on\"),cy.off=Hg(\"off\"),cy.one=function(t,e,n){var r=this;Qi(\"ECharts#one is deprecated.\"),this.on.call(this,t,function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),r.off(t,n)},n)};var py=[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"mousemove\",\"mousedown\",\"mouseup\",\"globalout\",\"contextmenu\"];function dy(t){Ki(\"Instance \"+t+\" has been disposed\")}var fy={},gy={},yy=[],vy=[],my=[],_y={},xy={},wy={},by={},Sy=+new Date-0,My=+new Date-0,Iy=\"_echarts_instance_\";function Ty(t){by[t]=!1}var Cy=Ty;function Dy(t){return wy[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,Iy)]}function ky(t,e){_y[t]=e}function Ly(t){R(vy,t)<0&&vy.push(t)}function Ay(t,e){Fy(yy,t,e,Ng)}function Py(t){Oy(\"afterinit\",t)}function Ry(t){Oy(\"afterupdate\",t)}function Oy(t,e){Pg.on(t,e)}function Ny(t,e,n){X(e)&&(n=e,e=\"\");var r=Z(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,gy[e]||(lt(Vg.test(r)&&Vg.test(e)),fy[r]||(fy[r]={action:n,actionInfo:t}),gy[e]=r)}function Ey(t,e){lp.register(t,e)}function By(t,e){Fy(my,t,e,Eg,\"layout\")}function zy(t,e){Fy(my,t,e,Bg,\"visual\")}var Vy=[];function Fy(t,e,n,r,i){if((X(e)||Z(e))&&(n=e,e=r),isNaN(e)||null==e)throw new Error(\"Illegal priority\");if(B(t,function(t){lt(t.__raw!==n)}),!(R(Vy,n)>=0)){Vy.push(n);var o=vf.wrapStageHandler(n,i);o.__prio=e,o.__raw=n,t.push(o)}}function Hy(t,e){xy[t]=e}function Wy(t,e,n){var r=Og(\"registerMap\");r&&r(t,e,n)}var Gy=function(t){var e=(t=D(t)).type;e||eo(\"Must have a `type` when `registerTransform`.\");var n=e.split(\":\");2!==n.length&&eo('Name must include namespace like \"ns:regression\".');var r=!1;\"echarts\"===n[0]&&(e=n[1],r=!0),t.__isBuiltIn=r,wd.set(e,t)};zy(2e3,pf),zy(4500,ff),zy(4500,gf),zy(2e3,zf),zy(4500,Vf),zy(7e3,function(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(t){var n=r.getItemVisual(t,\"decal\");n&&(r.ensureUniqueItemVisual(t,\"style\").decal=Lg(n,e))});var i=r.getVisual(\"decal\");i&&(r.getVisual(\"style\").decal=Lg(i,e))}})}),Ly(Lp),Ay(900,function(t){var e=yt();t.eachSeries(function(t){var n=t.get(\"stack\");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo(\"stackResultDimension\"),stackedOverDimension:i.getCalculationInfo(\"stackedOverDimension\"),stackedDimension:i.getCalculationInfo(\"stackedDimension\"),stackedByDimension:i.getCalculationInfo(\"stackedByDimension\"),isStackedByIndex:i.getCalculationInfo(\"isStackedByIndex\"),data:i,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo(\"stackedOnSeries\",r[r.length-1].seriesModel),r.push(o)}}),e.each(Ap)}),Hy(\"default\",function(t,e){A(e=e||{},{text:\"loading\",textColor:\"#000\",fontSize:12,fontWeight:\"normal\",fontStyle:\"normal\",fontFamily:\"sans-serif\",maskColor:\"rgba(255, 255, 255, 0.8)\",showSpinner:!0,color:\"#5470c6\",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new wi,r=new _s({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i,o=new bs({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new _s({style:{fill:\"none\"},textContent:o,textConfig:{position:\"right\",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&((i=new Cu({shape:{startAngle:-yf/2,endAngle:-yf/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:\"round\",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*yf/2}).start(\"circularInOut\"),i.animateShape(!0).when(1e3,{startAngle:3*yf/2}).delay(300).start(\"circularInOut\"),n.add(i)),n.resize=function(){var n=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:s),u=t.getHeight()/2;e.showSpinner&&i.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}),Ny({type:Xs,event:Xs,update:Xs},wt),Ny({type:Ys,event:Ys,update:Ys},wt),Ny({type:qs,event:qs,update:qs},wt),Ny({type:js,event:js,update:js},wt),Ny({type:Zs,event:Zs,update:Zs},wt),ky(\"light\",Pf),ky(\"dark\",Of);function Uy(t){return null==t?0:t.length||1}function Xy(t){return t}var Yy=function(){function t(t,e,n,r,i,o){this._old=t,this._new=e,this._oldKeyGetter=n||Xy,this._newKeyGetter=r||Xy,this.context=i,this._diffModeMultiple=\"multiple\"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?\"_executeMultiple\":\"_executeOneToOne\"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),i=new Array(e.length);this._initIndexMap(t,null,r,\"_oldKeyGetter\"),this._initIndexMap(e,n,i,\"_newKeyGetter\");for(var o=0;o<t.length;o++){var a=r[o],s=n[a],l=Uy(s);if(l>1){var u=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(u,o)}else 1===l?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},i=[],o=[];this._initIndexMap(t,n,i,\"_oldKeyGetter\"),this._initIndexMap(e,r,o,\"_newKeyGetter\");for(var a=0;a<i.length;a++){var s=i[a],l=n[s],u=r[s],h=Uy(l),c=Uy(u);if(h>1&&1===c)this._updateManyToOne&&this._updateManyToOne(u,l),r[s]=null;else if(1===h&&c>1)this._updateOneToMany&&this._updateOneToMany(u,l),r[s]=null;else if(1===h&&1===c)this._update&&this._update(u,l),r[s]=null;else if(h>1&&c>1)this._updateManyToMany&&this._updateManyToMany(u,l),r[s]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(l[p]);else this._remove&&this._remove(l)}this._performRestAdd(o,r)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[r],o=Uy(i);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(i[a]);else 1===o&&this._add&&this._add(i);e[r]=null}},t.prototype._initIndexMap=function(t,e,n,r){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var a=\"_ec_\"+this[r](t[o],o);if(i||(n[o]=a),e){var s=e[a],l=Uy(s);0===l?(e[a]=o,i&&n.push(a)):1===l?e[a]=[s,o]:s.push(o)}}},t}(),qy=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function jy(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}var Zy=function(){return function(t){this.otherDims={},null!=t&&L(this,t)}}(),Ky=xo(),$y={float:\"f\",int:\"i\",ordinal:\"o\",number:\"n\",time:\"t\"},Qy=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ev(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return it(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Up(this.source),n=!nv(t),r=\"\",i=[],o=0,a=0;o<t;o++){var s=void 0,l=void 0,u=void 0,h=this.dimensions[a];if(h&&h.storeDimIndex===o)s=e?h.name:null,l=h.type,u=h.ordinalMeta,a++;else{var c=this.getSourceDimension(o);c&&(s=e?c.name:null,l=c.type)}i.push({property:s,type:l,ordinalMeta:u}),!e||null==s||h&&h.isCalculationCoord||(r+=n?s.replace(/\\`/g,\"`1\").replace(/\\$/g,\"`2\"):s),r+=\"$\",r+=$y[l]||\"f\",u&&(r+=u.uid),r+=\"$\"}var p=this.source;return{dimensions:i,hash:[p.seriesLayoutBy,p.startIndex,r].join(\"$$\")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===e)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(e);o&&(r=o.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function Jy(t){return t instanceof Qy}function tv(t){for(var e=yt(),n=0;n<(t||[]).length;n++){var r=t[n],i=Z(r)?r.name:r;null!=i&&null==e.get(i)&&e.set(i,n)}return e}function ev(t){var e=Ky(t);return e.dimNameMap||(e.dimNameMap=tv(t.dimensionsDefine))}function nv(t){return t>30}var rv,iv,ov,av,sv,lv,uv,hv=Z,cv=z,pv=\"undefined\"==typeof Int32Array?Array:Int32Array,dv=[\"hasItemOption\",\"_nameList\",\"_idList\",\"_invertedIndicesMap\",\"_dimSummary\",\"userOutput\",\"_rawData\",\"_dimValueGetter\",\"_nameDimIdx\",\"_idDimIdx\",\"_nameRepeatCount\"],fv=[\"_approximateExtent\"],gv=function(){function t(t,e){var n;this.type=\"list\",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=[\"cloneShallow\",\"downSample\",\"lttbDownSample\",\"map\"],this.CHANGABLE_METHODS=[\"filterSelf\",\"selectRange\"],this.DOWNSAMPLE_METHODS=[\"downSample\",\"lttbDownSample\"];var r=!1;Jy(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||[\"x\",\"y\"];for(var i={},o=[],a={},s=!1,l={},u=0;u<n.length;u++){var h=n[u],c=Y(h)?new Zy({name:h}):h instanceof Zy?h:new Zy(h),p=c.name;c.type=c.type||\"float\",c.coordDim||(c.coordDim=p,c.coordDimIndex=0);var d=c.otherDims=c.otherDims||{};o.push(p),i[p]=c,null!=l[p]&&(s=!0),c.createInvertedIndices&&(a[p]=[]),0===d.itemName&&(this._nameDimIdx=u),0===d.itemId&&(this._idDimIdx=u),lt(r||c.storeDimIndex>=0),r&&(c.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var f=this._dimIdxToName=yt();B(o,function(t){f.set(i[t].storeDimIndex,t)})}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(j(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);if(null==e)throw new Error(\"Unknown dimension \"+t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var r,i=this;if(t instanceof Pd&&(r=t),!r){var o=this.dimensions,a=zp(t)||E(t)?new Xp(t,o.length):t;r=new Pd;var s=cv(o,function(t){return{type:i._dimInfos[t].type,property:t}});r.initData(a,s,n)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(t,e){var n={},r=n.encode={},i=yt(),o=[],a=[],s={};B(t.dimensions,function(e){var n,l=t.getDimensionInfo(e),u=l.coordDim;if(u){lt(null==Lc.get(u));var h=l.coordDimIndex;jy(r,u)[h]=e,l.isExtraCoord||(i.set(u,1),\"ordinal\"!==(n=l.type)&&\"time\"!==n&&(o[0]=e),jy(s,u)[h]=t.getDimensionIndex(l.name)),l.defaultTooltip&&a.push(e)}Lc.each(function(t,e){var n=jy(r,e),i=l.otherDims[e];null!=i&&!1!==i&&(n[i]=l.name)})});var l=[],u={};i.each(function(t,e){var n=r[e];u[e]=n[0],l=l.concat(n)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=z(l,function(e){return t.getDimensionInfo(e).storeDimIndex}),n.encodeFirstDimNotExtra=u;var h=r.label;h&&h.length&&(o=h.slice());var c=r.tooltip;return c&&c.length?a=c.slice():a.length||(a=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=a,n.userOutput=new qy(s,e),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),r=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=r;a<i;a++){var s=a-r;this._nameList[a]=e[s],o&&uv(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Nc&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,i=this._idList;if(n.getSource().sourceFormat===Ac&&!n.pure)for(var o=[],a=t;a<e;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&uo(s)&&(this.hasItemOption=!0),s){var l=s.name;null==r[a]&&null!=l&&(r[a]=fo(l,null));var u=s.id;null==i[a]&&null!=u&&(i[a]=fo(u,null))}}if(this._shouldMakeIdFromName())for(a=t;a<e;a++)uv(this,a);rv(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){hv(t)?L(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=ov(this,this._nameDimIdx,e)),null==n&&(n=\"\"),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},t.prototype.getId=function(t){return iv(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,r=this._store;return U(t)?r.getValues(cv(t,function(t){return n._getStoreDimIndex(t)}),e):r.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];if(!n)throw new Error(\"Do not supported yet\");var r=n[e];return null==r||isNaN(r)?-1:r},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){X(t)&&(n=e,e=t,t=[]);var r=n||this,i=cv(av(t),this._getStoreDimIndex,this);this._store.each(i,r?W(e,r):e)},t.prototype.filterSelf=function(t,e,n){X(t)&&(n=e,e=t,t=[]);var r=n||this,i=cv(av(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?W(e,r):e),this},t.prototype.selectRange=function(t){var e=this,n={};return B(H(t),function(r){var i=e._getStoreDimIndex(r);n[i]=t[r]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){X(t)&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},t.prototype.map=function(t,e,n,r){var i=n||r||this,o=cv(av(t),this._getStoreDimIndex,this),a=lv(this);return a._store=this._store.map(o,i?W(e,i):e),a},t.prototype.modify=function(t,e,n,r){var i=this,o=n||r||this;B(av(t),function(t){i.getDimensionInfo(t).isCalculationCoord||console.error(\"Danger: only stack dimension can be modified\")});var a=cv(av(t),this._getStoreDimIndex,this);this._store.modify(a,o?W(e,o):e)},t.prototype.downSample=function(t,e,n,r){var i=lv(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),i},t.prototype.lttbDownSample=function(t,e){var n=lv(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Dh(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new Yy(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(e){return iv(t,e)},function(t){return iv(e,t)})},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},hv(t)?L(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return null==r?this.getVisual(e):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var i=r[e];return null==i&&(U(i=this.getVisual(e))?i=i.slice():hv(i)&&(i=L({},i)),r[e]=i),i},t.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,hv(e)?L(r,e):r[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){hv(t)?L(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?L(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){!function(t,e,n,r){if(r){var i=Rs(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,\"group\"===r.type&&r.traverse(function(r){var i=Rs(r);i.seriesIndex=t,i.dataIndex=n,i.dataType=e})}}(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){B(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:cv(this.dimensions,this._getDimInfo,this),this.hostModel)),sv(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];X(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(at(arguments)))})},t.internalField=(rv=function(t){var e=t._invertedIndicesMap;B(e,function(n,r){var i=t._dimInfos[r],o=i.ordinalMeta,a=t._store;if(o){n=e[r]=new pv(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(i.storeDimIndex,s)]=s}})},ov=function(t,e,n){return fo(t._getCategory(e,n),null)},iv=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=ov(t,t._idDimIdx,e)),null==n&&(n=\"e\\0\\0\"+e),n},av=function(t){return U(t)||(t=null!=t?[t]:[]),t},lv=function(e){var n=new t(e._schema?e._schema:cv(e.dimensions,e._getDimInfo,e),e.hostModel);return sv(n,e),n},sv=function(t,e){B(dv.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,B(fv,function(n){t[n]=D(e[n])}),t._calculationInfo=L({},e._calculationInfo)},void(uv=function(t,e){var n=t._nameList,r=t._idList,i=t._nameDimIdx,o=t._idDimIdx,a=n[e],s=r[e];if(null==a&&null!=i&&(n[e]=a=ov(t,i,e)),null==s&&null!=o&&(r[e]=s=ov(t,o,e)),null==s&&null!=a){var l=t._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+=\"__ec__\"+u),r[e]=s}})),t}();function yv(t,e){zp(t)||(t=Fp(t));var n=(e=e||{}).coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=yt(),o=[],a=function(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return B(e,function(t){var e;Z(t)&&(e=t.dimsDef)&&(i=Math.max(i,e.length))}),i}(t,n,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&nv(a),l=r===t.dimensionsDefine,u=l?ev(t):tv(r),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(t,a));for(var c=yt(h),p=new Cd(a),d=0;d<p.length;d++)p[d]=-1;function f(t){var e=p[t];if(e<0){var n=r[t],i=Z(n)?n:{name:n},a=new Zy,s=i.name;null!=s&&null!=u.get(s)&&(a.name=a.displayName=s),null!=i.type&&(a.type=i.type),null!=i.displayName&&(a.displayName=i.displayName);var l=o.length;return p[t]=l,a.storeDimIndex=t,o.push(a),a}return o[e]}if(!s)for(d=0;d<a;d++)f(d);c.each(function(t,e){var n=oo(t).slice();if(1===n.length&&!Y(n[0])&&n[0]<0)c.set(e,!1);else{var r=c.set(e,[]);B(n,function(t,n){var i=Y(t)?u.get(t):t;null!=i&&i<a&&(r[n]=i,y(f(i),e,n))})}});var g=0;function y(t,e,n){null!=Lc.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,i.set(e,!0))}B(n,function(t){var e,n,r,i;if(Y(t))e=t,i={};else{e=(i=t).name;var o=i.ordinalMeta;i.ordinalMeta=null,(i=L({},i)).ordinalMeta=o,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=c.get(e);if(!1!==s){if(!(s=oo(s)).length)for(var u=0;u<(n&&n.length||1);u++){for(;g<a&&null!=f(g).coordDim;)g++;g<a&&s.push(g++)}B(s,function(t,o){var a=f(t);if(l&&null!=i.type&&(a.type=i.type),y(A(a,i),e,o),null==a.name&&n){var s=n[o];!Z(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}r&&A(a.otherDims,r)})}});var v=e.generateCoord,m=e.generateCoordCount,_=null!=m;m=v?m||1:0;var x=v||\"value\";function w(t){null==t.name&&(t.name=t.coordDim)}if(s)B(o,function(t){w(t)}),o.sort(function(t,e){return t.storeDimIndex-e.storeDimIndex});else for(var b=0;b<a;b++){var S=f(b);null==S.coordDim&&(S.coordDim=vv(x,i,_),S.coordDimIndex=0,(!v||m<=0)&&(S.isExtraCoord=!0),m--),w(S),null!=S.type||Gc(t,b)!==Vc.Must&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type=\"ordinal\")}return function(t){for(var e=yt(),n=0;n<t.length;n++){var r=t[n],i=r.name,o=e.get(i)||0;o>0&&(r.name=i+(o-1)),o++,e.set(i,o)}}(o),new Qy({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function vv(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var mv=function(){return function(t){this.coordSysDims=[],this.axisMap=yt(),this.categoryAxisMap=yt(),this.coordSysName=t}}();var _v={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents(\"xAxis\",Mo).models[0],o=t.getReferringComponents(\"yAxis\",Mo).models[0];if(!i)throw new Error('xAxis \"'+rt(t.get(\"xAxisIndex\"),t.get(\"xAxisId\"),0)+'\" not found');if(!o)throw new Error('yAxis \"'+rt(t.get(\"xAxisIndex\"),t.get(\"yAxisId\"),0)+'\" not found');e.coordSysDims=[\"x\",\"y\"],n.set(\"x\",i),n.set(\"y\",o),xv(i)&&(r.set(\"x\",i),e.firstCategoryDimIndex=0),xv(o)&&(r.set(\"y\",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents(\"singleAxis\",Mo).models[0];if(!i)throw new Error(\"singleAxis should be specified.\");e.coordSysDims=[\"single\"],n.set(\"single\",i),xv(i)&&(r.set(\"single\",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents(\"polar\",Mo).models[0],o=i.findAxisModel(\"radiusAxis\"),a=i.findAxisModel(\"angleAxis\");if(!a)throw new Error(\"angleAxis option not found\");if(!o)throw new Error(\"radiusAxis option not found\");e.coordSysDims=[\"radius\",\"angle\"],n.set(\"radius\",o),n.set(\"angle\",a),xv(o)&&(r.set(\"radius\",o),e.firstCategoryDimIndex=0),xv(a)&&(r.set(\"angle\",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=[\"lng\",\"lat\"]},parallel:function(t,e,n,r){var i=t.ecModel,o=i.getComponent(\"parallel\",t.get(\"parallelIndex\")),a=e.coordSysDims=o.dimensions.slice();B(o.parallelAxisIndex,function(t,o){var s=i.getComponent(\"parallelAxis\",t),l=a[o];n.set(l,s),xv(s)&&(r.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))})}};function xv(t){return\"category\"===t.get(\"type\")}function wv(t,e,n){var r,i,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function(t){return!Jy(t.schema)}(e)?(i=e.schema,r=i.dimensions,o=e.store):r=e;var l,u,h,c,p=!(!t||!t.get(\"stack\"));if(B(r,function(t,e){Y(t)&&(r[e]=t={name:t}),p&&!t.isExtraCoord&&(a||l||!t.ordinalMeta||(l=t),u||\"ordinal\"===t.type||\"time\"===t.type||s&&s!==t.coordDim||(u=t))}),!u||a||l||(a=!0),u){h=\"__\\0ecstackresult_\"+t.id,c=\"__\\0ecstackedover_\"+t.id,l&&(l.createInvertedIndices=!0);var d=u.coordDim,f=u.type,g=0;B(r,function(t){t.coordDim===d&&g++});var y={name:h,coordDim:d,coordDimIndex:g,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},v={name:c,coordDim:c,coordDimIndex:g+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};i?(o&&(y.storeDimIndex=o.ensureCalculationDimension(c,f),v.storeDimIndex=o.ensureCalculationDimension(h,f)),i.appendCalculationDimension(y),i.appendCalculationDimension(v)):(r.push(y),r.push(v))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:c,stackResultDimension:h}}function bv(t,e){return!!e&&e===t.getCalculationInfo(\"stackedDimension\")}function Sv(t,e,n){n=n||{};var r,i=e.getSourceManager(),o=!1;t?(o=!0,r=Fp(t)):o=(r=i.getSource()).sourceFormat===Ac;var a=function(t){var e=t.get(\"coordinateSystem\"),n=new mv(e),r=_v[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}(e),s=function(t,e){var n,r=t.get(\"coordinateSystem\"),i=lp.get(r);return e&&e.coordSysDims&&(n=z(e.coordSysDims,function(t){var n={name:t},r=e.axisMap.get(t);if(r){var i=r.get(\"type\");n.type=function(t){return\"category\"===t?\"ordinal\":\"time\"===t?\"time\":\"float\"}(i)}return n})),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||[\"x\",\"y\"]),n}(e,a),l=n.useEncodeDefaulter,u=X(l)?l:l?G(Hc,s,e):null,h=yv(r,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),c=function(t,e,n){var r,i;return n&&B(t,function(t,o){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==r&&(r=o),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(i=!0)}),i||null==r||(t[r].otherDims.itemName=0),r}(h.dimensions,n.createInvertedIndices,a),p=o?null:i.getSharedDataStore(h),d=wv(e,{schema:h,store:p}),f=new gv(h,e);f.setCalculationInfo(d);var g=null!=c&&function(t){if(t.sourceFormat===Ac){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!U(lo(e))}}(r)?function(t,e,n,r){return r===c?n:this.defaultDimValueGetter(t,e,n,r)}:null;return f.hasItemOption=!1,f.initData(o?r:p,null,g),f}var Mv=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();Eo(Mv);var Iv=0,Tv=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Iv}return t.createByAxisModel=function(e){var n=e.option,r=n.data,i=r&&z(r,Cv);return new t({categories:i,needCollect:!i,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!Y(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=yt(this.categories))},t}();function Cv(t){return Z(t)&&null!=t.value?t.value:t+\"\"}function Dv(t,e,n,r){var i={},o=t[1]-t[0],a=i.interval=Wi(o/e,!0);null!=n&&a<n&&(a=i.interval=n),null!=r&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=kv(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Lv(t,0,e),Lv(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(i.niceTickExtent=[Pi(Math.ceil(t[0]/a)*a,s),Pi(Math.floor(t[1]/a)*a,s)],t),i}function kv(t){return Ri(t)+2}function Lv(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Av(t,e){return t>=e[0]&&t<=e[1]}function Pv(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Rv(t,e){return t*(e[1]-e[0])+e[0]}var Ov=function(t){function e(e){var n=t.call(this,e)||this;n.type=\"ordinal\";var r=n.getSetting(\"ordinalMeta\");return r||(r=new Tv({})),U(r)&&(r=new Tv({categories:z(r,function(t){return Z(t)?t.value:t})})),n._ordinalMeta=r,n._extent=n.getSetting(\"extent\")||[0,r.categories.length-1],n}return n(e,t),e.prototype.parse=function(t){return null==t?NaN:Y(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return Av(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return Pv(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(Rv(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);i<a;++i){var s=e[i];n[i]=s,r[s]=i}for(var l=0;i<o;++i){for(;null!=r[l];)l++;n.push(l),r[l]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?\"\":n+\"\"}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type=\"ordinal\",e}(Mv);Mv.registerClass(Ov);var Nv=Pi,Ev=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"interval\",e._interval=0,e._intervalPrecision=2,e}return n(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Av(t,this._extent)},e.prototype.normalize=function(t){return Pv(t,this._extent)},e.prototype.scale=function(t){return Rv(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=kv(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,o=[];if(!e)return o;n[0]<r[0]&&(t?o.push({value:Nv(r[0]-e,i)}):o.push({value:n[0]}));for(var a=r[0];a<=r[1]&&(o.push({value:a}),(a=Nv(a+e,i))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:r[1];return n[1]>s&&(t?o.push({value:Nv(s+e,i)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<e.length;i++){for(var o=e[i],a=e[i-1],s=0,l=[],u=(o.value-a.value)/t;s<t-1;){var h=Nv(a.value+(s+1)*u);h>r[0]&&h<r[1]&&l.push(h),s++}n.push(l)}return n},e.prototype.getLabel=function(t,e){if(null==t)return\"\";var n=e&&e.precision;return null==n?n=Ri(t.value)||0:\"auto\"===n&&(n=this._intervalPrecision),pc(Nv(t.value,n,!0))},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=Dv(r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=Math.abs(e[0]);t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=Nv(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=Nv(Math.ceil(e[1]/i)*i))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type=\"interval\",e}(Mv);Mv.registerClass(Ev);var Bv=\"__ec_stack_\";function zv(t){return t.get(\"stack\")||Bv+t.seriesIndex}function Vv(t){return t.dim+t.index}function Fv(t){var e=function(t){var e={};B(t,function(t){var n=t.coordinateSystem.getBaseAxis();if(\"time\"===n.type||\"value\"===n.type)for(var r=t.getData(),i=n.dim+\"_\"+n.index,o=r.getDimensionIndex(r.mapDimension(n.dim)),a=r.getStore(),s=0,l=a.count();s<l;++s){var u=a.get(o,s);e[i]?e[i].push(u):e[i]=[u]}});var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(t,e){return t-e});for(var o=null,a=1;a<i.length;++a){var s=i[a]-i[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[r]=o}}return n}(t),n=[];return B(t,function(t){var r,i=t.coordinateSystem.getBaseAxis(),o=i.getExtent();if(\"category\"===i.type)r=i.getBandWidth();else if(\"value\"===i.type||\"time\"===i.type){var a=i.dim+\"_\"+i.index,s=e[a],l=Math.abs(o[1]-o[0]),u=i.scale.getExtent(),h=Math.abs(u[1]-u[0]);r=s?l/h*s:l}else{var c=t.getData();r=Math.abs(o[1]-o[0])/c.count()}var p=Ai(t.get(\"barWidth\"),r),d=Ai(t.get(\"barMaxWidth\"),r),f=Ai(t.get(\"barMinWidth\")||(function(t){return t.pipelineContext&&t.pipelineContext.large}(t)?.5:1),r),g=t.get(\"barGap\"),y=t.get(\"barCategoryGap\");n.push({bandWidth:r,barWidth:p,barMaxWidth:d,barMinWidth:f,barGap:g,barCategoryGap:y,axisKey:Vv(i),stackId:zv(t)})}),function(t){var e={};B(t,function(t,n){var r=t.axisKey,i=t.bandWidth,o=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:\"20%\",stacks:{}},a=o.stacks;e[r]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=t.barMaxWidth;u&&(a[s].maxWidth=u);var h=t.barMinWidth;h&&(a[s].minWidth=h);var c=t.barGap;null!=c&&(o.gap=c);var p=t.barCategoryGap;null!=p&&(o.categoryGap=p)});var n={};return B(e,function(t,e){n[e]={};var r=t.stacks,i=t.bandWidth,o=t.categoryGap;if(null==o){var a=H(r).length;o=Math.max(35-4*a,15)+\"%\"}var s=Ai(o,i),l=Ai(t.gap,1),u=t.remainedWidth,h=t.autoWidthCount,c=(u-s)/(h+(h-1)*l);c=Math.max(c,0),B(r,function(t){var e=t.maxWidth,n=t.minWidth;if(t.width)r=t.width,e&&(r=Math.min(r,e)),n&&(r=Math.max(r,n)),t.width=r,u-=r+l*r,h--;else{var r=c;e&&e<r&&(r=Math.min(e,u)),n&&n>r&&(r=n),r!==c&&(t.width=r,u-=r+l*r,h--)}}),c=(u-s)/(h+(h-1)*l),c=Math.max(c,0);var p,d=0;B(r,function(t,e){t.width||(t.width=c),p=t,d+=t.width*(1+l)}),p&&(d-=p.width*l);var f=-d/2;B(r,function(t,r){n[e][r]=n[e][r]||{bandWidth:i,offset:f,width:t.width},f+=t.width*(1+l)})}),n}(n)}var Hv=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\"time\",n}return n(e,t),e.prototype.getLabel=function(t){var e=this.getSetting(\"useUTC\");return Zh(t.value,Uh[function(t){switch(t){case\"year\":case\"month\":return\"day\";case\"millisecond\":return\"millisecond\";default:return\"second\"}}(jh(this._minLevelUnit))]||Uh.second,e,this.getSetting(\"locale\"))},e.prototype.getFormattedLabel=function(t,e,n){var r=this.getSetting(\"useUTC\");return function(t,e,n,r,i){var o=null;if(Y(n))o=n;else if(X(n))o=n(t.value,e,{level:t.level});else{var a=L({},Gh);if(t.level>0)for(var s=0;s<Xh.length;++s)a[Xh[s]]=\"{primary|\"+a[Xh[s]]+\"}\";var l=n?!1===n.inherit?n:A(n,a):a,u=Kh(t.value,i);if(l[u])o=l[u];else if(l.inherit){for(s=Yh.indexOf(u)-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(U(o)){var h=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[h=Math.min(h,o.length-1)]}}return Zh(new Date(t.value),o,i,r)}(t,e,n,this.getSetting(\"locale\"),r)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var r=this.getSetting(\"useUTC\"),i=function(t,e,n,r){var i=Yh,o=0;function a(t,e,n,i,o,a,s){for(var l=new Date(e),u=e,h=l[i]();u<n&&u<=r[1];)s.push({value:u}),h+=t,l[o](h),u=l.getTime();s.push({value:u,notAdd:!0})}function s(t,i,o){var s=[],l=!i.length;if(!function(t,e,n,r){var i=Vi(e),o=Vi(n),a=function(t){return $h(i,t,r)===$h(o,t,r)},s=function(){return a(\"year\")},l=function(){return s()&&a(\"month\")},u=function(){return l()&&a(\"day\")},h=function(){return u()&&a(\"hour\")},c=function(){return h()&&a(\"minute\")},p=function(){return c()&&a(\"second\")};switch(t){case\"year\":return s();case\"month\":return l();case\"day\":return u();case\"hour\":return h();case\"minute\":return c();case\"second\":return p();case\"millisecond\":return p()&&a(\"millisecond\")}}(jh(t),r[0],r[1],n)){l&&(i=[{value:function(t,e,n){var r=new Date(t);switch(jh(e)){case\"year\":case\"month\":r[ac(n)](0);case\"day\":r[sc(n)](1);case\"hour\":r[lc(n)](0);case\"minute\":r[uc(n)](0);case\"second\":r[hc(n)](0),r[cc(n)](0)}return r.getTime()}(new Date(r[0]),t,n)},{value:r[1]}]);for(var u=0;u<i.length-1;u++){var h=i[u].value,c=i[u+1].value;if(h!==c){var p=void 0,d=void 0,f=void 0,g=!1;switch(t){case\"year\":p=Math.max(1,Math.round(e/Hh/365)),d=Qh(n),f=oc(n);break;case\"half-year\":case\"quarter\":case\"month\":p=Uv(e),d=Jh(n),f=ac(n);break;case\"week\":case\"half-week\":case\"day\":p=Gv(e),d=tc(n),f=sc(n),g=!0;break;case\"half-day\":case\"quarter-day\":case\"hour\":p=Xv(e),d=ec(n),f=lc(n);break;case\"minute\":p=Yv(e,!0),d=nc(n),f=uc(n);break;case\"second\":p=Yv(e,!1),d=rc(n),f=hc(n);break;case\"millisecond\":p=qv(e),d=ic(n),f=cc(n)}a(p,h,c,d,f,g,s),\"year\"===t&&o.length>1&&0===u&&o.unshift({value:o[0].value-p})}}for(var u=0;u<s.length;u++)o.push(s[u]);return s}}for(var l=[],u=[],h=0,c=0,p=0;p<i.length&&o++<1e4;++p){var d=jh(i[p]);if((_=i[p])===jh(_)){s(i[p],l[l.length-1]||[],u);var f=i[p+1]?jh(i[p+1]):null;if(d!==f){if(u.length){c=h,u.sort(function(t,e){return t.value-e.value});for(var g=[],y=0;y<u.length;++y){var v=u[y].value;0!==y&&u[y-1].value===v||(g.push(u[y]),v>=r[0]&&v<=r[1]&&h++)}var m=(r[1]-r[0])/e;if(h>1.5*m&&c>m/1.5)break;if(l.push(g),h>m||t===i[p])break}u=[]}}}var _;o>=1e4&&Ki(\"Exceed safe limit.\");for(var x=F(z(l,function(t){return F(t,function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd})}),function(t){return t.length>0}),w=[],b=x.length-1,p=0;p<x.length;++p)for(var S=x[p],M=0;M<S.length;++M)w.push({value:S[M].value,level:b-p});w.sort(function(t,e){return t.value-e.value});for(var I=[],p=0;p<w.length;++p)0!==p&&w[p].value===w[p-1].value||I.push(w[p]);return I}(this._minLevelUnit,this._approxInterval,r,e);return(n=n.concat(i)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=Hh,e[1]+=Hh),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-Hh}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=Wv.length,a=Math.min(function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n}(Wv,this._approxInterval,0,o),o-1);this._interval=Wv[a][1],this._minLevelUnit=Wv[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return j(t)?t:+Vi(t)},e.prototype.contain=function(t){return Av(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Pv(this.parse(t),this._extent)},e.prototype.scale=function(t){return Rv(t,this._extent)},e.type=\"time\",e}(Ev),Wv=[[\"second\",zh],[\"minute\",Vh],[\"hour\",Fh],[\"quarter-day\",6*Fh],[\"half-day\",12*Fh],[\"day\",1.2*Hh],[\"half-week\",3.5*Hh],[\"week\",7*Hh],[\"month\",31*Hh],[\"quarter\",95*Hh],[\"half-year\",Wh/2],[\"year\",Wh]];function Gv(t,e){return(t/=Hh)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Uv(t){return(t/=30*Hh)>6?6:t>3?3:t>2?2:1}function Xv(t){return(t/=Fh)>12?12:t>6?6:t>3.5?4:t>2?2:1}function Yv(t,e){return(t/=e?Vh:zh)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function qv(t){return Wi(t,!0)}Mv.registerClass(Hv);var jv=Mv.prototype,Zv=Ev.prototype,Kv=Pi,$v=Math.floor,Qv=Math.ceil,Jv=Math.pow,tm=Math.log,em=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"log\",e.base=10,e._originalScale=new Ev,e._interval=0,e}return n(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,r=e.getExtent();return z(Zv.getTicks.call(this,t),function(t){var e=t.value,i=Pi(Jv(this.base,e));return i=e===n[0]&&this._fixMin?rm(i,r[0]):i,{value:i=e===n[1]&&this._fixMax?rm(i,r[1]):i}},this)},e.prototype.setExtent=function(t,e){var n=tm(this.base);t=tm(Math.max(0,t))/n,e=tm(Math.max(0,e))/n,Zv.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=jv.getExtent.call(this);e[0]=Jv(t,e[0]),e[1]=Jv(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=rm(e[0],n[0])),this._fixMax&&(e[1]=rm(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=tm(t[0])/tm(e),t[1]=tm(t[1])/tm(e),jv.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=Fi(n);for(t/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[Pi(Qv(e[0]/r)*r),Pi($v(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},e.prototype.calcNiceExtent=function(t){Zv.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Av(t=tm(t)/tm(this.base),this._extent)},e.prototype.normalize=function(t){return Pv(t=tm(t)/tm(this.base),this._extent)},e.prototype.scale=function(t){return t=Rv(t,this._extent),Jv(this.base,t)},e.type=\"log\",e}(Mv),nm=em.prototype;function rm(t,e){return Kv(t,Ri(e))}nm.getMinorTicks=Zv.getMinorTicks,nm.getLabel=Zv.getLabel,Mv.registerClass(em);var im=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal=\"ordinal\"===t.type;this._needCrossZero=\"interval\"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var i=this._modelMinRaw=e.get(\"min\",!0);X(i)?this._modelMinNum=sm(t,i({min:n[0],max:n[1]})):\"dataMin\"!==i&&(this._modelMinNum=sm(t,i));var o=this._modelMaxRaw=e.get(\"max\",!0);if(X(o)?this._modelMaxNum=sm(t,o({min:n[0],max:n[1]})):\"dataMax\"!==o&&(this._modelMaxNum=sm(t,o)),r)this._axisDataLen=e.getCategories().length;else{var a=e.get(\"boundaryGap\"),s=U(a)?a:[a||0,a||0];\"boolean\"==typeof s[0]||\"boolean\"==typeof s[1]?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., \"20%\". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[ci(s[0],1),ci(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),a=\"dataMin\"===this._modelMinRaw?e:this._modelMinNum,s=\"dataMax\"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?r?0:NaN:e-i[0]*o),null==s&&(s=t?r?r-1:NaN:n+i[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var h=nt(a)||nt(s)||t&&!r;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var c=this._determinedMin,p=this._determinedMax;return null!=c&&(a=c,l=!0),null!=p&&(s=p,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){lt(!this.frozen),this[am[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=om[t];lt(!this.frozen&&null==this[n]),this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),om={min:\"_determinedMin\",max:\"_determinedMax\"},am={min:\"_dataMin\",max:\"_dataMax\"};function sm(t,e){return null==e?null:nt(e)?NaN:t.parse(e)}function lm(t,e){var n=t.type,r=function(t,e,n){var r=t.rawExtentInfo;return r||(r=new im(t,e,n),t.rawExtentInfo=r,r)}(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var i=r.min,o=r.max,a=e.ecModel;if(a&&\"time\"===n){var s=function(t,e){var n=[];return e.eachSeriesByType(t,function(t){(function(t){return t.coordinateSystem&&\"cartesian2d\"===t.coordinateSystem.type})(t)&&n.push(t)}),n}(\"bar\",a),l=!1;if(B(s,function(t){l=l||t.getBaseAxis()===e.axis}),l){var u=Fv(s),h=function(t,e,n,r){var i=n.axis.getExtent(),o=i[1]-i[0],a=function(t,e,n){if(t&&e){var r=t[Vv(e)];return null!=r&&null!=n?r[zv(n)]:r}}(r,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;B(a,function(t){s=Math.min(t.offset,s)});var l=-1/0;B(a,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/o)-h;return{min:t-=c*(s/u),max:e+=c*(l/u)}}(i,o,e,u);i=h.min,o=h.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function um(t){var e,n,r=t.getLabelModel().get(\"formatter\"),i=\"category\"===t.type?t.scale.getExtent()[0]:null;return\"time\"===t.scale.type?(n=r,function(e,r){return t.scale.getFormattedLabel(e,r,n)}):Y(r)?function(e){return function(n){var r=t.scale.getLabel(n);return e.replace(\"{value}\",null!=r?r:\"\")}}(r):X(r)?(e=r,function(n,r){return null!=i&&(r=n.value-i),e(function(t,e){return\"category\"===t.type?t.scale.getLabel(e):e.value}(t,n),r,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function hm(t){var e=t.get(\"interval\");return null==e?\"auto\":e}var cm=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();var pm={isDimensionStacked:bv,enableDataStack:wv,getStackedDimension:function(t,e){return bv(t,e)?t.getCalculationInfo(\"stackResultDimension\"):e}};var dm=Object.freeze({__proto__:null,createDimensions:function(t,e){return yv(t,e).dimensions},createList:function(t){return Sv(null,t)},createScale:function(t,e){var n=e;e instanceof Dh||(n=new Dh(e));var r=function(t,e){if(e=e||t.get(\"type\"))switch(e){case\"category\":return new Ov({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case\"time\":return new Hv({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get(\"useUTC\")});default:return new(Mv.getClass(e)||Ev)}}(n);return r.setExtent(t[0],t[1]),function(t,e){var n=e,r=lm(t,n),i=r.extent,o=n.get(\"splitNumber\");t instanceof em&&(t.base=n.get(\"logBase\"));var a=t.type,s=n.get(\"interval\"),l=\"interval\"===a||\"time\"===a;t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get(\"minInterval\"):null,maxInterval:l?n.get(\"maxInterval\"):null}),null!=s&&t.setInterval&&t.setInterval(s)}(r,n),r},createSymbol:Jf,createTextStyle:function(t,e){return lh(t,null,null,\"normal\"!==(e=e||{}).state)},dataStack:pm,enableHoverEmphasis:Sl,getECData:Rs,getLayoutRect:wc,mixinAxisModelCommonMethods:function(t){N(t,cm)}}),fm=[],gm={registerPreprocessor:Ly,registerProcessor:Ay,registerPostInit:Py,registerPostUpdate:Ry,registerUpdateLifecycle:Oy,registerAction:Ny,registerCoordinateSystem:Ey,registerLayout:By,registerVisual:zy,registerTransform:Gy,registerLoading:Hy,registerMap:Wy,registerImpl:function(t,e){Rg[t]&&$i(\"Already has an implementation of \"+t+\".\"),Rg[t]=e},PRIORITY:zg,ComponentModel:Tc,ComponentView:Kd,SeriesModel:Wd,ChartView:Jd,registerComponentModel:function(t){Tc.registerClass(t)},registerComponentView:function(t){Kd.registerClass(t)},registerSeriesModel:function(t){Wd.registerClass(t)},registerChartView:function(t){Jd.registerClass(t)},registerSubTypeDefaulter:function(t,e){Tc.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Ti(t,e)}};function ym(t){U(t)?B(t,function(t){ym(t)}):R(fm,t)>=0||(fm.push(t),X(t)&&(t={install:t}),t.install(gm))}var vm=1e-8;function mm(t,e){return Math.abs(t-e)<vm}function _m(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var o=1;o<t.length;o++){var a=t[o];r+=Ka(i[0],i[1],a[0],a[1],e,n),i=a}var s=t[0];return mm(i[0],s[0])&&mm(i[1],s[1])||(r+=Ka(i[0],i[1],s[0],s[1],e,n)),0!==r}var xm=[];function wm(t,e){for(var n=0;n<t.length;n++)Wt(t[n],t[n],e)}function bm(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Gt(e,e,o),Ut(n,n,o))}}var Sm=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),Mm=function(){return function(t,e){this.type=\"polygon\",this.exterior=t,this.interiors=e}}(),Im=function(){return function(t){this.type=\"linestring\",this.points=t}}(),Tm=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.type=\"geoJSON\",i.geometries=n,i._center=r&&[r[0],r[1]],i}return n(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,r=0;r<e.length;r++){var i=e[r],o=i.exterior,a=o&&o.length;a>n&&(t=i,n=a)}if(t)return function(t){for(var e=0,n=0,r=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var l=t[s][0],u=t[s][1],h=o*u-l*a;e+=h,n+=(o+l)*h,r+=(a+u)*h,o=l,a=u}return e?[n/e/3,r/e/3,e]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],r=[-1/0,-1/0];return B(this.geometries,function(e){\"polygon\"===e.type?bm(e.exterior,n,r,t):B(e.points,function(e){bm(e,n,r,t)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),e=new Oe(n[0],n[1],r[0]-n[0],r[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++){var o=n[r];if(\"polygon\"===o.type){var a=o.exterior,s=o.interiors;if(_m(a,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(_m(s[l],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new Oe(t,e,n,r),s=i.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++){var h=l[u];\"polygon\"===h.type?(wm(h.exterior,s),B(h.interiors,function(t){wm(t,s)})):B(h.points,function(t){wm(t,s)})}(i=this._rect).copy(a),this._center=[i.x+i.width/2,i.y+i.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(Sm);function Cm(t,e,n){for(var r=0;r<t.length;r++)t[r]=Dm(t[r],e[r],n)}function Dm(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),i=s+=i,o=l+=o,r.push([s/n,l/n])}return r}function km(t,e){return z(F((t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;return null==n&&(n=1024),B(e.features,function(t){var e=t.geometry,r=e.encodeOffsets,i=e.coordinates;if(r)switch(e.type){case\"LineString\":e.coordinates=Dm(i,r,n);break;case\"Polygon\":case\"MultiLineString\":Cm(i,r,n);break;case\"MultiPolygon\":B(i,function(t,e){return Cm(t,r[e],n)})}}),e.UTF8Encoding=!1,e}(t)).features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,r=t.geometry,i=[];switch(r.type){case\"Polygon\":var o=r.coordinates;i.push(new Mm(o[0],o.slice(1)));break;case\"MultiPolygon\":B(r.coordinates,function(t){t[0]&&i.push(new Mm(t[0],t.slice(1)))});break;case\"LineString\":i.push(new Im([r.coordinates]));break;case\"MultiLineString\":i.push(new Im(r.coordinates))}var a=new Tm(n[e||\"name\"],i,n.cp);return a.properties=n,a})}!function(t){function e(e,n){var r=t.call(this,e)||this;return r.type=\"geoSVG\",r._elOnlyForCalculate=n,r}n(e,t),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],r=ve(xm),i=t;i&&!i.isGeoSVGGraphicRoot;)_e(r,i.getLocalTransform(),r),i=i.parent;return Se(r,r),Wt(n,n,r),n}}(Sm);var Lm=Object.freeze({__proto__:null,MAX_SAFE_INTEGER:Bi,asc:function(t){return t.sort(function(t,e){return t-e}),t},getPercentWithPrecision:function(t,e,n){return t[e]&&function(t,e){var n=V(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return[];for(var r=Math.pow(10,e),i=z(t,function(t){return(isNaN(t)?0:t)/n*r*100}),o=100*r,a=z(i,function(t){return Math.floor(t)}),s=V(a,function(t,e){return t+e},0),l=z(i,function(t,e){return t-a[e]});s<o;){for(var u=Number.NEGATIVE_INFINITY,h=null,c=0,p=l.length;c<p;++c)l[c]>u&&(u=l[c],h=c);++a[h],l[h]=0,++s}return z(a,function(t){return t/r})}(t,n)[e]||0},getPixelPrecision:Ni,getPrecision:Ri,getPrecisionSafe:Oi,isNumeric:Ui,isRadianAroundZero:function(t){return t>-Di&&t<Di},linearMap:Li,nice:Wi,numericToNumber:Gi,parseDate:Vi,quantile:function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},quantity:Fi,quantityExponent:Hi,reformIntervals:function(t){t.sort(function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!=1?t.splice(r,1):r++}return t},remRadian:function(t){var e=2*Math.PI;return(t%e+e)%e},round:Pi}),Am=Object.freeze({__proto__:null,format:Zh,parse:Vi}),Pm=Object.freeze({__proto__:null,Arc:Cu,BezierCurve:Iu,BoundingRect:Oe,Circle:jl,CompoundPath:Du,Ellipse:Kl,Group:wi,Image:fs,IncrementalDisplayable:zu,Line:wu,LinearGradient:Lu,Polygon:yu,Polyline:mu,RadialGradient:Au,Rect:_s,Ring:du,Sector:cu,Text:bs,clipPointsByRect:function(t,e){return z(t,function(t){var n=t[0];n=Xu(n,e.x),n=Yu(n,e.x+e.width);var r=t[1];return r=Xu(r,e.y),[n,r=Yu(r,e.y+e.height)]})},clipRectByRect:function(t,e){var n=Xu(t.x,e.x),r=Yu(t.x+t.width,e.x+e.width),i=Xu(t.y,e.y),o=Yu(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}},createIcon:function(t,e,n){var r=L({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf(\"image://\")?(i.image=t.slice(8),A(i,n),new fs(r)):Ku(t.replace(\"path://\",\"\"),r,n,\"center\")},extendPath:function(t,e){return ju(t,e)},extendShape:function(t){return us.extend(t)},getShapeClass:function(t){if(qu.hasOwnProperty(t))return qu[t]},getTransform:function(t,e){for(var n=ve([]);t&&t!==e;)_e(n,t.getLocalTransform(),n),t=t.parent;return n},initProps:Wu,makeImage:$u,makePath:Ku,mergePath:Ju,registerShape:Zu,resizePath:th,updateProps:Hu}),Rm=Object.freeze({__proto__:null,addCommas:pc,capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},encodeHTML:re,formatTime:function(t,e,n){Ji(\"echarts.format.formatTime\",\"echarts.time.format\"),\"week\"!==t&&\"month\"!==t&&\"quarter\"!==t&&\"half-year\"!==t&&\"year\"!==t||(t=\"MM-dd\\nyyyy\");var r=Vi(e),i=n?\"getUTC\":\"get\",o=r[i+\"FullYear\"](),a=r[i+\"Month\"]()+1,s=r[i+\"Date\"](),l=r[i+\"Hours\"](),u=r[i+\"Minutes\"](),h=r[i+\"Seconds\"](),c=r[i+\"Milliseconds\"]();return t=t.replace(\"MM\",qh(a,2)).replace(\"M\",a).replace(\"yyyy\",o).replace(\"yy\",qh(o%100+\"\",2)).replace(\"dd\",qh(s,2)).replace(\"d\",s).replace(\"hh\",qh(l,2)).replace(\"h\",l).replace(\"mm\",qh(u,2)).replace(\"m\",u).replace(\"ss\",qh(h,2)).replace(\"s\",h).replace(\"SSS\",qh(c,3))},formatTpl:yc,getTextRect:function(t,e,n,r,i,o,a,s){return new bs({style:{text:t,font:e,align:n,verticalAlign:r,padding:i,rich:o,overflow:a?\"truncate\":null,lineHeight:s}}).getBoundingRect()},getTooltipMarker:function(t,e){var n=Y(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var o=n.renderMode||\"html\";return r?\"html\"===o?\"subItem\"===i?'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+re(r)+\";\"+(e||\"\")+'\"></span>':'<span style=\"display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+re(r)+\";\"+(e||\"\")+'\"></span>':{renderMode:o,content:\"{\"+(n.markerId||\"markerX\")+\"|}  \",style:\"subItem\"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:\"\"},normalizeCssArray:dc,toCamelCase:function(t,e){return t=(t||\"\").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},truncateText:Yo}),Om=Object.freeze({__proto__:null,bind:W,clone:D,curry:G,defaults:A,each:B,extend:L,filter:F,indexOf:R,inherits:O,isArray:U,isFunction:X,isObject:Z,isString:Y,map:z,merge:k,reduce:V}),Nm=xo();function Em(t){return\"category\"===t.type?function(t){var e=t.getLabelModel(),n=zm(t,e);return!e.get(\"show\")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=um(t);return{labels:z(e,function(e,r){return{level:e.level,formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e.value}})}}(t)}function Bm(t,e){return\"category\"===t.type?function(t,e){var n,r,i=Vm(t,\"ticks\"),o=hm(e),a=Fm(i,o);if(a)return a;e.get(\"show\")&&!t.scale.isBlank()||(n=[]);if(X(o))n=Gm(t,o,!0);else if(\"auto\"===o){var s=zm(t,t.getLabelModel());r=s.labelCategoryInterval,n=z(s.labels,function(t){return t.tickValue})}else n=Wm(t,r=o,!0);return Hm(i,o,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:z(t.scale.getTicks(),function(t){return t.value})}}function zm(t,e){var n,r=Vm(t,\"labels\"),i=hm(e),o=Fm(r,i);return o||Hm(r,i,{labels:X(i)?Gm(t,i):Wm(t,n=\"auto\"===i?function(t){var e=Nm(t).autoInterval;return null!=e?e:Nm(t).autoInterval=t.calculateCategoryInterval()}(t):i),labelCategoryInterval:n})}function Vm(t,e){return Nm(t)[e]||(Nm(t)[e]=[])}function Fm(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Hm(t,e,n){return t.push({key:e,value:n}),n}function Wm(t,e,n){var r=um(t),i=t.scale,o=i.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],h=i.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=function(t){return\"category\"===t.type&&0===hm(t.getLabelModel())}(t),p=a.get(\"showMinLabel\")||c,d=a.get(\"showMaxLabel\")||c;p&&u!==o[0]&&g(o[0]);for(var f=u;f<=o[1];f+=l)g(f);function g(t){var e={value:t};s.push(n?t:{formattedLabel:r(e),rawLabel:i.getLabel(e),tickValue:t})}return d&&f-l!==o[1]&&g(o[1]),s}function Gm(t,e,n){var r=t.scale,i=um(t),o=[];return B(r.getTicks(),function(t){var a=r.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:i(t),rawLabel:a,tickValue:s})}),o}var Um=[0,1],Xm=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Ni(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&\"ordinal\"===r.type&&Ym(n=n.slice(),r.count()),Li(t,Um,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&\"ordinal\"===r.type&&Ym(n=n.slice(),r.count());var i=Li(t,n,Um,e);return this.scale.scale(i)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=z(Bm(this,e).ticks,function(t){return{coord:this.dataToCoord(\"ordinal\"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this);return function(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var o,a,s=t.getExtent();if(1===i)e[0].coord=s[0],o=e[1]={coord:s[1]};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;B(e,function(t){t.coord-=u/2});var h=t.scale.getExtent();a=1+h[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*a},e.push(o)}var c=s[0]>s[1];p(e[0].coord,s[0])&&(r?e[0].coord=s[0]:e.shift());r&&p(s[0],e[0].coord)&&e.unshift({coord:s[0]});p(s[1],o.coord)&&(r?o.coord=s[1]:e.pop());r&&p(o.coord,s[1])&&e.push({coord:s[1]});function p(t,e){return t=Pi(t),e=Pi(e),c?t>e:t<e}}(this,n,e.get(\"alignWithLabel\"),t.clamp),n},t.prototype.getMinorTicksCoords=function(){if(\"ordinal\"===this.scale.type)return[];var t=this.model.getModel(\"minorTick\").get(\"splitNumber\");return t>0&&t<100||(t=5),z(this.scale.getMinorTicks(t),function(t){return z(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},t.prototype.getViewLabels=function(){return Em(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel(\"axisLabel\")},t.prototype.getTickModel=function(){return this.model.getModel(\"axisTick\")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get(\"rotate\")||0,font:e.getFont()}}(t),n=um(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(r)),c=Math.abs(u*Math.sin(r)),p=0,d=0;l<=o[1];l+=s){var f,g,y=si(n({value:l}),e.font,\"center\",\"top\");f=1.3*y.width,g=1.3*y.height,p=Math.max(p,f,7),d=Math.max(d,g,7)}var v=p/h,m=d/c;isNaN(v)&&(v=1/0),isNaN(m)&&(m=1/0);var _=Math.max(0,Math.floor(Math.min(v,m))),x=Nm(t.model),w=t.getExtent(),b=x.lastAutoInterval,S=x.lastTickCount;return null!=b&&null!=S&&Math.abs(b-_)<=1&&Math.abs(S-a)<=1&&b>_&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?_=b:(x.lastTickCount=a,x.lastAutoInterval=_,x.axisExtent0=w[0],x.axisExtent1=w[1]),_}(this)},t}();function Ym(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var qm=2*Math.PI,jm=Wa.CMD,Zm=[\"top\",\"right\",\"bottom\",\"left\"];function Km(t,e,n,r,i){var o=n.width,a=n.height;switch(t){case\"top\":r.set(n.x+o/2,n.y-e),i.set(0,-1);break;case\"bottom\":r.set(n.x+o/2,n.y+a+e),i.set(0,1);break;case\"left\":r.set(n.x-e,n.y+a/2),i.set(-1,0);break;case\"right\":r.set(n.x+o+e,n.y+a/2),i.set(1,0)}}function $m(t,e,n,r,i,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),h=(a/=u)*n+t,c=(s/=u)*n+e;if(Math.abs(r-i)%qm<1e-4)return l[0]=h,l[1]=c,u-n;if(o){var p=r;r=qa(i),i=qa(p)}else r=qa(r),i=qa(i);r>i&&(i+=qm);var d=Math.atan2(s,a);if(d<0&&(d+=qm),d>=r&&d<=i||d+qm>=r&&d+qm<=i)return l[0]=h,l[1]=c,u-n;var f=n*Math.cos(r)+t,g=n*Math.sin(r)+e,y=n*Math.cos(i)+t,v=n*Math.sin(i)+e,m=(f-a)*(f-a)+(g-s)*(g-s),_=(y-a)*(y-a)+(v-s)*(v-s);return m<_?(l[0]=f,l[1]=g,Math.sqrt(m)):(l[0]=y,l[1]=v,Math.sqrt(_))}function Qm(t,e,n,r,i,o,a,s){var l=i-t,u=o-e,h=n-t,c=r-e,p=Math.sqrt(h*h+c*c),d=(l*(h/=p)+u*(c/=p))/p;s&&(d=Math.min(Math.max(d,0),1)),d*=p;var f=a[0]=t+d*h,g=a[1]=e+d*c;return Math.sqrt((f-i)*(f-i)+(g-o)*(g-o))}function Jm(t,e,n,r,i,o,a){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var s=t+n,l=e+r,u=a[0]=Math.min(Math.max(i,t),s),h=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-i)*(u-i)+(h-o)*(h-o))}var t_=[];function e_(t,e,n){var r=Jm(e.x,e.y,e.width,e.height,t.x,t.y,t_);return n.set(t_[0],t_[1]),r}function n_(t,e,n){for(var r,i,o=0,a=0,s=0,l=0,u=1/0,h=e.data,c=t.x,p=t.y,d=0;d<h.length;){var f=h[d++];1===d&&(s=o=h[d],l=a=h[d+1]);var g=u;switch(f){case jm.M:o=s=h[d++],a=l=h[d++];break;case jm.L:g=Qm(o,a,h[d],h[d+1],c,p,t_,!0),o=h[d++],a=h[d++];break;case jm.C:g=Mn(o,a,h[d++],h[d++],h[d++],h[d++],h[d],h[d+1],c,p,t_),o=h[d++],a=h[d++];break;case jm.Q:g=Ln(o,a,h[d++],h[d++],h[d],h[d+1],c,p,t_),o=h[d++],a=h[d++];break;case jm.A:var y=h[d++],v=h[d++],m=h[d++],_=h[d++],x=h[d++],w=h[d++];d+=1;var b=!!(1-h[d++]);r=Math.cos(x)*m+y,i=Math.sin(x)*_+v,d<=1&&(s=r,l=i),g=$m(y,v,_,x,x+w,b,(c-y)*_/m+y,p,t_),o=Math.cos(x+w)*m+y,a=Math.sin(x+w)*_+v;break;case jm.R:g=Jm(s=o=h[d++],l=a=h[d++],h[d++],h[d++],c,p,t_);break;case jm.Z:g=Qm(o,a,s,l,c,p,t_,!0),o=s,a=l}g<u&&(u=g,n.set(t_[0],t_[1]))}return u}var r_=new Ie,i_=new Ie,o_=new Ie,a_=new Ie,s_=new Ie;function l_(t,e){if(t){var n=t.getTextGuideLine(),r=t.getTextContent();if(r&&n){var i=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=i.candidates||Zm,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,h=t.getComputedTransform(),c=h&&Se([],h),p=e.get(\"length2\")||0;u&&o_.copy(u);for(var d=0;d<a.length;d++){Km(a[d],0,s,r_,a_),Ie.scaleAndAdd(i_,r_,a_,p),i_.transform(c);var f=t.getBoundingRect(),g=u?u.distance(i_):t instanceof us?n_(i_,t.path,o_):e_(i_,f,o_);g<l&&(l=g,i_.transform(h),o_.transform(h),o_.toArray(o[0]),i_.toArray(o[1]),r_.toArray(o[2]))}!function(t,e){if(!(e<=180&&e>0))return;e=e/180*Math.PI,r_.fromArray(t[0]),i_.fromArray(t[1]),o_.fromArray(t[2]),Ie.sub(a_,r_,i_),Ie.sub(s_,o_,i_);var n=a_.len(),r=s_.len();if(n<.001||r<.001)return;a_.scale(1/n),s_.scale(1/r);var i=a_.dot(s_);if(Math.cos(e)<i){var o=Qm(i_.x,i_.y,o_.x,o_.y,r_.x,r_.y,u_,!1);h_.fromArray(u_),h_.scaleAndAdd(s_,o/Math.tan(Math.PI-e));var a=o_.x!==i_.x?(h_.x-i_.x)/(o_.x-i_.x):(h_.y-i_.y)/(o_.y-i_.y);if(isNaN(a))return;a<0?Ie.copy(h_,i_):a>1&&Ie.copy(h_,o_),h_.toArray(t[1])}}(o,e.get(\"minTurnAngle\")),n.setShape({points:o})}}}var u_=[],h_=new Ie;function c_(t,e,n,r){var i=\"normal\"===n,o=i?t:t.ensureState(n);o.ignore=e;var a=r.get(\"smooth\");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel(\"lineStyle\").getLineStyle();i?t.useStyle(s):o.style=s}function p_(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=zt(r[0],r[1]),o=zt(r[1],r[2]);if(!i||!o)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var a=Math.min(i,o)*n,s=Ht([],r[1],r[0],a/i),l=Ht([],r[1],r[2],a/o),u=Ht([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var h=1;h<r.length;h++)t.lineTo(r[h][0],r[h][1])}function d_(t,e,n,r,i,o){var a=t.length;if(!(a<2)){t.sort(function(t,n){return t.rect[e]-n.rect[e]});for(var s,l=0,u=!1,h=0,c=0;c<a;c++){var p=t[c],d=p.rect;(s=d[e]-l)<0&&(d[e]-=s,p.label[e]-=s,u=!0),h+=Math.max(-s,0),l=d[e]+d[n]}h>0&&o&&x(-h/a,0,a);var f,g,y=t[0],v=t[a-1];return m(),f<0&&w(-f,.8),g<0&&w(g,.8),m(),_(f,g,1),_(g,f,-1),m(),f<0&&b(-f),g<0&&b(g),u}function m(){f=y.rect[e]-r,g=i-v.rect[e]-v.rect[n]}function _(t,e,n){if(t<0){var r=Math.min(e,-t);if(r>0){x(r*n,0,a);var i=r+t;i<0&&w(-i*n,1)}else w(-t*n,1)}}function x(n,r,i){0!==n&&(u=!0);for(var o=r;o<i;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function w(r,i){for(var o=[],s=0,l=1;l<a;l++){var u=t[l-1].rect,h=Math.max(t[l].rect[e]-u[e]-u[n],0);o.push(h),s+=h}if(s){var c=Math.min(Math.abs(r)/s,i);if(r>0)for(l=0;l<a-1;l++){x(o[l]*c,0,l+1)}else for(l=a-1;l>0;l--){x(-(o[l-1]*c),l,a)}}}function b(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),r=0;r<a-1;r++)if(e>0?x(n,0,r+1):x(-n,a-r-1,a),(t-=n)<=0)return}}function f_(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:function(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}(r&&r.shape.points)}}var g_=[\"align\",\"verticalAlign\",\"width\",\"height\",\"fontSize\"],y_=new ni,v_=xo(),m_=xo();function __(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null!=e[i]&&(t[i]=e[i])}}var x_=[\"x\",\"y\",\"rotation\"],w_=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,r,i){var o=r.style,a=r.__hostTarget.textConfig||{},s=r.getComputedTransform(),l=r.getBoundingRect().plain();Oe.applyTransform(l,l,s),s?y_.setLocalTransform(s):(y_.x=y_.y=y_.rotation=y_.originX=y_.originY=0,y_.scaleX=y_.scaleY=1),y_.rotation=qa(y_.rotation);var u,h=r.__hostTarget;if(h){u=h.getBoundingRect().plain();var c=h.getComputedTransform();Oe.applyTransform(u,u,c)}var p=u&&h.getTextGuideLine();this._labelList.push({label:r,labelLine:p,seriesModel:n,dataIndex:t,dataType:e,layoutOption:i,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:p&&p.ignore,x:y_.x,y:y_.y,scaleX:y_.scaleX,scaleY:y_.scaleY,rotation:y_.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get(\"labelLayout\");(X(r)||H(r).length)&&t.group.traverse(function(t){if(t.ignore)return!0;var i=t.getTextContent(),o=Rs(t);i&&!i.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,i,r)})},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(t,e){return function(){l_(t,e)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],a=o.label,s=a.__hostTarget,l=o.defaultAttr,u=void 0;u=(u=X(o.layoutOption)?o.layoutOption(f_(o,s)):o.layoutOption)||{},o.computedLayoutOption=u;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*h:l.attachedRot,offset:[u.dx||0,u.dy||0]});var c=!1;if(null!=u.x?(a.x=Ai(u.x,e),a.setStyle(\"x\",0),c=!0):(a.x=l.x,a.setStyle(\"x\",l.style.x)),null!=u.y?(a.y=Ai(u.y,n),a.setStyle(\"y\",0),c=!0):(a.y=l.y,a.setStyle(\"y\",l.style.y)),u.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),c=!1)}v_(a).needsUpdateLabelLine=c,a.rotation=null!=u.rotate?u.rotate*h:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var d=0;d<g_.length;d++){var f=g_[d];a.setStyle(f,null!=u[f]?u[f]:l.style[f])}if(u.draggable){if(a.draggable=!0,a.cursor=\"move\",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on(\"drag\",r(s,g.getModel(\"labelLine\")))}}else a.off(\"drag\"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e,n=t.getWidth(),r=t.getHeight(),i=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new Eu(a,o):null;e.push({label:i,labelLine:r.labelLine,rect:u,localRect:a,obb:h,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:o})}}return e}(this._labelList),o=F(i,function(t){return\"shiftX\"===t.layoutOption.moveOverlap}),a=F(i,function(t){return\"shiftY\"===t.layoutOption.moveOverlap});d_(o,\"x\",\"width\",0,n,e),function(t,e,n,r){d_(t,\"y\",\"height\",e,n,r)}(a,0,r),function(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var n=new Oe(0,0,0,0);function r(t){if(!t.ignore){var e=t.ensureState(\"emphasis\");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var i=0;i<t.length;i++){var o=t[i],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var c=o.obb,p=!1,d=0;d<e.length;d++){var f=e[d];if(n.intersect(f.rect)){if(a&&f.axisAligned){p=!0;break}if(f.obb||(f.obb=new Eu(f.localRect,f.transform)),c||(c=new Eu(s,l)),c.intersect(f.obb)){p=!0;break}}}p?(r(u),h&&r(h)):(u.attr(\"ignore\",o.defaultAttr.ignore),h&&h.attr(\"ignore\",o.defaultAttr.labelGuideIgnore),e.push(o))}}(F(i,function(t){return t.layoutOption.hideOverlap}))},t.prototype.processLabelsOverall=function(){var t=this;B(this._chartViewList,function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,i=n.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!r,a=e.getTextContent();!o&&a&&(o=v_(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),i&&t._animateLabels(e,n)})})},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=Rs(t),i=r.dataIndex;if(n&&null!=i){var o=e.getData(r.dataType),a=o.getItemModel(i),s={},l=o.getItemVisual(i,\"style\");if(l){var u=o.getVisual(\"drawType\");s.stroke=l[u]}var h=a.getModel(\"labelLine\");!function(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(i){for(var o=e.normal,a=o.get(\"show\"),s=i.ignore,l=0;l<Ws.length;l++){var u=Ws[l],h=e[u],c=\"normal\"===u;if(h){var p=h.get(\"show\");if((c?s:it(i.states[u]&&i.states[u].ignore,s))||!it(p,a)){var d=c?r:r&&r.states[u];d&&(d.ignore=!0);continue}r||(r=new mu,t.setTextGuideLine(r),c||!s&&a||c_(r,!0,\"normal\",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),c_(r,!1,u,h)}}if(r){A(r.style,n),r.style.fill=null;var f=o.get(\"showAbove\");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=f||!1,r.buildPath=p_}}else r&&t.removeTextGuideLine()}(t,function(t,e){e=e||\"labelLine\";for(var n={normal:t.getModel(e)},r=0;r<Hs.length;r++){var i=Hs[r];n[i]=t.getModel([i,e])}return n}(a),s),l_(t,h)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Gu(t))){var i=(d=v_(n)).oldLayout,o=Rs(t),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},l=e.getData(o.dataType);if(i){n.attr(i);var u=t.prevStates;u&&(R(u,\"select\")>=0&&n.attr(d.oldLayoutSelect),R(u,\"emphasis\")>=0&&n.attr(d.oldLayoutEmphasis)),Hu(n,s,e,a)}else if(n.attr(s),!fh(n).valueAnimation){var h=it(n.style.opacity,1);n.style.opacity=0,Wu(n,{style:{opacity:h}},e,a)}if(d.oldLayout=s,n.states.select){var c=d.oldLayoutSelect={};__(c,s,x_),__(c,n.states.select,x_)}if(n.states.emphasis){var p=d.oldLayoutEmphasis={};__(p,s,x_),__(p,n.states.emphasis,x_)}gh(n,a,l,e,e)}if(r&&!r.ignore&&!r.invisible){i=(d=m_(r)).oldLayout;var d,f={points:r.shape.points};i?(r.attr({shape:i}),Hu(r,{shape:f},e)):(r.setShape(f),r.style.strokePercent=0,Wu(r,{style:{strokePercent:1}},e)),d.oldLayout=f}},t}(),b_=xo();function S_(t){t.registerUpdateLifecycle(\"series:beforeupdate\",function(t,e,n){var r=b_(e).labelManager;r||(r=b_(e).labelManager=new w_),r.clearLabels()}),t.registerUpdateLifecycle(\"series:layoutlabels\",function(t,e,n){var r=b_(e).labelManager;n.updatedSeries.forEach(function(t){r.addLabelsOfSeries(e.getViewOfSeriesModel(t))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}function M_(t,e,n){var r=p.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position=\"absolute\",a.left=\"0\",a.top=\"0\",a.width=i+\"px\",a.height=o+\"px\",r.setAttribute(\"data-zr-dom-id\",t)),r.width=i*n,r.height=o*n,r}ym(S_);var I_=function(t){function e(e,n,r){var i,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||qr,\"string\"==typeof e?i=M_(e,n,r):Z(e)&&(e=(i=e).id),o.id=e,o.dom=i;var a=i.style;return a&&(_t(i),i.onselectstart=function(){return!1},a.padding=\"0\",a.margin=\"0\",a.borderWidth=\"0\"),o.painter=n,o.dpr=r,o}return n(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext(\"2d\"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=M_(\"back-\"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(\"2d\"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,o=[],a=this.maxRepaintRectCount,s=!1,l=new Oe(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new Oe(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,r=1/0,i=0,u=0;u<o.length;++u){var h=o[u];if(h.intersect(t)){var c=new Oe(0,0,0,0);c.copy(h),c.union(t),o[u]=c,n=!0;break}if(s){l.copy(t),l.union(h);var p=t.width*t.height,d=h.width*h.height,f=l.width*l.height-p-d;f<r&&(r=f,i=u)}}if(s&&(o[i].union(t),n=!0),!n)(e=new Oe(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var h=this.__startIndex;h<this.__endIndex;++h){if(d=t[h]){var c=d.shouldBePainted(n,r,!0,!0);(f=d.__isRendered&&(d.__dirty&Je||!c)?d.getPrevPaintRect():null)&&u(f);var p=c&&(d.__dirty&Je||!d.__isRendered)?d.getPaintRect():null;p&&u(p)}}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var d,f;c=(d=e[h]).shouldBePainted(n,r,!0,!0);if(d&&(!c||!d.__zr)&&d.__isRendered)(f=d.getPrevPaintRect())&&u(f)}do{i=!1;for(h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var g=h+1;g<o.length;)o[h].intersect(o[g])?(i=!0,o[h].union(o[g]),o.splice(g,1)):g++;h++}}while(i);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+\"px\",i.height=e+\"px\"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var r=this.dom,i=this.ctx,o=r.width,a=r.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,h=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=\"copy\",this.ctxBack.drawImage(r,0,0,o/u,a/u));var c=this.domBack;function p(t,n,r,o){if(i.clearRect(t,n,r,o),e&&\"transparent\"!==e){var a=void 0;if(J(e))a=(e.global||e.__width===r&&e.__height===o)&&e.__canvasGradient||rg(i,e,{x:0,y:0,width:r,height:o}),e.__canvasGradient=a,e.__width=r,e.__height=o;else tt(e)&&(e.scaleX=e.scaleX||u,e.scaleY=e.scaleY||u,a=dg(i,e,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}}));i.save(),i.fillStyle=a||e,i.fillRect(t,n,r,o),i.restore()}s&&(i.save(),i.globalAlpha=l,i.drawImage(c,t,n,r,o),i.restore())}!n||s?p(0,0,o,a):n.length&&B(n,function(t){p(t.x*u,t.y*u,t.width*u,t.height*u)})},e}(jt),T_=314159;var C_=function(){function t(t,e,n,r){this.type=\"canvas\",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type=\"canvas\";var i=!t.nodeName||\"CANVAS\"===t.nodeName.toUpperCase();this._opts=n=L({},n||{}),this.dpr=n.devicePixelRatio||qr,this._singleCanvas=i,this.root=t,t.style&&(_t(t),t.innerHTML=\"\"),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(i){var s=t,l=s.width,u=s.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,s.width=l*this.dpr,s.height=u*this.dpr,this._width=l,this._height=u;var h=new I_(s,this,this.dpr);h.__builtin__=!0,h.initContext(),a[T_]=h,h.zlevel=T_,o.push(T_),this._domRoot=t}else{this._width=og(t,0,n),this._height=og(t,1,n);var c=this._domRoot=function(t,e){var n=document.createElement(\"div\");return n.style.cssText=[\"position:relative\",\"width:\"+t+\"px\",\"height:\"+e+\"px\",\"padding:0\",\"margin:0\",\"border-width:0\"].join(\";\")+\";\",n}(this._width,this._height);t.appendChild(c)}}return t.prototype.getType=function(){return\"canvas\"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===i?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(1e5)),r||(r=n.ctx).save(),Tg(r,a,i,o===e-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(1e5)},t.prototype.paintOne=function(t,e){Ig(t,e)},t.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e,n),o=i.finished,a=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var s=this;an(function(){s._paintList(t,e,n,r)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(T_).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},t.prototype._doPaintList=function(t,e,n){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&o.push(u)}for(var h=!0,c=!1,p=function(i){var s,l=o[i],u=l.ctx,p=a&&l.createRepaintRects(t,e,d._width,d._height),f=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,y=g&&Date.now(),v=l.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,p);else if(f===l.__startIndex){var m=t[f];m.incremental&&m.notClear&&!n||l.clear(!1,v,p)}-1===f&&(console.error(\"For some unknown reason. drawIndex is -1\"),f=l.__startIndex);var _=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=f;s<l.__endIndex;s++){var i=t[s];if(i.__inHover&&(c=!0),r._doPaintEl(i,l,a,e,n,s===l.__endIndex-1),g)if(Date.now()-y>15)break}n.prevElClipPaths&&u.restore()};if(p)if(0===p.length)s=l.__endIndex;else for(var x=d.dpr,w=0;w<p.length;++w){var b=p[w];u.save(),u.beginPath(),u.rect(b.x*x,b.y*x,b.width*x,b.height*x),u.clip(),_(b),u.restore()}else u.save(),_(),u.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(h=!1)},d=this,f=0;f<o.length;f++)p(f);return i.wxa&&B(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:h,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,n,r,i,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!r||s&&s.intersect(r))&&(Tg(a,t,i,o),t.setPrevPaintRect(s))}else Tg(a,t,i,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=T_);var n=this._layers[t];return n||((n=new I_(\"zr_\"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?k(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&k(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=this._domRoot,a=null,s=-1;if(n[t])C(\"ZLevel \"+t+\" has been used already\");else if(function(t){return!!t&&(!!t.__builtin__||\"function\"==typeof t.resize&&\"function\"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(s=0;s<i-1&&!(r[s]<t&&r[s+1]>t);s++);a=n[r[s]]}if(r.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}else C(\"Layer of zlevel \"+t+\" is not valid\")},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];t.call(e,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__&&t.call(e,o,i)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__||t.call(e,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var r,i,o=null,a=0;for(i=0;i<t.length;i++){var s,l=(s=t[i]).zlevel,u=void 0;r!==l&&(r=l,a=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+(a>0?.01:0),this._needsManuallyCompositing),u.__builtin__||C(\"ZLevel \"+l+\" has been used by unkown layer \"+u.id),u!==o&&(u.__used=!0,u.__startIndex!==i&&(u.__dirty=!0),u.__startIndex=i,u.incremental?u.__drawIndex=-1:u.__drawIndex=i,e(i),o=u),s.__dirty&Je&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,B(this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?k(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+.01)k(this._layers[i],n[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(R(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display=\"none\";var r=this._opts,i=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=og(i,0,r),e=og(i,1,r),n.style.display=\"\",this._width!==t||e!==this._height){for(var o in n.style.width=t+\"px\",n.style.height=e+\"px\",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(T_).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML=\"\",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[T_].dom;var e=new I_(\"image\",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,i=e.dom.height;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,r,i):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var u=a[s];Tg(n,u,o,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();var D_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"dataset\",e}return n(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),this._sourceManager=new Rd(this),Od(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Od(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type=\"dataset\",e.defaultOption={seriesLayoutBy:Bc},e}(Tc),k_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\"dataset\",e}return n(e,t),e.type=\"dataset\",e}(Kd);function L_(t){t.registerComponentModel(D_),t.registerComponentView(k_)}function A_(t,e,n){if(t&&R(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(Y(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}}function P_(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function R_(t,e){return R(P_(t),e)>=0}function O_(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}ym([function(t){t.registerPainter(\"canvas\",C_)},L_]),ym(S_);var N_=[\"treemapZoomToNode\",\"treemapRender\",\"treemapMove\"];var E_=xo();function B_(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:\"data\"}),t.datas=t.mainData=null,G_(e,n,t),B(n,function(n){B(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,G(z_,t))})}),e.wrapMethod(\"cloneShallow\",G(F_,t)),B(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,G(V_,t))}),lt(n[e.dataType]===e)}function z_(t,e){if(E_(r=this).mainData===r){var n=L({},E_(this).datas);n[this.dataType]=e,G_(e,n,t)}else U_(e,this.dataType,E_(this).mainData,t);var r;return e}function V_(t,e){return t.struct&&t.struct.update(),e}function F_(t,e){return B(E_(e).datas,function(n,r){n!==e&&U_(n.cloneShallow(),r,e,t)}),e}function H_(t){var e=E_(this).mainData;return null==t||null==e?e:E_(e).datas[t]}function W_(){var t=E_(this).mainData;return null==t?[{data:t}]:z(H(E_(t).datas),function(e){return{type:e,data:E_(t).datas[e]}})}function G_(t,e,n){E_(t).datas={},B(e,function(e,r){U_(e,r,t,n)})}function U_(t,e,n,r){E_(n).datas[e]=t,E_(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=H_,t.getLinkedDataAll=W_}var X_=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||\"\",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){X(t)&&(n=e,e=t,t=null),Y(t=t||{})&&(t={order:t});var r,i=t.order||\"preorder\",o=this[t.attr||\"children\"];\"preorder\"===i&&(r=e.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(t,e,n);\"postorder\"===i&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].getNodeById(t);if(i)return i}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].contains(t);if(i)return i}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||\"value\"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),Y_=function(){function t(t){this.type=\"tree\",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var i=new t(n),o=[],a=1;!function t(e,n){var r=e.value;a=Math.max(a,U(r)?r.length:1);o.push(e);var s=new X_(fo(e.name,\"\"),i);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):i.root=s;i._nodes.push(s);var l=e.children;if(l)for(var u=0;u<l.length;u++)t(l[u],s)}(e),i.root.updateDepthAndHeight(0);var s=yv(o,{coordDimensions:[\"value\"],dimensionsCount:a}).dimensions,l=new gv(s,n);return l.initData(o),r&&r(l),B_({mainData:l,struct:i,structAttr:\"tree\"}),i.update(),i},t}();function q_(t){var e=t.getData().tree,n={};e.eachNode(function(e){for(var r=e;r&&r.depth>1;)r=r.parentNode;var i,o,a,s,l,u=(i=t.ecModel,o=r.name||r.dataIndex+\"\",a=n,l=oo(i.get([\"aria\",\"decal\",\"decals\"])),$c(i,Zc,l,null,o,a,s));e.setVisual(\"decal\",u)})}var j_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;B(e.children,function(e){t(e);var r=e.value;U(r)&&(r=r[0]),n+=r});var r=e.value;U(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);U(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[],i=this.designatedVisualItemStyle={},o=new Dh({itemStyle:i},this,e),a=z((r=t.levels=function(t,e){var n,r,i=oo(e.get(\"color\")),o=oo(e.get([\"aria\",\"decal\",\"decals\"]));if(!i)return;B(t=t||[],function(t){var e=new Dh(t),i=e.get(\"color\"),o=e.get(\"decal\");(e.get([\"itemStyle\",\"color\"])||i&&\"none\"!==i)&&(n=!0),(e.get([\"itemStyle\",\"decal\"])||o&&\"none\"!==o)&&(r=!0)});var a=t[0]||(t[0]={});n||(a.color=i.slice());!r&&o&&(a.decal=o.slice());return t}(r,e))||[],function(t){return new Dh(t,o,e)},this),s=Y_.createTree(n,this,function(t){t.wrapMethod(\"getItemModel\",function(t,e){var n=s.getNodeByDataIndex(e),r=n?a[n.depth]:null;return t.parentModel=r||o,t})});return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.getRawValue(t);return Bd(\"nameValue\",{name:r.getName(t),value:i})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=O_(r,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},L(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=yt(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){q_(this)},e.type=\"series.treemap\",e.layoutMode=\"box\",e.defaultOption={progressive:0,left:\"center\",top:\"middle\",width:\"80%\",height:\"80%\",sort:!0,clipWindow:\"origin\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\"▶\",zoomToNodeRatio:.1024,roam:!0,nodeClick:\"zoomToNode\",animation:!0,animationDurationUpdate:900,animationEasing:\"quinticInOut\",breadcrumb:{show:!0,height:22,left:\"center\",top:\"bottom\",emptyItemWidth:25,itemStyle:{color:\"rgba(0,0,0,0.7)\",textStyle:{color:\"#fff\"}},emphasis:{itemStyle:{color:\"rgba(0,0,0,0.9)\"}}},label:{show:!0,distance:0,padding:5,position:\"inside\",color:\"#fff\",overflow:\"truncate\"},upperLabel:{show:!1,position:[0,\"50%\"],height:20,overflow:\"truncate\",verticalAlign:\"middle\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\"#fff\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\"50%\"],overflow:\"truncate\",verticalAlign:\"middle\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\"index\",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Wd);var Z_=5,K_=function(){function t(t){this.group=new wi,t.add(this.group)}return t.prototype.render=function(t,e,n,r){var i=t.getModel(\"breadcrumb\"),o=this.group;if(o.removeAll(),i.get(\"show\")&&n){var a=i.getModel(\"itemStyle\"),s=i.getModel(\"emphasis\"),l=a.getModel(\"textStyle\"),u=s.getModel([\"itemStyle\",\"textStyle\"]),h={pos:{left:i.get(\"left\"),right:i.get(\"right\"),top:i.get(\"top\"),bottom:i.get(\"bottom\")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get(\"emptyItemWidth\"),totalWidth:0,renderList:[]};this._prepare(n,h,l),this._renderContent(t,h,a,s,l,u,r),function(t,e,n,r,i,o){var a,s=!i||!i.hv||i.hv[0],l=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||\"all\";if((o=o||t).x=t.x,o.y=t.y,!s&&!l)return!1;if(\"raw\"===u)a=\"group\"===t.type?new Oe(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(a=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(a=a.clone()).applyTransform(h)}var c=wc(A({width:a.width,height:a.height},e),n,r),p=s?c.x-a.x:0,d=l?c.y-a.y:0;\"raw\"===u?(o.x=p,o.y=d):(o.x+=p,o.y+=d),o===t&&t.markRedraw()}(o,h.pos,h.box)}},t.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=fo(r.getModel().get(\"name\"),\"\"),o=n.getTextRect(i),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:r,text:i,width:a})}},t.prototype._renderContent=function(t,e,n,r,i,o,a){for(var s,l,u,h,c,p,d,f,g,y=0,v=e.emptyItemWidth,m=t.get([\"breadcrumb\",\"height\"]),_=(s=e.pos,l=e.box,h=l.width,c=l.height,p=Ai(s.left,h),d=Ai(s.top,c),f=Ai(s.right,h),g=Ai(s.bottom,c),(isNaN(p)||isNaN(parseFloat(s.left)))&&(p=0),(isNaN(f)||isNaN(parseFloat(s.right)))&&(f=h),(isNaN(d)||isNaN(parseFloat(s.top)))&&(d=0),(isNaN(g)||isNaN(parseFloat(s.bottom)))&&(g=c),u=dc(u||0),{width:Math.max(f-p-u[1]-u[3],0),height:Math.max(g-d-u[0]-u[2],0)}),x=e.totalWidth,w=e.renderList,b=r.getModel(\"itemStyle\").getItemStyle(),S=w.length-1;S>=0;S--){var M=w[S],I=M.node,T=M.width,C=M.text;x>_.width&&(x-=T-v,T=v,C=null);var D=new yu({shape:{points:$_(y,0,T,m,S===w.length-1,0===S)},style:A(n.getItemStyle(),{lineJoin:\"bevel\"}),textContent:new bs({style:lh(i,{text:C})}),textConfig:{position:\"inside\"},z2:1e4*Gs,onclick:G(a,I)});D.disableLabelAnimation=!0,D.getTextContent().ensureState(\"emphasis\").style=lh(o,{text:C}),D.ensureState(\"emphasis\").style=b,Ml(D,r.get(\"focus\"),r.get(\"blurScope\"),r.get(\"disabled\")),this.group.add(D),Q_(D,t,I),y+=T+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function $_(t,e,n,r,i,o){var a=[[i?t:t-Z_,e],[t+n,e],[t+n,e+r],[i?t:t-Z_,e+r]];return!o&&a.splice(2,0,[t+n+Z_,e+r/2]),!i&&a.push([t,e+r/2]),a}function Q_(t,e,n){Rs(t).eventData={componentType:\"series\",componentSubType:\"treemap\",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:\"treemap\",selfType:\"breadcrumb\",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&O_(n,e)}}var J_=\"\\0_ec_interaction_mutex\";function tx(t,e){return!!function(t){return t[J_]||(t[J_]={})}(t)[e]}Ny({type:\"takeGlobalCursor\",event:\"globalCursorTaken\",update:\"update\"},wt);var ex=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var r=W(n._mousedownHandler,n),i=W(n._mousemoveHandler,n),o=W(n._mouseupHandler,n),a=W(n._mousewheelHandler,n),s=W(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=A(D(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&\"move\"!==t&&\"pan\"!==t||(e.on(\"mousedown\",r),e.on(\"mousemove\",i),e.on(\"mouseup\",o)),!0!==t&&\"scale\"!==t&&\"zoom\"!==t||(e.on(\"mousewheel\",a),e.on(\"pinch\",s))},n.disable=function(){e.off(\"mousedown\",r),e.off(\"mousemove\",i),e.off(\"mouseup\",o),e.off(\"mousewheel\",a),e.off(\"pinch\",s)},n}return n(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!pe(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,r)&&(this._x=n,this._y=r,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&ix(\"moveOnMouseMove\",t,this._opt)&&\"pinch\"!==t.gestureEvent&&!tx(this._zr,\"globalPan\")){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,o=e-r,a=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ce(t.event),rx(this,\"pan\",\"moveOnMouseMove\",t,{dx:o,dy:a,oldX:r,oldY:i,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){pe(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=ix(\"zoomOnMouseWheel\",t,this._opt),n=ix(\"moveOnMouseWheel\",t,this._opt),r=t.wheelDelta,i=Math.abs(r),o=t.offsetX,a=t.offsetY;if(0!==r&&(e||n)){if(e){var s=i>3?1.4:i>1?1.2:1.1;nx(this,\"zoom\",\"zoomOnMouseWheel\",t,{scale:r>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(r);nx(this,\"scrollMove\",\"moveOnMouseWheel\",t,{scrollDelta:(r>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){tx(this._zr,\"globalPan\")||nx(this,\"zoom\",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(jt);function nx(t,e,n,r,i){t.pointerChecker&&t.pointerChecker(r,i.originX,i.originY)&&(ce(r.event),rx(t,e,n,r,i))}function rx(t,e,n,r,i){i.isAvailableBehavior=W(ix,null,n,r),t.trigger(e,i)}function ix(t,e,n){var r=n[t];return!t||r&&(!Y(r)||e.event[r+\"Key\"])}var ox=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,r,i){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:i}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var ax=wi,sx=_s,lx=\"label\",ux=\"upperLabel\",hx=10*Gs,cx=2*Gs,px=3*Gs,dx=Bo([[\"fill\",\"color\"],[\"stroke\",\"strokeColor\"],[\"lineWidth\",\"strokeWidth\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),fx=function(t){var e=dx(t);return e.stroke=e.fill=e.lineWidth=null,e},gx=xo(),yx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state=\"ready\",n._storage={nodeGroup:[],background:[],content:[]},n}return n(e,t),e.prototype.render=function(t,e,n,r){if(!(R(e.findComponents({mainType:\"series\",subType:\"treemap\",query:r}),t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var i=A_(r,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),o=r&&r.type,a=t.layoutInfo,s=!this._oldTree,l=this._storage,u=\"treemapRootToNode\"===o&&i&&l?{rootNodeGroup:l.nodeGroup[i.node.getRawIndex()],direction:r.direction}:null,h=this._giveContainerGroup(a),c=t.get(\"animation\"),p=this._doRender(h,t,u);!c||s||o&&\"treemapZoomToNode\"!==o&&\"treemapRootToNode\"!==o?p.renderFinally():this._doAnimation(h,p,t,u),this._resetController(n),this._renderBreadcrumb(t,n,i)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new ax,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var r=e.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,r,i,u){return function(t,e,n,r,i,o,a,s,l,u){if(!a)return;var h=a.getLayout(),c=t.getData(),p=a.getModel();if(c.setItemGraphicEl(a.dataIndex,null),!h||!h.isInView)return;var d=h.width,f=h.height,g=h.borderWidth,y=h.invisible,v=a.getRawIndex(),m=s&&s.getRawIndex(),_=a.viewChildren,x=h.upperHeight,w=_&&_.length,b=p.getModel(\"itemStyle\"),S=p.getModel([\"emphasis\",\"itemStyle\"]),M=p.getModel([\"blur\",\"itemStyle\"]),I=p.getModel([\"select\",\"itemStyle\"]),T=b.get(\"borderRadius\")||0,C=V(\"nodeGroup\",ax);if(!C)return;if(l.add(C),C.x=h.x||0,C.y=h.y||0,C.markRedraw(),gx(C).nodeWidth=d,gx(C).nodeHeight=f,h.isAboveViewRoot)return C;var D=V(\"background\",sx,u,cx);D&&function(e,n,r){var i=Rs(n);if(i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:d,height:f,r:T}),y)E(n);else{n.invisible=!1;var o=a.getVisual(\"style\"),s=o.stroke,l=fx(b);l.fill=s;var u=dx(S);u.fill=S.get(\"borderColor\");var h=dx(M);h.fill=M.get(\"borderColor\");var c=dx(I);if(c.fill=I.get(\"borderColor\"),r){var p=d-2*g;B(n,s,o.opacity,{x:g,y:0,width:p,height:x})}else n.removeTextContent();n.setStyle(l),n.ensureState(\"emphasis\").style=u,n.ensureState(\"blur\").style=h,n.ensureState(\"select\").style=c,ul(n)}e.add(n)}(C,D,w&&h.upperLabelHeight);var k=p.getModel(\"emphasis\"),A=k.get(\"focus\"),P=k.get(\"blurScope\"),R=k.get(\"disabled\"),O=\"ancestor\"===A?a.getAncestorsIndices():\"descendant\"===A?a.getDescendantIndices():A;if(w)Cl(C)&&Tl(C,!1),D&&(Tl(D,!R),c.setItemGraphicEl(a.dataIndex,D),Il(D,O,P));else{var N=V(\"content\",sx,u,px);N&&function(e,n){var r=Rs(n);r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex;var i=Math.max(d-2*g,0),o=Math.max(f-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:i,height:o,r:T}),y)E(n);else{n.invisible=!1;var s=a.getVisual(\"style\"),l=s.fill,u=fx(b);u.fill=l,u.decal=s.decal;var h=dx(S),c=dx(M),p=dx(I);B(n,l,s.opacity,null),n.setStyle(u),n.ensureState(\"emphasis\").style=h,n.ensureState(\"blur\").style=c,n.ensureState(\"select\").style=p,ul(n)}e.add(n)}(C,N),D.disableMorphing=!0,D&&Cl(D)&&Tl(D,!1),Tl(C,!R),c.setItemGraphicEl(a.dataIndex,C),Il(C,O,P)}return C;function E(t){!t.invisible&&o.push(t)}function B(e,n,r,i){var o=p.getModel(i?ux:lx),s=fo(p.get(\"name\"),null),l=o.getShallow(\"show\");ah(e,sh(p,i?ux:lx),{defaultText:l?s:null,inheritColor:n,defaultOpacity:r,labelFetcher:t,labelDataIndex:a.dataIndex});var u=e.getTextContent();if(u){var c=u.style,d=st(c.padding||0);i&&(e.setTextConfig({layoutRect:i}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var t=Math.max((i?i.width:e.shape.width)-d[1]-d[3],0),n=Math.max((i?i.height:e.shape.height)-d[0]-d[2],0);if(c.width!==t||c.height!==n){const{textConfig:t}=e,n=pi({},t,new Oe(0,0,0,0));u.setStyle(n)}},c.truncateMinChar=2,c.lineOverflow=\"truncate\",z(c,i,h);var f=u.getState(\"emphasis\");z(f?f.style:null,i,h)}}function z(e,n,r){var i=e?e.text:null;if(!n&&r.isLeafRoot&&null!=i){var o=t.get(\"drillDownIcon\",!0);e.text=o?o+\" \"+i:i}}function V(t,o,s,l){var u=null!=m&&n[t][m],h=i[t];return u?(n[t][m]=null,function(t,e){var n=t[v]={};e instanceof ax?(n.oldX=e.x,n.oldY=e.y):n.oldShape=L({},e.shape)}(h,u)):y||((u=new o)instanceof la&&(u.z2=function(t,e){return t*hx+e}(s,l)),function(t,e){var n=t[v]={},o=a.parentNode,s=e instanceof wi;if(o&&(!r||\"drillDown\"===r.direction)){var l=0,u=0,h=i.background[o.getRawIndex()];!r&&h&&h.oldShape&&(l=h.oldShape.width,u=h.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}(h,u)),e[t][v]=u}}(e,a,s,n,o,l,t,r,i,u)}!function t(e,n,r,i,o){i?(n=e,B(e,function(t,e){!t.isRemoved()&&s(e,e)})):new Yy(n,e,a,a).add(s).update(s).remove(G(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,h=null!=s?n[s]:null,c=u(l,h,r,o);c&&t(l&&l.viewChildren||[],h&&h.viewChildren||[],c,i,o+1)}}(r.root?[r.root]:[],i&&i.root?[i.root]:[],t,r===i||!i,0);var h=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&B(t,function(t,n){var r=e[n];B(t,function(t){t&&(r.push(t),gx(t).willDelete=!0)})}),e}(s);return this._oldTree=r,this._storage=a,{lastsForAnimation:o,willDeleteEls:h,renderFinally:function(){B(h,function(t){B(t,function(t){t.parent&&t.parent.remove(t)})}),B(l,function(t){t.invisible=!0,t.dirty()})}}},e.prototype._doAnimation=function(t,e,n,r){var i=n.get(\"animationDurationUpdate\"),o=n.get(\"animationEasing\"),a=(X(i)?0:i)||0,s=(X(o)?null:o)||\"cubicOut\",l=new ox;B(e.willDeleteEls,function(t,e){B(t,function(t,n){if(!t.invisible){var i,o=t.parent,u=gx(o);if(r&&\"drillDown\"===r.direction)i=o===r.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,c=0;u.willDelete||(h=u.nodeWidth/2,c=u.nodeHeight/2),i=\"nodeGroup\"===e?{x:h,y:c,style:{opacity:0}}:{shape:{x:h,y:c,width:0,height:0},style:{opacity:0}}}i&&l.add(t,i,a,0,s)}})}),B(this._storage,function(t,n){B(t,function(t,r){var i=e.lastsForAnimation[n][r],o={};i&&(t instanceof wi?null!=i.oldX&&(o.x=t.x,o.y=t.y,t.x=i.oldX,t.y=i.oldY):(i.oldShape&&(o.shape=L({},t.shape),t.setShape(i.oldShape)),i.fadein?(t.setStyle(\"opacity\",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,s))})},this),this._state=\"animating\",l.finished(W(function(){this._state=\"ready\",e.renderFinally()},this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new ex(t.getZr())).enable(this.seriesModel.get(\"roam\")),e.on(\"pan\",W(this._onPan,this)),e.on(\"zoom\",W(this._onZoom,this)));var n=new Oe(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,r){return n.contain(e,r)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(\"animating\"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:\"treemapMove\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if(\"animating\"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var o=new Oe(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];xe(s,s,[-(e-=a.x),-(n-=a.y)]),be(s,s,[t.scale,t.scale]),xe(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:\"treemapRender\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on(\"click\",function(t){if(\"ready\"===e._state){var n=e.seriesModel.get(\"nodeClick\",!0);if(n){var r=e.findTarget(t.offsetX,t.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)e._rootToNode(r);else if(\"zoomToNode\"===n)e._zoomToNode(r);else if(\"link\"===n){var o=i.hostTree.data.getItemModel(i.dataIndex),a=o.get(\"link\",!0),s=o.get(\"target\",!0)||\"blank\";a&&function(t,e){if(\"_blank\"===e||\"blank\"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}(a,s)}}}}},this)},e.prototype._renderBreadcrumb=function(t,e,n){var r=this;n||(n=null!=t.get(\"leafDepth\",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new K_(this.group))).render(t,e,n.node,function(e){\"animating\"!==r._state&&(R_(t.getViewRoot(),e)?r._rootToNode({node:e}):r._zoomToNode({node:e}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=\"ready\",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:\"treemapZoomToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:\"treemapRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:\"viewChildren\",order:\"preorder\"},function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(t,e),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}},this),n},e.type=\"treemap\",e}(Jd);var vx=B,mx=Z,_x=-1,xx=function(){function t(e){var n=e.mappingMethod,r=e.type,i=this.option=D(e);this.type=r,this.mappingMethod=n,this._normalizeData=Ax[n];var o=t.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],\"piecewise\"===n?(bx(i),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,B(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(i)):\"category\"===n?i.categories?function(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(vx(e,function(t,e){n[t]=e}),!U(r)){var i=[];Z(r)?vx(r,function(t,e){var r=n[e];i[null!=r?r:_x]=t}):i[_x]=r,r=Lx(t,i)}for(var o=e.length-1;o>=0;o--)null==r[o]&&(delete n[e[o]],e.pop())}(i):bx(i,!0):(lt(\"linear\"!==n||i.dataExtent),bx(i))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return W(this._normalizeData,this)},t.listVisualTypes=function(){return H(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){Z(t)?B(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var i,o=U(e)?[]:Z(e)?{}:(i=!0,null);return t.eachVisual(e,function(t,e){var a=n.call(r,t,e);i?o=a:o[e]=a}),o},t.retrieveVisuals=function(e){var n,r={};return e&&vx(t.visualHandlers,function(t,i){e.hasOwnProperty(i)&&(r[i]=e[i],n=!0)}),n?r:null},t.prepareVisualTypes=function(t){if(U(t))t=t.slice();else{if(!mx(t))return[];var e=[];vx(t,function(t,n){e.push(n)}),t=e}return t.sort(function(t,e){return\"color\"===e&&\"color\"!==t&&0===t.indexOf(\"color\")?1:-1}),t},t.dependsOn=function(t,e){return\"color\"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var r,i=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||Y(s)&&s===t+\"\")return o;n&&c(s,o)}}for(o=0,a=e.length;o<a;o++){var l=e[o],u=l.interval,h=l.close;if(u){if(u[0]===-1/0){if(Px(h[1],t,u[1]))return o}else if(u[1]===1/0){if(Px(h[0],u[0],t))return o}else if(Px(h[0],u[0],t)&&Px(h[1],t,u[1]))return o;n&&c(u[0],o),n&&c(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function c(e,n){var o=Math.abs(e-t);o<i&&(i=o,r=n)}},t.visualHandlers={color:{applyVisual:Ix(\"color\"),getColorMapper:function(){var t=this.option;return W(\"category\"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),Tx.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=Jn(e,t.parsedVisual,r),i?r:or(r,\"rgba\")},this)},_normalizedToVisual:{linear:function(t){return or(Jn(t,this.option.parsedVisual),\"rgba\")},category:Tx,piecewise:function(t,e){var n=kx.call(this,e);return null==n&&(n=or(Jn(t,this.option.parsedVisual),\"rgba\")),n},fixed:Cx}},colorHue:Sx(function(t,e){return rr(t,e)}),colorSaturation:Sx(function(t,e){return rr(t,null,e)}),colorLightness:Sx(function(t,e){return rr(t,null,null,e)}),colorAlpha:Sx(function(t,e){return ir(t,e)}),decal:{applyVisual:Ix(\"decal\"),_normalizedToVisual:{linear:null,category:Tx,piecewise:null,fixed:null}},opacity:{applyVisual:Ix(\"opacity\"),_normalizedToVisual:Dx([0,1])},liftZ:{applyVisual:Ix(\"liftZ\"),_normalizedToVisual:{linear:Cx,category:Cx,piecewise:Cx,fixed:Cx}},symbol:{applyVisual:function(t,e,n){n(\"symbol\",this.mapValueToVisual(t))},_normalizedToVisual:{linear:Mx,category:Tx,piecewise:function(t,e){var n=kx.call(this,e);return null==n&&(n=Mx.call(this,t)),n},fixed:Cx}},symbolSize:{applyVisual:Ix(\"symbolSize\"),_normalizedToVisual:Dx([0,1])}},t}();function bx(t,e){var n=t.visual,r=[];Z(n)?vx(n,function(t){r.push(t)}):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),Lx(t,r)}function Sx(t){return{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r(\"color\",t(n(\"color\"),i))},_normalizedToVisual:Dx([0,1])}}function Mx(t){var e=this.option.visual;return e[Math.round(Li(t,[0,1],[0,e.length-1],!0))]||{}}function Ix(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function Tx(t){var e=this.option.visual;return e[this.option.loop&&t!==_x?t%e.length:t]}function Cx(){return this.option.visual[0]}function Dx(t){return{linear:function(e){return Li(e,t,this.option.visual,!0)},category:Tx,piecewise:function(e,n){var r=kx.call(this,n);return null==r&&(r=Li(e,t,this.option.visual,!0)),r},fixed:Cx}}function kx(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=n[xx.findPieceIndex(t,n)];if(r&&r.visual)return r.visual[this.type]}}function Lx(t,e){return t.visual=e,\"color\"===t.type&&(t.parsedVisual=z(e,function(t){var e=Kn(t);return e||Ki(\"'\"+t+\"' is an illegal color, fallback to '#000000'\",!0),e||[0,0,0,1]})),e}var Ax={linear:function(t){return Li(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=xx.findPieceIndex(t,e,!0);if(null!=n)return Li(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?_x:e},fixed:wt};function Px(t,e,n){return t?e<=n:e<n}var Rx=\"itemStyle\",Ox=xo(),Nx={seriesType:\"treemap\",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||function t(e,n,r,i){var o=e.getModel();var a=e.getLayout();var s=e.hostTree.data;if(!a||a.invisible||!a.isInView)return;var l=o.getModel(Rx);var u=function(t,e,n){var r=L({},e),i=n.designatedVisualItemStyle;return B([\"color\",\"colorAlpha\",\"colorSaturation\"],function(n){i[n]=e[n];var o=t.get(n);i[n]=null,null!=o&&(r[n]=o)}),r}(l,n,i);var h=s.ensureUniqueItemVisual(e.dataIndex,\"style\");var c=l.get(\"borderColor\");var p=l.get(\"borderColorSaturation\");var d;null!=p&&(d=Ex(u),c=function(t,e){return null!=e?rr(e,null,null,t):null}(p,d));h.stroke=c;var f=e.viewChildren;if(f&&f.length){var g=function(t,e,n,r,i,o){if(!o||!o.length)return;var a=zx(e,\"color\")||null!=i.color&&\"none\"!==i.color&&(zx(e,\"colorAlpha\")||zx(e,\"colorSaturation\"));if(!a)return;var s=e.get(\"visualMin\"),l=e.get(\"visualMax\"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get(\"colorMappingBy\"),c={type:a.name,dataExtent:u,visual:a.range};\"color\"!==c.type||\"index\"!==h&&\"id\"!==h?c.mappingMethod=\"linear\":(c.mappingMethod=\"category\",c.loop=!0);var p=new xx(c);return Ox(p).drColorMappingBy=h,p}(0,o,a,0,u,f);B(f,function(e,n){if(e.depth>=r.length||e===r[e.depth]){var a=function(t,e,n,r,i,o){var a=L({},e);if(i){var s=i.type,l=\"color\"===s&&Ox(i).drColorMappingBy,u=\"index\"===l?r:\"id\"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get(\"visualDimension\"));a[s]=i.mapValueToVisual(u)}return a}(o,u,e,n,g,i);t(e,a,r,i)}})}else d=Ex(u),h.fill=d}(e,{},t.getViewRoot().getAncestors(),t)}};function Ex(t){var e=Bx(t,\"color\");if(e){var n=Bx(t,\"colorAlpha\"),r=Bx(t,\"colorSaturation\");return r&&(e=rr(e,null,null,r)),n&&(e=ir(e,n)),e}}function Bx(t,e){var n=t[e];if(null!=n&&\"none\"!==n)return n}function zx(t,e){var n=t.get(e);return U(n)&&n.length?{name:e,range:n}:null}var Vx=Math.max,Fx=Math.min,Hx=rt,Wx=B,Gx=[\"itemStyle\",\"borderWidth\"],Ux=[\"itemStyle\",\"gapWidth\"],Xx=[\"upperLabel\",\"show\"],Yx=[\"upperLabel\",\"height\"],qx={seriesType:\"treemap\",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),a=t.option,s=wc(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=Ai(Hx(s.width,l[0]),i),h=Ai(Hx(s.height,l[1]),o),c=r&&r.type,p=A_(r,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),d=\"treemapRender\"===c||\"treemapMove\"===c?r.rootRect:null,f=t.getViewRoot(),g=P_(f);if(\"treemapMove\"!==c){var y=\"treemapZoomToNode\"===c?function(t,e,n,r,i){var o,a=(e||{}).node,s=[r,i];if(!a||a===n)return s;var l=r*i,u=l*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var h=0,c=o.children,p=0,d=c.length;p<d;p++)h+=c[p].getValue();var f=a.getValue();if(0===f)return s;u*=h/f;var g=o.getModel(),y=g.get(Gx),v=Math.max(y,Kx(g));(u+=4*y*y+(3*y+v)*Math.pow(u,.5))>Bi&&(u=Bi),a=o}u<l&&(u=l);var m=Math.pow(u/l,.5);return[r*m,i*m]}(t,p,f,u,h):d?[d.width,d.height]:[u,h],v=a.sort;v&&\"asc\"!==v&&\"desc\"!==v&&(v=\"desc\");var m={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};f.hostTree.clearLayouts();var _={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};f.setLayout(_),function t(e,n,r,i){var o;var a;if(e.isRemoved())return;var s=e.getLayout();o=s.width;a=s.height;var l=e.getModel();var u=l.get(Gx);var h=l.get(Ux)/2;var c=Kx(l);var p=Math.max(u,c);var d=u-h;var f=p-h;e.setLayout({borderWidth:u,upperHeight:p,upperLabelHeight:c},!0);o=Vx(o-2*d,0);a=Vx(a-d-f,0);var g=o*a;var y=function(t,e,n,r,i,o){var a=t.children||[],s=r.sort;\"asc\"!==s&&\"desc\"!==s&&(s=null);var l=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!l)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,n){var r=\"asc\"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?\"asc\"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})}(a=F(a,function(t){return!t.isRemoved()}),s);var u=function(t,e,n){for(var r=0,i=0,o=e.length;i<o;i++)r+=e[i].getValue();var a,s=t.get(\"visualDimension\");e&&e.length?\"value\"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],\"asc\"===n&&a.reverse()):(a=[1/0,-1/0],Wx(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})):a=[NaN,NaN];return{sum:r,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,n,r,i){if(!r)return n;for(var o=t.get(\"visibleMin\"),a=i.length,s=a,l=a-1;l>=0;l--){var u=i[\"asc\"===r?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return\"asc\"===r?i.splice(0,a-s):i.splice(s,a-s),n}(e,n,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var h=0,c=a.length;h<c;h++){var p=a[h].getValue()/u.sum*n;a[h].setLayout({area:p})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(e,l,g,n,r,i);if(!y.length)return;var v={x:d,y:f,width:o,height:a};var m=Fx(o,a);var _=1/0;var x=[];x.area=0;for(var w=0,b=y.length;w<b;){var S=y[w];x.push(S),x.area+=S.getLayout().area;var M=jx(x,m,n.squareRatio);M<=_?(w++,_=M):(x.area-=x.pop().getLayout().area,Zx(x,m,v,h,!1),m=Fx(v.width,v.height),x.length=x.area=0,_=1/0)}x.length&&Zx(x,m,v,h,!0);if(!r){var I=l.get(\"childrenVisibleMin\");null!=I&&g<I&&(r=!0)}for(var w=0,b=y.length;w<b;w++)t(y[w],n,r,i+1)}(f,m,!1,0),_=f.getLayout(),Wx(g,function(t,e){var n=(g[e+1]||f).getValue();t.setLayout(L({dataExtent:[n,n],borderWidth:0,upperHeight:0},_))})}var x=t.getData().tree.root;x.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;var a=[o.width/2,o.height/2],s=i;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,d,p),!0),t.setLayoutInfo(s),function t(e,n,r,i,o){var a=e.getLayout();var s=r[o];var l=s&&s===e;if(s&&!l||o===r.length&&e!==i)return;e.setLayout({isInView:!0,invisible:!l&&!n.intersect(a),isAboveViewRoot:l},!0);var u=new Oe(n.x-a.x,n.y-a.y,n.width,n.height);Wx(e.viewChildren||[],function(e){t(e,u,r,i,o+1)})}(x,new Oe(-s.x,-s.y,i,o),g,f,0)}};function jx(t,e,n){for(var r=0,i=1/0,o=0,a=void 0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<i&&(i=a),a>r&&(r=a));var l=t.area*t.area,u=e*e*n;return l?Vx(u*r/l,l/(u*i)):1/0}function Zx(t,e,n,r,i){var o=e===n.width?0:1,a=1-o,s=[\"x\",\"y\"],l=[\"width\",\"height\"],u=n[s[o]],h=e?t.area/e:0;(i||h>n[l[a]])&&(h=n[l[a]]);for(var c=0,p=t.length;c<p;c++){var d=t[c],f={},g=h?d.getLayout().area/h:0,y=f[l[a]]=Vx(h-2*r,0),v=n[s[o]]+n[l[o]]-u,m=c===p-1||v<g?v:g,_=f[l[o]]=Vx(m-2*r,0);f[s[a]]=n[s[a]]+Fx(r,y/2),f[s[o]]=u+Fx(r,_/2),u+=m,d.setLayout(f,!0)}n[s[a]]+=h,n[l[a]]-=h}function Kx(t){return t.get(Xx)?t.get(Yx):0}function $x(t){var e=t.findComponents({mainType:\"legend\"});e&&e.length&&t.eachSeriesByType(\"graph\",function(t){var n=t.getCategoriesData(),r=t.getGraph().data,i=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t).getShallow(\"category\");if(null!=n){j(n)&&(n=i[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0})})}function Qx(t){var e={};t.eachSeriesByType(\"graph\",function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each(function(r){var o=n.getName(r);i[\"ec-\"+o]=r;var a=n.getItemModel(r),s=a.getModel(\"itemStyle\").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(r,\"style\",s);for(var l=[\"symbol\",\"symbolSize\",\"symbolKeepAspect\"],u=0;u<l.length;u++){var h=a.getShallow(l[u],!0);null!=h&&n.setItemVisual(r,l[u],h)}}),n.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow(\"category\");if(null!=e){Y(e)&&(e=i[\"ec-\"+e]);var o=n.getItemVisual(e,\"style\");L(r.ensureUniqueItemVisual(t,\"style\"),o);for(var a=[\"symbol\",\"symbolSize\",\"symbolKeepAspect\"],s=0;s<a.length;s++)r.setItemVisual(t,a[s],n.getItemVisual(e,a[s]))}})})}function Jx(t){return t instanceof Array||(t=[t,t]),t}function tw(t){t.eachSeriesByType(\"graph\",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=Jx(t.get(\"edgeSymbol\")),i=Jx(t.get(\"edgeSymbolSize\"));n.setVisual(\"fromSymbol\",r&&r[0]),n.setVisual(\"toSymbol\",r&&r[1]),n.setVisual(\"fromSymbolSize\",i&&i[0]),n.setVisual(\"toSymbolSize\",i&&i[1]),n.setVisual(\"style\",t.getModel(\"lineStyle\").getLineStyle()),n.each(function(t){var r=n.getItemModel(t),i=e.getEdgeByIndex(t),o=Jx(r.getShallow(\"symbol\",!0)),a=Jx(r.getShallow(\"symbolSize\",!0)),s=r.getModel(\"lineStyle\").getLineStyle(),l=n.ensureUniqueItemVisual(t,\"style\");switch(L(l,s),l.stroke){case\"source\":var u=i.node1.getVisual(\"style\");l.stroke=u&&u.fill;break;case\"target\":u=i.node2.getVisual(\"style\");l.stroke=u&&u.fill}o[0]&&i.setVisual(\"fromSymbol\",o[0]),o[1]&&i.setVisual(\"toSymbol\",o[1]),a[0]&&i.setVisual(\"fromSymbolSize\",a[0]),a[1]&&i.setVisual(\"toSymbolSize\",a[1])})})}ym(function(t){t.registerSeriesModel(j_),t.registerChartView(yx),t.registerVisual(Nx),t.registerLayout(qx),function(t){for(var e=0;e<N_.length;e++)t.registerAction({type:N_[e],update:\"updateView\"},wt);t.registerAction({type:\"treemapRootToNode\",update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"treemap\",query:t},function(e,n){var r=A_(t,[\"treemapZoomToNode\",\"treemapRootToNode\"],e);if(r){var i=e.getViewRoot();i&&(t.direction=R_(i,r.node)?\"rollUp\":\"drillDown\"),e.resetViewRoot(r.node)}})})}(t)});var ew=function(t){return t.get(\"autoCurveness\")||null},nw=function(t,e){var n=ew(t),r=20,i=[];if(j(n))r=n;else if(U(n))return void(t.__curvenessList=n);e>r&&(r=e);var o=r%2?r+2:r+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=i},rw=function(t,e,n){var r=[t.id,t.dataIndex].join(\".\"),i=[e.id,e.dataIndex].join(\".\");return[n.uid,r,i].join(\"--\x3e\")},iw=function(t){var e=t.split(\"--\x3e\");return[e[0],e[2],e[1]].join(\"--\x3e\")},ow=function(t,e){var n=rw(t.node1,t.node2,e);return e.__edgeMap[n]},aw=function(t,e){return sw(rw(t.node1,t.node2,e),e)+sw(rw(t.node2,t.node1,e),e)},sw=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function lw(t,e,n,r){var i=ew(e),o=U(i);if(!i)return null;var a=ow(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=aw(t,e);nw(e,u),t.lineStyle=t.lineStyle||{};var h=rw(t.node1,t.node2,e),c=e.__curvenessList,p=o?0:u%2?0:1;if(a.isForward)return c[p+s];var d=iw(h),f=sw(d,e),g=c[s+f+p];return r?o?i&&0===i[0]?(f+p)%2?g:-g:((f%2?0:1)+p)%2?g:-g:(f+p)%2?g:-g:c[s+f+p]}function uw(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get(\"x\"),+e.get(\"y\")])}),hw(n,t)}}function hw(t,e){t.eachEdge(function(t,n){var r=ot(t.getModel().get([\"lineStyle\",\"curveness\"]),-lw(t,e,n,!0),0),i=Tt(t.node1.getLayout()),o=Tt(t.node2.getLayout()),a=[i,o];+r&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*r,(i[1]+o[1])/2-(o[0]-i[0])*r]),t.setLayout(a)})}function cw(t,e){t.eachSeriesByType(\"graph\",function(t){var e=t.get(\"layout\"),n=t.coordinateSystem;if(n&&\"view\"!==n.type){var r=t.getData(),i=[];B(n.dimensions,function(t){i=i.concat(r.mapDimensionsAll(t))});for(var o=0;o<r.count();o++){for(var a=[],s=!1,l=0;l<i.length;l++){var u=r.get(i[l],o);isNaN(u)||(s=!0),a.push(u)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}hw(r.graph,t)}else e&&\"none\"!==e||uw(t)})}function pw(t){var e=t.coordinateSystem;if(\"view\"!==e.type)return 1;var n=t.option.nodeScaleRatio,r=e.scaleX;return((e.getZoom()-1)*n+1)/r}function dw(t){var e=t.getVisual(\"symbolSize\");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var fw=Math.PI,gw=[];function yw(t,e,n,r){var i=t.coordinateSystem;if(!i||\"view\"===i.type){var o=i.getBoundingRect(),a=t.getData(),s=a.graph,l=o.width/2+o.x,u=o.height/2+o.y,h=Math.min(o.width,o.height)/2,c=a.count();if(a.setLayout({cx:l,cy:u}),c){if(n){var p=i.pointToData(r),d=p[0],f=p[1],g=[d-l,f-u];Et(g,g),Nt(g,g,h),n.setLayout([l+g[0],u+g[1]],!0),mw(n,t.get([\"circular\",\"rotateLabel\"]),l,u)}vw[e](t,s,a,h,l,u,c),s.eachEdge(function(e,n){var r,i=ot(e.getModel().get([\"lineStyle\",\"curveness\"]),lw(e,t,n),0),o=Tt(e.node1.getLayout()),a=Tt(e.node2.getLayout()),s=(o[0]+a[0])/2,h=(o[1]+a[1])/2;+i&&(r=[l*(i*=3)+s*(1-i),u*i+h*(1-i)]),e.setLayout([o,a,r])})}}}var vw={value:function(t,e,n,r,i,o,a){var s=0,l=n.getSum(\"value\"),u=2*Math.PI/(l||a);e.eachNode(function(t){var e=t.getValue(\"value\"),n=u*(l?e:1)/2;s+=n,t.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+o]),s+=n})},symbolSize:function(t,e,n,r,i,o,a){var s=0;gw.length=a;var l=pw(t);e.eachNode(function(t){var e=dw(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/r);isNaN(n)&&(n=fw/2),gw[t.dataIndex]=n,s+=2*n});var u=(2*fw-s)/a/2,h=0;e.eachNode(function(t){var e=u+gw[t.dataIndex];h+=e,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([r*Math.cos(h)+i,r*Math.sin(h)+o]),h+=e})}};function mw(t,e,n,r){var i=t.getGraphicEl();if(i){var o=t.getModel().get([\"label\",\"rotate\"])||0,a=i.getSymbolPath();if(e){var s=t.getLayout(),l=Math.atan2(s[1]-r,s[0]-n);l<0&&(l=2*Math.PI+l);var u=s[0]<n;u&&(l-=Math.PI);var h=u?\"left\":\"right\";a.setTextConfig({rotation:-l,position:h,origin:\"center\"});var c=a.ensureState(\"emphasis\");L(c.textConfig||(c.textConfig={}),{position:h})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function _w(t){t.eachSeriesByType(\"graph\",function(t){\"circular\"===t.get(\"layout\")&&yw(t,\"symbolSize\")})}var xw=kt;function ww(t){t.eachSeriesByType(\"graph\",function(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type)if(\"force\"===t.get(\"layout\")){var n=t.preservedPoints||{},r=t.getGraph(),i=r.data,o=r.edgeData,a=t.getModel(\"force\"),s=a.get(\"initLayout\");t.preservedPoints?i.each(function(t){var e=i.getId(t);i.setItemLayout(t,n[e]||[NaN,NaN])}):s&&\"none\"!==s?\"circular\"===s&&yw(t,\"value\"):uw(t);var l=i.getDataExtent(\"value\"),u=o.getDataExtent(\"value\"),h=a.get(\"repulsion\"),c=a.get(\"edgeLength\"),p=U(h)?h:[h,h],d=U(c)?c:[c,c];d=[d[1],d[0]];var f=i.mapArray(\"value\",function(t,e){var n=i.getItemLayout(e),r=Li(t,l,p);return isNaN(r)&&(r=(p[0]+p[1])/2),{w:r,rep:r,fixed:i.getItemModel(e).get(\"fixed\"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),g=o.mapArray(\"value\",function(e,n){var i=r.getEdgeByIndex(n),o=Li(e,u,d);isNaN(o)&&(o=(d[0]+d[1])/2);var a=i.getModel(),s=ot(i.getModel().get([\"lineStyle\",\"curveness\"]),-lw(i,t,n,!0),0);return{n1:f[i.node1.dataIndex],n2:f[i.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get(\"ignoreForceLayout\")}}),y=e.getBoundingRect(),v=function(t,e,n){for(var r=t,i=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,h=0;h<r.length;h++){var c=r[h];c.p||(c.p=Mt(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=Tt(c.p),c.edges=null}var p,d,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){r[t].fixed=!0},setUnfixed:function(t){r[t].fixed=!1},beforeStep:function(t){p=t},afterStep:function(t){d=t},step:function(t){p&&p(r,i);for(var e=[],n=r.length,o=0;o<i.length;o++){var a=i[o];if(!a.ignoreForceLayout){var s=a.n1;Lt(e,(y=a.n2).p,s.p);var h=At(e)-a.d,c=y.w/(s.w+y.w);isNaN(c)&&(c=0),Et(e,e),!s.fixed&&xw(s.p,s.p,e,c*h*g),!y.fixed&&xw(y.p,y.p,e,-(1-c)*h*g)}}for(o=0;o<n;o++)(_=r[o]).fixed||(Lt(e,l,_.p),xw(_.p,_.p,e,u*g));for(o=0;o<n;o++){s=r[o];for(var f=o+1;f<n;f++){var y;Lt(e,(y=r[f]).p,s.p),0===(h=At(e))&&(Ct(e,Math.random()-.5,Math.random()-.5),h=1);var v=(s.rep+y.rep)/h/h;!s.fixed&&xw(s.pp,s.pp,e,v),!y.fixed&&xw(y.pp,y.pp,e,-v)}}var m=[];for(o=0;o<n;o++){var _;(_=r[o]).fixed||(Lt(m,_.p,_.pp),xw(_.p,_.p,m,g),It(_.pp,_.p))}var x=(g*=.992)<.01;d&&d(r,i,x),t&&t(x)}}}(f,g,{rect:y,gravity:a.get(\"gravity\"),friction:a.get(\"friction\")});v.beforeStep(function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].fixed&&It(t[n].p,r.getNodeByIndex(n).getLayout())}),v.afterStep(function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||r.getNodeByIndex(a).setLayout(t[a].p),n[i.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],u=r.getEdgeByIndex(a),h=l.n1.p,c=l.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],It(p[0],h),It(p[1],c),+l.curveness&&(p[2]=[(h[0]+c[0])/2-(h[1]-c[1])*l.curveness,(h[1]+c[1])/2-(c[0]-h[0])*l.curveness]),u.setLayout(p)}}),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null})}var bw=Wt,Sw=function(t){function e(e){var n=t.call(this)||this;return n.type=\"view\",n.dimensions=[\"x\",\"y\"],n._roamTransformable=new ni,n._rawTransformable=new ni,n.name=e,n}return n(e,t),e.prototype.setBoundingRect=function(t,e,n,r){return this._rect=new Oe(t,e,n,r),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,r){this._transformTo(t,e,n,r),this._viewRect=new Oe(t,e,n,r)},e.prototype._transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new Oe(t,e,n,r));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},e.prototype.setCenter=function(t,e){t&&(this._center=[Ai(t[0],e.getWidth()),Ai(t[1],e.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=Wt([],r,t),n=Wt([],n,t),e.originX=r[0],e.originY=r[1],e.x=n[0]-r[0],e.y=n[1]-r[1],e.scaleX=e.scaleY=i,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),me(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Se(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new ni;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?bw(n,t,r):It(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?bw([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var r=Mw(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=Mw(e);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=[\"x\",\"y\"],e}(ni);function Mw(t){var e=t.seriesModel;return e?e.coordinateSystem:null}function Iw(t,e){var n=[];return t.eachSeriesByType(\"graph\",function(t){var r=t.get(\"coordinateSystem\");if(!r||\"view\"===r){var i=t.getData(),o=[],a=[];!function(t,e,n){if(0!==t.length){for(var r=t[0],i=r[0],o=r[0],a=r[1],s=r[1],l=1;l<t.length;l++)r=t[l],i=ca(i,r[0]),o=pa(o,r[0]),a=ca(a,r[1]),s=pa(s,r[1]);e[0]=i,e[1]=a,n[0]=o,n[1]=s}}(i.mapArray(function(t){var e=i.getItemModel(t);return[+e.get(\"x\"),+e.get(\"y\")]}),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(t,e,n){return wc(L(t.getBoxLayoutParams(),{aspect:n}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],h=a[1]-o[1],c=l.width,p=l.height,d=t.coordinateSystem=new Sw;d.zoomLimit=t.get(\"scaleLimit\"),d.setBoundingRect(o[0],o[1],u,h),d.setViewRect(l.x,l.y,c,p),d.setCenter(t.get(\"center\"),e),d.setZoom(t.get(\"zoom\")),n.push(d)}}),n}var Tw=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.updateData(e,n,r,i),o}return n(e,t),e.prototype._createSymbol=function(t,e,n,r,i){this.removeAll();var o=Jf(t,-1,-1,2,2,null,i);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=Cw,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){pl(this.childAt(0))},e.prototype.downplay=function(){dl(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?\"move\":n.cursor},e.prototype.updateData=function(t,n,r,i){this.silent=!1;var o,a=t.getItemVisual(n,\"symbol\")||\"circle\",s=t.hostModel,l=e.getSymbolSize(t,n),u=a!==this._symbolType,h=i&&i.disableAnimation;if(u){var c=t.getItemVisual(n,\"symbolKeepAspect\");this._createSymbol(a,t,n,l,c)}else{(d=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?d.attr(p):Hu(d,p,s,n),Vu(o=d).oldStyle=o.style}if(this._updateCommon(t,n,l,r,i),u){var d=this.childAt(0);if(!h){p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Wu(d,p,s,n)}}h&&this.childAt(0).stopAnimation(\"leave\")},e.prototype._updateCommon=function(t,e,n,r,i){var o,a,s,l,u,h,c,p,d,f=this.childAt(0),g=t.hostModel;if(r&&(o=r.emphasisItemStyle,a=r.blurItemStyle,s=r.selectItemStyle,l=r.focus,u=r.blurScope,c=r.labelStatesModels,p=r.hoverScale,d=r.cursorStyle,h=r.emphasisDisabled),!r||t.hasItemOption){var y=r&&r.itemModel?r.itemModel:t.getItemModel(e),v=y.getModel(\"emphasis\");o=v.getModel(\"itemStyle\").getItemStyle(),s=y.getModel([\"select\",\"itemStyle\"]).getItemStyle(),a=y.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),l=v.get(\"focus\"),u=v.get(\"blurScope\"),h=v.get(\"disabled\"),c=sh(y),p=v.getShallow(\"scale\"),d=y.getShallow(\"cursor\")}var m=t.getItemVisual(e,\"symbolRotate\");f.attr(\"rotation\",(m||0)*Math.PI/180||0);var _=eg(t.getItemVisual(e,\"symbolOffset\"),n);_&&(f.x=_[0],f.y=_[1]),d&&f.attr(\"cursor\",d);var x=t.getItemVisual(e,\"style\"),w=x.fill;if(f instanceof fs){var b=f.style;f.useStyle(L({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},x))}else f.__isEmptyBrush?f.useStyle(L({},x)):f.useStyle(x),f.style.decal=null,f.setColor(w,i&&i.symbolInnerColor),f.style.strokeNoScale=!0;var S=t.getItemVisual(e,\"liftZ\"),M=this._z2;null!=S?null==M&&(this._z2=f.z2,f.z2+=S):null!=M&&(f.z2=M,this._z2=null);var I=i&&i.useNameLabel;ah(f,c,{labelFetcher:g,labelDataIndex:e,defaultText:function(e){return I?t.getName(e):function(t,e){var n=t.mapDimensionsAll(\"defaultedLabel\"),r=n.length;if(1===r){var i=nd(t,e,n[0]);return null!=i?i+\"\":null}if(r){for(var o=[],a=0;a<n.length;a++)o.push(nd(t,e,n[a]));return o.join(\" \")}}(t,e)},inheritColor:w,defaultOpacity:x.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=f.ensureState(\"emphasis\");T.style=o,f.ensureState(\"select\").style=s,f.ensureState(\"blur\").style=a;var C=null==p||!0===p?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;T.scaleX=this._sizeX*C,T.scaleY=this._sizeY*C,this.setSymbolScale(1),Ml(this,l,u,h)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var r=this.childAt(0),i=Rs(this).dataIndex,o=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var a=r.getTextContent();a&&Uu(a,{style:{opacity:0}},e,{dataIndex:i,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Uu(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:i,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return tg(t.getItemVisual(e,\"symbolSize\"))},e}(wi);function Cw(t,e){this.parent.drift(t,e)}function Dw(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&\"none\"!==t.getItemVisual(n,\"symbol\")}function kw(t){return null==t||Z(t)||(t={isIgnore:t}),t||{}}function Lw(t){var e=t.hostModel,n=e.getModel(\"emphasis\");return{emphasisItemStyle:n.getModel(\"itemStyle\").getItemStyle(),blurItemStyle:e.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),selectItemStyle:e.getModel([\"select\",\"itemStyle\"]).getItemStyle(),focus:n.get(\"focus\"),blurScope:n.get(\"blurScope\"),emphasisDisabled:n.get(\"disabled\"),hoverScale:n.get(\"scale\"),labelStatesModels:sh(e),cursorStyle:e.get(\"cursor\")}}var Aw=function(){function t(t){this.group=new wi,this._SymbolCtor=t||Tw}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=kw(e);var n=this.group,r=t.hostModel,i=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=Lw(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};i||n.removeAll(),t.diff(i).add(function(r){var i=u(r);if(Dw(t,i,r,e)){var a=new o(t,r,s,l);a.setPosition(i),t.setItemGraphicEl(r,a),n.add(a)}}).update(function(h,c){var p=i.getItemGraphicEl(c),d=u(h);if(Dw(t,d,h,e)){var f=t.getItemVisual(h,\"symbol\")||\"circle\",g=p&&p.getSymbolType&&p.getSymbolType();if(!p||g&&g!==f)n.remove(p),(p=new o(t,h,s,l)).setPosition(d);else{p.updateData(t,h,s,l);var y={x:d[0],y:d[1]};a?p.attr(y):Hu(p,y,r)}n.add(p),t.setItemGraphicEl(h,p)}else n.remove(p)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)},r)}).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(e,n){var r=t._getSymbolPoint(n);e.setPosition(r),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Lw(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function r(t){t.isGroup||(t.incremental=!0,t.ensureState(\"emphasis\").hoverLayer=!0)}this._progressiveEls=[],n=kw(n);for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(Dw(e,o,i,n)){var a=new this._SymbolCtor(e,i,this._seriesScope);a.traverse(r),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){nh(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},n.hostModel)}):e.removeAll()},t}(),Pw=wu.prototype,Rw=Iu.prototype,Ow=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();function Nw(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t)}(Ow);var Ew=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\"ec-line\",n}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},e.prototype.getDefaultShape=function(){return new Ow},e.prototype.buildPath=function(t,e){Nw(e)?Pw.buildPath.call(this,t,e):Rw.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return Nw(this.shape)?Pw.pointAt.call(this,t):Rw.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=Nw(e)?[e.x2-e.x1,e.y2-e.y1]:Rw.tangentAt.call(this,t);return Et(n,n)},e}(us),Bw=[\"fromSymbol\",\"toSymbol\"];function zw(t){return\"_\"+t+\"Type\"}function Vw(t,e,n){var r=e.getItemVisual(n,t);if(!r||\"none\"===r)return r;var i=e.getItemVisual(n,t+\"Size\"),o=e.getItemVisual(n,t+\"Rotate\"),a=e.getItemVisual(n,t+\"Offset\"),s=e.getItemVisual(n,t+\"KeepAspect\"),l=tg(i);return r+l+eg(a||0,l)+(o||\"\")+(s||\"\")}function Fw(t,e,n){var r=e.getItemVisual(n,t);if(r&&\"none\"!==r){var i=e.getItemVisual(n,t+\"Size\"),o=e.getItemVisual(n,t+\"Rotate\"),a=e.getItemVisual(n,t+\"Offset\"),s=e.getItemVisual(n,t+\"KeepAspect\"),l=tg(i),u=eg(a||0,l),h=Jf(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=t,h}}function Hw(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Ww=function(t){function e(e,n,r){var i=t.call(this)||this;return i._createLine(e,n,r),i}return n(e,t),e.prototype._createLine=function(t,e,n){var r=t.hostModel,i=function(t){var e=new Ew({name:\"line\",subPixelOptimize:!0});return Hw(e.shape,t),e}(t.getItemLayout(e));i.shape.percent=0,Wu(i,{shape:{percent:1}},r,e),this.add(i),B(Bw,function(n){var r=Fw(n,t,e);this.add(r),this[zw(n)]=Vw(n,t,e)},this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel,i=this.childOfName(\"line\"),o=t.getItemLayout(e),a={shape:{}};Hw(a.shape,o),Hu(i,a,r,e),B(Bw,function(n){var r=Vw(n,t,e),i=zw(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=Fw(n,t,e);this.add(o)}this[i]=r},this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var r=t.hostModel,i=this.childOfName(\"line\"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,h=n&&n.focus,c=n&&n.blurScope;if(!n||t.hasItemOption){var p=t.getItemModel(e),d=p.getModel(\"emphasis\");o=d.getModel(\"lineStyle\").getLineStyle(),a=p.getModel([\"blur\",\"lineStyle\"]).getLineStyle(),s=p.getModel([\"select\",\"lineStyle\"]).getLineStyle(),u=d.get(\"disabled\"),h=d.get(\"focus\"),c=d.get(\"blurScope\"),l=sh(p)}var f=t.getItemVisual(e,\"style\"),g=f.stroke;i.useStyle(f),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState(\"emphasis\").style=o,i.ensureState(\"blur\").style=a,i.ensureState(\"select\").style=s,B(Bw,function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=f.opacity;for(var n=0;n<Hs.length;n++){var r=Hs[n],o=i.getState(r);if(o){var a=o.style||{},s=e.ensureState(r),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?\"stroke\":\"fill\"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}},this);var y=r.getRawValue(e);ah(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return r.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||\"#000\",defaultOpacity:f.opacity,defaultText:(null==y?t.getName(e):isFinite(y)?Pi(y):y)+\"\"});var v=this.getTextContent();if(v){var m=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=m.get(\"position\")||\"middle\";var _=m.get(\"distance\");U(_)||(_=[_,_]),v.__labelDistance=_}this.setTextConfig({position:null,local:!0,inside:!1}),Ml(this,h,c,u)},e.prototype.highlight=function(){pl(this)},e.prototype.downplay=function(){dl(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName(\"line\");Hw(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this.childOfName(\"fromSymbol\"),e=this.childOfName(\"toSymbol\"),n=this.getTextContent();if(t||e||n&&!n.ignore){for(var r=1,i=this.parent;i;)i.scaleX&&(r/=i.scaleX),i=i.parent;var o=this.childOfName(\"line\");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),l=o.pointAt(a),u=Lt([],l,s);if(Et(u,u),t&&(t.setPosition(s),b(t,0),t.scaleX=t.scaleY=r*a,t.markRedraw()),e&&(e.setPosition(l),b(e,1),e.scaleX=e.scaleY=r*a,e.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var h=void 0,c=void 0,p=n.__labelDistance,d=p[0]*r,f=p[1]*r,g=a/2,y=o.tangentAt(g),v=[y[1],-y[0]],m=o.pointAt(g);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var _=y[0]<0?-1:1;if(\"start\"!==n.__position&&\"end\"!==n.__position){var x=-Math.atan2(y[1],y[0]);l[0]<s[0]&&(x=Math.PI+x),n.rotation=x}var w=void 0;switch(n.__position){case\"insideStartTop\":case\"insideMiddleTop\":case\"insideEndTop\":case\"middle\":w=-f,c=\"bottom\";break;case\"insideStartBottom\":case\"insideMiddleBottom\":case\"insideEndBottom\":w=f,c=\"top\";break;default:w=0,c=\"middle\"}switch(n.__position){case\"end\":n.x=u[0]*d+l[0],n.y=u[1]*f+l[1],h=u[0]>.8?\"left\":u[0]<-.8?\"right\":\"center\",c=u[1]>.8?\"top\":u[1]<-.8?\"bottom\":\"middle\";break;case\"start\":n.x=-u[0]*d+s[0],n.y=-u[1]*f+s[1],h=u[0]>.8?\"right\":u[0]<-.8?\"left\":\"center\",c=u[1]>.8?\"bottom\":u[1]<-.8?\"top\":\"middle\";break;case\"insideStartTop\":case\"insideStart\":case\"insideStartBottom\":n.x=d*_+s[0],n.y=s[1]+w,h=y[0]<0?\"right\":\"left\",n.originX=-d*_,n.originY=-w;break;case\"insideMiddleTop\":case\"insideMiddle\":case\"insideMiddleBottom\":case\"middle\":n.x=m[0],n.y=m[1]+w,h=\"center\",n.originY=-w;break;case\"insideEndTop\":case\"insideEnd\":case\"insideEndBottom\":n.x=-d*_+l[0],n.y=l[1]+w,h=y[0]>=0?\"right\":\"left\",n.originX=d*_,n.originY=-w}n.scaleX=n.scaleY=r,n.setStyle({verticalAlign:n.__verticalAlign||c,align:n.__align||h})}}}function b(t,e){var n=t.__specifiedRotation;if(null==n){var r=o.tangentAt(e);t.attr(\"rotation\",(1===e?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else t.attr(\"rotation\",n)}},e}(wi),Gw=function(){function t(t){this.group=new wi,this._LineCtor=t||Ww}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this.group,r=this._lineData;this._lineData=t,r||n.removeAll();var i=Uw(t);t.diff(r).add(function(n){e._doAdd(t,n,i)}).update(function(n,o){e._doUpdate(r,t,o,n,i)}).remove(function(t){n.remove(r.getItemGraphicEl(t))}).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Uw(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState(\"emphasis\").hoverLayer=!0)}this._progressiveEls=[];for(var r=t.start;r<t.end;r++){if(Yw(e.getItemLayout(r))){var i=new this._LineCtor(e,r,this._seriesScope);i.traverse(n),this.group.add(i),e.setItemGraphicEl(r,i),this._progressiveEls.push(i)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){nh(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(Yw(t.getItemLayout(e))){var r=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,r),this.group.add(r)}},t.prototype._doUpdate=function(t,e,n,r,i){var o=t.getItemGraphicEl(n);Yw(e.getItemLayout(r))?(o?o.updateData(e,r,i):o=new this._LineCtor(e,r,i),e.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},t}();function Uw(t){var e=t.hostModel,n=e.getModel(\"emphasis\");return{lineStyle:e.getModel(\"lineStyle\").getLineStyle(),emphasisLineStyle:n.getModel([\"lineStyle\"]).getLineStyle(),blurLineStyle:e.getModel([\"blur\",\"lineStyle\"]).getLineStyle(),selectLineStyle:e.getModel([\"select\",\"lineStyle\"]).getLineStyle(),emphasisDisabled:n.get(\"disabled\"),blurScope:n.get(\"blurScope\"),focus:n.get(\"focus\"),labelStatesModels:sh(e)}}function Xw(t){return isNaN(t[0])||isNaN(t[1])}function Yw(t){return t&&!Xw(t[0])&&!Xw(t[1])}var qw={axisPointer:1,tooltip:1,brush:1};var jw=[],Zw=[],Kw=[],$w=Tn,Qw=Ft,Jw=Math.abs;function tb(t,e,n){for(var r,i=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,h=.1;h<=.9;h+=.1){jw[0]=$w(i[0],o[0],a[0],h),jw[1]=$w(i[1],o[1],a[1],h),(d=Jw(Qw(jw,e)-l))<s&&(s=d,r=h)}for(var c=0;c<32;c++){var p=r+u;Zw[0]=$w(i[0],o[0],a[0],r),Zw[1]=$w(i[1],o[1],a[1],r),Kw[0]=$w(i[0],o[0],a[0],p),Kw[1]=$w(i[1],o[1],a[1],p);var d=Qw(Zw,e)-l;if(Jw(d)<.01)break;var f=Qw(Kw,e)-l;u/=2,d<0?f>=0?r+=u:r-=u:f>=0?r-=u:r+=u}return r}function eb(t,e){var n=[],r=kn,i=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge(function(t,s){var l=t.getLayout(),u=t.getVisual(\"fromSymbol\"),h=t.getVisual(\"toSymbol\");l.__original||(l.__original=[Tt(l[0]),Tt(l[1])],l[2]&&l.__original.push(Tt(l[2])));var c=l.__original;if(null!=l[2]){if(It(i[0],c[0]),It(i[1],c[2]),It(i[2],c[1]),u&&\"none\"!==u){var p=dw(t.node1),d=tb(i,c[0],p*e);r(i[0][0],i[1][0],i[2][0],d,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],d,n),i[0][1]=n[3],i[1][1]=n[4]}if(h&&\"none\"!==h){p=dw(t.node2),d=tb(i,c[1],p*e);r(i[0][0],i[1][0],i[2][0],d,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],d,n),i[1][1]=n[1],i[2][1]=n[2]}It(l[0],i[0]),It(l[1],i[2]),It(l[2],i[1])}else{if(It(o[0],c[0]),It(o[1],c[1]),Lt(a,o[1],o[0]),Et(a,a),u&&\"none\"!==u){p=dw(t.node1);kt(o[0],o[0],a,p*e)}if(h&&\"none\"!==h){p=dw(t.node2);kt(o[1],o[1],a,-p*e)}It(l[0],o[0]),It(l[1],o[1])}})}function nb(t){return\"view\"===t.type}var rb=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){var n=new Aw,r=new Gw,i=this.group;this._controller=new ex(e.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},e.prototype.render=function(t,e,n){var r=this,i=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(nb(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(l):Hu(s,l,t)}eb(t.getGraph(),pw(t));var u=t.getData();o.updateData(u);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var c=t.forceLayout,p=t.get([\"force\",\"layoutAnimation\"]);c&&this._startForceLayoutIteration(c,p);var d=t.get(\"layout\");u.graph.eachNode(function(e){var n=e.dataIndex,i=e.getGraphicEl(),o=e.getModel();if(i){i.off(\"drag\").off(\"dragend\");var a=o.get(\"draggable\");a&&i.on(\"drag\",function(o){switch(d){case\"force\":c.warmUp(),!r._layouting&&r._startForceLayoutIteration(c,p),c.setFixed(n),u.setItemLayout(n,[i.x,i.y]);break;case\"circular\":u.setItemLayout(n,[i.x,i.y]),e.setLayout({fixed:!0},!0),yw(t,\"symbolSize\",e,[o.offsetX,o.offsetY]),r.updateLayout(t);break;case\"none\":default:u.setItemLayout(n,[i.x,i.y]),hw(t.getGraph(),t),r.updateLayout(t)}}).on(\"dragend\",function(){c&&c.setUnfixed(n)}),i.setDraggable(a,!!o.get(\"cursor\")),\"adjacency\"===o.get([\"emphasis\",\"focus\"])&&(Rs(i).focus=e.getAdjacentDataIndices())}}),u.graph.eachEdge(function(t){var e=t.getGraphicEl(),n=t.getModel().get([\"emphasis\",\"focus\"]);e&&\"adjacency\"===n&&(Rs(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})});var f=\"circular\"===t.get(\"layout\")&&t.get([\"circular\",\"rotateLabel\"]),g=u.getLayout(\"cx\"),y=u.getLayout(\"cy\");u.graph.eachNode(function(t){mw(t,f,g,y)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function r(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())})}()},e.prototype._updateController=function(t,e,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!function(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!qw.hasOwnProperty(r.mainType)&&i&&i.model!==n}(e,n,t)}),nb(t.coordinateSystem)?(i.enable(t.get(\"roam\")),o.zoomLimit=t.get(\"scaleLimit\"),o.zoom=t.coordinateSystem.getZoom(),i.off(\"pan\").off(\"zoom\").on(\"pan\",function(e){!function(t,e,n){var r=t.target;r.x+=e,r.y+=n,r.dirty()}(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:\"graphRoam\",dx:e.dx,dy:e.dy})}).on(\"zoom\",function(e){!function(t,e,n,r){var i=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,i.x-=(n-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:\"graphRoam\",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(),eb(t.getGraph(),pw(t)),r._lineDraw.updateLayout(),n.updateLabelLayout()})):i.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=pw(t);e.eachItemGraphicEl(function(t,e){t&&t.setSymbolScale(n)})},e.prototype.updateLayout=function(t){eb(t.getGraph(),pw(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type=\"graph\",e}(Jd);function ib(t){return\"_EC_\"+t}var ob=function(){function t(t){this.type=\"graph\",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?\"\"+e:\"\"+t;var n=this._nodesMap;if(!n[ib(t)]){var r=new ab(t,e);return r.hostGraph=this,this.nodes.push(r),n[ib(t)]=r,r}console.error(\"Graph nodes have duplicate name or id\")},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[ib(t)]},t.prototype.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if(j(t)&&(t=this.nodes[t]),j(e)&&(e=this.nodes[e]),t instanceof ab||(t=r[ib(t)]),e instanceof ab||(e=r[ib(e)]),t&&e){var o=t.id+\"-\"+e.id,a=new sb(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),i[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof ab&&(t=t.id),e instanceof ab&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+\"-\"+e]:n[t+\"-\"+e]||n[e+\"-\"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},t.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof ab||(e=this._nodesMap[ib(e)]),e){for(var i=\"out\"===n?\"outEdges\":\"in\"===n?\"inEdges\":\"edges\",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[i];for(o=0;o<l.length;o++){var u=l[o],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(r,h,s))return;a.push(h),h.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)r[e.getRawIndex(i)].dataIndex=i},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),ab=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?\"\":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=yt(),e=yt(),n=0;n<this.edges.length;n++){var r=this.edges[n];if(!(r.dataIndex<0)){t.set(r.dataIndex,!0);for(var i=[r.node1],o=[r.node2],a=0;a<i.length;){var s=i[a];a++,e.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)t.set(s.inEdges[l].dataIndex,!0),i.push(s.inEdges[l].node1)}for(a=0;a<o.length;){var u=o[a];a++,e.set(u.dataIndex,!0);for(l=0;l<u.outEdges.length;l++)t.set(u.outEdges[l].dataIndex,!0),o.push(u.outEdges[l].node2)}}}return{edge:t.keys(),node:e.keys()}},t}(),sb=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=yt(),e=yt();t.set(this.dataIndex,!0);for(var n=[this.node1],r=[this.node2],i=0;i<n.length;){var o=n[i];i++,e.set(o.dataIndex,!0);for(var a=0;a<o.inEdges.length;a++)t.set(o.inEdges[a].dataIndex,!0),n.push(o.inEdges[a].node1)}for(i=0;i<r.length;){var s=r[i];i++,e.set(s.dataIndex,!0);for(a=0;a<s.outEdges.length;a++)t.set(s.outEdges[a].dataIndex,!0),r.push(s.outEdges[a].node2)}return{edge:t.keys(),node:e.keys()}},t}();function lb(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||\"value\"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}N(ab,lb(\"hostGraph\",\"data\")),N(sb,lb(\"hostGraph\",\"edgeData\"));var ub=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),hb=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new ub(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),ao(e,\"edgeLabel\",[\"show\"])},e.prototype.getInitialData=function(t,e){var n,r=t.edges||t.links||[],i=t.data||t.nodes||[],o=this;if(i&&r){ew(n=this)&&(n.__curvenessList=[],n.__edgeMap={},nw(n));var a=function(t,e,n,r,i){for(var o=new ob(r),a=0;a<t.length;a++)o.addNode(rt(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<e.length;a++){var h=e[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(rt(fo(h.id,null),c+\" > \"+p)),u++)}var d,f=n.get(\"coordinateSystem\");if(\"cartesian2d\"===f||\"polar\"===f)d=Sv(t,n);else{var g=lp.get(f),y=g&&g.dimensions||[];R(y,\"value\")<0&&y.concat([\"value\"]);var v=yv(t,{coordDimensions:y,encodeDefine:n.getEncode()}).dimensions;(d=new gv(v,n)).initData(t)}var m=new gv([\"value\"],n);return m.initData(l,s),i&&i(d,m),B_({mainData:d,struct:o,structAttr:\"graph\",datas:{node:d,edge:m},datasAttr:{node:\"data\",edge:\"edgeData\"}}),o.update(),o}(i,r,this,!0,function(t,e){t.wrapMethod(\"getItemModel\",function(t){var e=o._categoriesModels,n=t.getShallow(\"category\"),r=e[n];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t});var n=Dh.prototype.getModel;function r(t,e){var r=n.call(this,t,e);return r.resolveParentPath=i,r}function i(t){if(t&&(\"label\"===t[0]||\"label\"===t[1])){var e=t.slice();return\"label\"===t[0]?e[0]=\"edgeLabel\":\"label\"===t[1]&&(e[1]=\"edgeLabel\"),e}return t}e.wrapMethod(\"getItemModel\",function(t){return t.resolveParentPath=i,t.getModel=r,t})});return B(a.edges,function(t){!function(t,e,n,r){if(ew(n)){var i=rw(t,e,n),o=n.__edgeMap,a=o[iw(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}(t.node1,t.node2,this,t.dataIndex)},this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if(\"edge\"===n){var r=this.getData(),i=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),Bd(\"nameValue\",{name:l.join(\" > \"),value:i.value,noValue:null==i.value})}return Vd({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=z(this.option.categories||[],function(t){return null!=t.value?t:L({value:0},t)}),e=new gv([\"value\"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(\"force\"===this.get(\"layout\")&&this.get([\"force\",\"layoutAnimation\"]))},e.type=\"series.graph\",e.dependencies=[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],e.defaultOption={z:2,coordinateSystem:\"view\",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:10,edgeSymbol:[\"none\",\"none\"],edgeSymbolSize:10,edgeLabel:{position:\"middle\",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\"{b}\"},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:\"#212121\"}}},e}(Wd);function cb(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}var pb={type:\"graphRoam\",event:\"graphRoam\",update:\"none\"};ym(function(t){t.registerChartView(rb),t.registerSeriesModel(hb),t.registerProcessor($x),t.registerVisual(Qx),t.registerVisual(tw),t.registerLayout(cw),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,_w),t.registerLayout(ww),t.registerCoordinateSystem(\"graphView\",{dimensions:Sw.dimensions,create:Iw}),t.registerAction({type:\"focusNodeAdjacency\",event:\"focusNodeAdjacency\",update:\"series:focusNodeAdjacency\"},wt),t.registerAction({type:\"unfocusNodeAdjacency\",event:\"unfocusNodeAdjacency\",update:\"series:unfocusNodeAdjacency\"},wt),t.registerAction(pb,function(t,e,n){e.eachComponent({mainType:\"series\",query:t},function(e){var r=function(t,e,n,r){var i=t.getZoom(),o=t.getCenter(),a=e.zoom,s=t.projectedToPoint?t.projectedToPoint(o):t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(cb(t,s),r)),null!=a){if(n){var l=n.min||0,u=n.max||1/0;a=Math.max(Math.min(i*a,u),l)/i}t.scaleX*=a,t.scaleY*=a;var h=(e.originX-t.x)*(a-1),c=(e.originY-t.y)*(a-1);t.x-=h,t.y-=c,t.updateTransform(),t.setCenter(cb(t,s),r),t.setZoom(a*i)}return{center:t.getCenter(),zoom:t.getZoom()}}(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)})})}),ym(L_);var db={value:\"eq\",\"<\":\"lt\",\"<=\":\"lte\",\">\":\"gt\",\">=\":\"gte\",\"=\":\"eq\",\"!=\":\"ne\",\"<>\":\"ne\"},fb=function(){function t(t){if(null==(this._condVal=Y(t)?new RegExp(t):et(t)?t:null)){eo(to(\"Illegal regexp\",t,\"in\"))}}return t.prototype.evaluate=function(t){var e=typeof t;return Y(e)?this._condVal.test(t):!!j(e)&&this._condVal.test(t+\"\")},t}(),gb=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),yb=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),vb=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),mb=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),_b=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?n:e))return!1;return!0},t}();function xb(t,e){if(!0===t||!1===t){var n=new gb;return n.value=t,n}return bb(t)||eo(to(\"Illegal config. Expect a plain object but actually\",t)),t.and?wb(\"and\",t,e):t.or?wb(\"or\",t,e):t.not?function(t,e){var n=t.not,r=\"\";r=to('\"not\" condition should only be `not: {}`.',\"Illegal condition:\",t),bb(n)||eo(r);var i=new mb;i.child=xb(n,e),i.child||eo(r);return i}(t,e):function(t,e){for(var n=e.prepareGetValue(t),r=[],i=H(t),o=t.parser,a=o?hd(o):null,s=0;s<i.length;s++){var l=i[s];if(\"parser\"!==l&&!e.valueGetterAttrMap.get(l)){var u=xt(db,l)?db[l]:l,h=t[l],c=a?a(h):h,p=gd(u,c)||\"reg\"===u&&new fb(c);p||eo(to('Illegal relational operation: \"'+l+'\" in condition:',t)),r.push(p)}}r.length||eo(to(\"Relational condition must have at least one operator.\",\"Illegal condition:\",t));var d=new _b;return d.valueGetterParam=n,d.valueParser=a,d.getValue=e.getValue,d.subCondList=r,d}(t,e)}function wb(t,e,n){var r,i=e[t];r=to('\"and\"/\"or\" condition should only be `'+t+\": [...]` and must not be empty array.\",\"Illegal condition:\",e),U(i)||eo(r),i.length||eo(r);var o=\"and\"===t?new yb:new vb;return o.children=z(i,function(t){return xb(t,n)}),o.children.length||eo(r),o}function bb(t){return Z(t)&&!E(t)}var Sb=function(){function t(t,e){this._cond=xb(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var Mb,Ib={type:\"echarts:filter\",transform:function(t){for(var e,n,r,i=t.upstream,o=(n=t.config,r={valueGetterAttrMap:yt({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;xt(t,\"dimension\")||eo(to('Relation condition must has prop \"dimension\" specified.',\"Illegal condition:\",t));var n=i.getDimensionInfo(e);return n||eo(to(\"Can not find dimension info via: \"+e+\".\\n\",\"Existing dimensions: \",i.cloneAllDimensionInfo(),\".\\n\",\"Illegal condition:\",t,\".\\n\")),{dimIdx:n.index}},getValue:function(t){return i.retrieveValueFromItem(e,t.dimIdx)}},new Sb(n,r)),a=[],s=0,l=i.count();s<l;s++)e=i.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};Mb=[\"Valid config is like:\",'{ dimension: \"age\", order: \"asc\" }','or [{ dimension: \"age\", order: \"asc\"], { dimension: \"date\", order: \"desc\" }]'].join(\" \");var Tb={type:\"echarts:sort\",transform:function(t){var e=t.upstream,n=t.config,r=oo(n);r.length||eo(\"Empty `config` in sort transform.\");var i=[];B(r,function(t){var n=t.dimension,r=t.order,o=t.parser,a=t.incomparable;if(null==n&&eo('Sort transform config must has \"dimension\" specified.'+Mb),\"asc\"!==r&&\"desc\"!==r&&eo('Sort transform config must has \"order\" specified.'+Mb),a&&\"min\"!==a&&\"max\"!==a){eo('incomparable must be \"min\" or \"max\" rather than \"'+a+'\".')}if(\"asc\"!==r&&\"desc\"!==r){eo('order must be \"asc\" or \"desc\" rather than \"'+r+'\".')}var s=e.getDimensionInfo(n);s||eo(to(\"Can not find dimension info via: \"+n+\".\\n\",\"Existing dimensions: \",e.cloneAllDimensionInfo(),\".\\n\",\"Illegal config:\",t,\".\\n\"));var l=o?hd(o):null;o&&!l&&eo(to(\"Invalid parser name \"+o+\".\\n\",\"Illegal config:\",t,\".\\n\")),i.push({dimIdx:s.index,parser:l,comparator:new dd(r,a)})});var o=e.sourceFormat;o!==Pc&&o!==Rc&&eo('sourceFormat \"'+o+'\" is not supported yet');for(var a=[],s=0,l=e.count();s<l;s++)a.push(e.getRawDataItem(s));return a.sort(function(t,n){for(var r=0;r<i.length;r++){var o=i[r],a=e.retrieveValueFromItem(t,o.dimIdx),s=e.retrieveValueFromItem(n,o.dimIdx);o.parser&&(a=o.parser(a),s=o.parser(s));var l=o.comparator.evaluate(a,s);if(0!==l)return l}return 0}),{data:a}}};ym(function(t){t.registerTransform(Ib),t.registerTransform(Tb)}),t.Axis=Xm,t.ChartView=Jd,t.ComponentModel=Tc,t.ComponentView=Kd,t.List=gv,t.Model=Dh,t.PRIORITY=zg,t.SeriesModel=Wd,t.color=sr,t.connect=function(t){if(U(t)){var e=t;t=null,B(e,function(e){null!=e.group&&(t=e.group)}),t=t||\"g_\"+My++,B(e,function(e){e.group=t})}return by[t]=!0,t},t.dataTool={},t.dependencies={zrender:\"5.4.4\"},t.disConnect=Cy,t.disconnect=Ty,t.dispose=function(t){Y(t)?t=wy[t]:t instanceof hy||(t=Dy(t)),t instanceof hy&&!t.isDisposed()&&t.dispose()},t.env=i,t.extendChartView=function(t){var e=Jd.extend(t);return Jd.registerClass(e),e},t.extendComponentModel=function(t){var e=Tc.extend(t);return Tc.registerClass(e),e},t.extendComponentView=function(t){var e=Kd.extend(t);return Kd.registerClass(e),e},t.extendSeriesModel=function(t){var e=Wd.extend(t);return Wd.registerClass(e),e},t.format=Rm,t.getCoordinateSystemDimensions=function(t){var e=lp.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.getInstanceByDom=Dy,t.getInstanceById=function(t){return wy[t]},t.getMap=function(t){var e=Og(\"getMap\");return e&&e(t)},t.graphic=Pm,t.helper=dm,t.init=function(t,e,n){var r=!(n&&n.ssr);if(r){if(!t)throw new Error(\"Initialize failed: invalid dom.\");var i=Dy(t);if(i)return Ki(\"There is a chart instance already initialized on the dom.\"),i;!Q(t)||\"CANVAS\"===t.nodeName.toUpperCase()||(t.clientWidth||n&&null!=n.width)&&(t.clientHeight||n&&null!=n.height)||Ki(\"Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.\")}var o=new hy(t,e,n);return o.id=\"ec_\"+Sy++,wy[o.id]=o,r&&To(t,Iy,o.id),oy(o),Pg.trigger(\"afterinit\",o),o},t.innerDrawElementOnCanvas=Ig,t.matrix=Me,t.number=Lm,t.parseGeoJSON=km,t.parseGeoJson=km,t.registerAction=Ny,t.registerCoordinateSystem=Ey,t.registerLayout=By,t.registerLoading=Hy,t.registerLocale=Bh,t.registerMap=Wy,t.registerPostInit=Py,t.registerPostUpdate=Ry,t.registerPreprocessor=Ly,t.registerProcessor=Ay,t.registerTheme=ky,t.registerTransform=Gy,t.registerUpdateLifecycle=Oy,t.registerVisual=zy,t.setCanvasCreator=function(t){Qi(\"setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.\"),d({createCanvas:t})},t.setPlatformAPI=d,t.throttle=af,t.time=Am,t.use=ym,t.util=Om,t.vector=Xt,t.version=\"5.4.3\",t.zrUtil=St,t.zrender=Ci});"
+// }
+
+export function getMinifiedEChartsFramework() {
     return "!function(t,e){\"object\"==typeof exports\&\&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define\&\&define.amd?define([\"exports\"],e):e(t.echarts={})}(this,function(t){\"use strict\";function e(t,e){\"createCanvas\"===t\&\&(q_=null),j_[t]=e}function i(t){if(null==t||\"object\"!=typeof t)return t;var e=t,n=G_.call(t);if(\"[object Array]\"===n){if(!O(t)){e=[];for(var o=0,a=t.length;o<a;o++)e[o]=i(t[o])}}else if(V_[n]){if(!O(t)){var r=t.constructor;if(t.constructor.from)e=r.from(t);else{e=new r(t.length);for(var o=0,a=t.length;o<a;o++)e[o]=i(t[o])}}}else if(!B_[n]\&\&!O(t)\&\&!M(t)){e={};for(var s in t)t.hasOwnProperty(s)\&\&(e[s]=i(t[s]))}return e}function n(t,e,o){if(!w(e)||!w(t))return o?i(e):t;for(var a in e)if(e.hasOwnProperty(a)){var r=t[a],s=e[a];!w(s)||!w(r)||y(s)||y(r)||M(s)||M(r)||b(s)||b(r)||O(s)||O(r)?!o\&\&a in t||(t[a]=i(e[a],!0)):n(r,s,o)}return t}function o(t,e){for(var i=t[0],o=1,a=t.length;o<a;o++)i=n(i,t[o],e);return i}function a(t,e){for(var i in e)e.hasOwnProperty(i)\&\&(t[i]=e[i]);return t}function r(t,e,i){for(var n in e)e.hasOwnProperty(n)\&\&(i?null!=e[n]:null==t[n])\&\&(t[n]=e[n]);return t}function s(){return q_||(q_=Y_().getContext(\"2d\")),q_}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function u(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var o in n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=e}function h(t,e,i){r(t=\"prototype\"in t?t.prototype:t,e=\"prototype\"in e?e.prototype:e,i)}function c(t){if(t)return\"string\"!=typeof t\&\&\"number\"==typeof t.length}function d(t,e,i){if(t\&\&e)if(t.forEach\&\&t.forEach===W_)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)\&\&e.call(i,t[a],a,t)}function f(t,e,i){if(t\&\&e){if(t.map\&\&t.map===U_)return t.map(e,i);for(var n=[],o=0,a=t.length;o<a;o++)n.push(e.call(i,t[o],o,t));return n}}function p(t,e,i,n){if(t\&\&e){if(t.reduce\&\&t.reduce===X_)return t.reduce(e,i,n);for(var o=0,a=t.length;o<a;o++)i=e.call(n,i,t[o],o,t);return i}}function g(t,e,i){if(t\&\&e){if(t.filter\&\&t.filter===H_)return t.filter(e,i);for(var n=[],o=0,a=t.length;o<a;o++)e.call(i,t[o],o,t)\&\&n.push(t[o]);return n}}function m(t,e){var i=Z_.call(arguments,2);return function(){return t.apply(e,i.concat(Z_.call(arguments)))}}function v(t){var e=Z_.call(arguments,1);return function(){return t.apply(this,e.concat(Z_.call(arguments)))}}function y(t){return\"[object Array]\"===G_.call(t)}function x(t){return\"function\"==typeof t}function _(t){return\"[object String]\"===G_.call(t)}function w(t){var e=typeof t;return\"function\"===e||!!t\&\&\"object\"==e}function b(t){return!!B_[G_.call(t)]}function S(t){return!!V_[G_.call(t)]}function M(t){return\"object\"==typeof t\&\&\"number\"==typeof t.nodeType\&\&\"object\"==typeof t.ownerDocument}function I(t){return t!==t}function T(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function A(t,e){return null!=t?t:e}function D(t,e,i){return null!=t?t:null!=e?e:i}function C(){return Function.call.apply(Z_,arguments)}function L(t){if(\"number\"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function k(t,e){if(!t)throw new Error(e)}function P(t){return null==t?null:\"function\"==typeof t.trim?t.trim():t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+\$/g,\"\")}function N(t){t[K_]=!0}function O(t){return t[K_]}function E(t){function e(t,e){i?n.set(t,e):n.set(e,t)}var i=y(t);this.data={};var n=this;t instanceof E?t.each(e):t\&\&d(t,e)}function R(t){return new E(t)}function z(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var o=t.length;for(n=0;n<e.length;n++)i[n+o]=e[n];return i}function B(){}function V(t,e){var i=new J_(2);return null==t\&\&(t=0),null==e\&\&(e=0),i[0]=t,i[1]=e,i}function G(t,e){return t[0]=e[0],t[1]=e[1],t}function F(t){var e=new J_(2);return e[0]=t[0],e[1]=t[1],e}function W(t,e,i){return t[0]=e,t[1]=i,t}function H(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Z(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function U(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function X(t){return Math.sqrt(j(t))}function j(t){return t[0]*t[0]+t[1]*t[1]}function Y(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function q(t,e){var i=X(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function K(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function \$(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function J(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function Q(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t}function tt(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function et(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function it(){this.on(\"mousedown\",this._dragStart,this),this.on(\"mousemove\",this._drag,this),this.on(\"mouseup\",this._dragEnd,this),this.on(\"globalout\",this._dragEnd,this)}function nt(t,e){return{target:t,topTarget:e\&\&e.topTarget}}function ot(t,e){var i=t._\$eventProcessor;return null!=e\&\&i\&\&i.normalizeQuery\&\&(e=i.normalizeQuery(e)),e}function at(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function rt(t,e,i,n){return i=i||{},n||!z_.canvasSupported?st(t,e,i):z_.browser.firefox\&\&null!=e.layerX\&\&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):st(t,e,i),i}function st(t,e,i){var n=at(t);i.zrX=e.clientX-n.left,i.zrY=e.clientY-n.top}function lt(t,e,i){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n\&\&n.indexOf(\"touch\")>=0){var o=\"touchend\"!=n?e.targetTouches[0]:e.changedTouches[0];o\&\&rt(t,o,e,i)}else rt(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var a=e.button;return null==e.which\&\&void 0!==a\&\&sw.test(e.type)\&\&(e.which=1\&a?1:2\&a?3:4\&a?2:0),e}function ut(t,e,i){rw?t.addEventListener(e,i):t.attachEvent(\"on\"+e,i)}function ht(t,e,i){rw?t.removeEventListener(e,i):t.detachEvent(\"on\"+e,i)}function ct(t){return t.which>1}function dt(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:ft}}function ft(t){lw(this.event)}function pt(){}function gt(t,e,i){if(t[t.rectHover?\"rectContain\":\"contain\"](e,i)){for(var n,o=t;o;){if(o.clipPath\&\&!o.clipPath.contain(e,i))return!1;o.silent\&\&(n=!0),o=o.parent}return!n||uw}return!1}function mt(){var t=new dw(6);return vt(t),t}function vt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function yt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function xt(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=l,t}function _t(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function wt(t,e,i){var n=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],u=Math.sin(i),h=Math.cos(i);return t[0]=n*h+r*u,t[1]=-n*u+r*h,t[2]=o*h+s*u,t[3]=-o*u+h*s,t[4]=h*a+u*l,t[5]=h*l-u*a,t}function bt(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t}function St(t,e){var i=e[0],n=e[2],o=e[4],a=e[1],r=e[3],s=e[5],l=i*r-a*n;return l?(l=1/l,t[0]=r*l,t[1]=-a*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*o)*l,t[5]=(a*o-i*s)*l,t):null}function Mt(t){var e=mt();return yt(e,t),e}function It(t){return t>gw||t<-gw}function Tt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop\&\&t.loop,this.gap=t.gap||0,this.easing=t.easing||\"Linear\",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function At(t){return(t=Math.round(t))<0?0:t>255?255:t}function Dt(t){return(t=Math.round(t))<0?0:t>360?360:t}function Ct(t){return t<0?0:t>1?1:t}function Lt(t){return At(t.length\&\&\"%\"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function kt(t){return Ct(t.length\&\&\"%\"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function Pt(t,e,i){return i<0?i+=1:i>1\&\&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Nt(t,e,i){return t+(e-t)*i}function Ot(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function Et(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Rt(t,e){Cw\&\&Et(Cw,e),Cw=Dw.put(t,Cw||e.slice())}function zt(t,e){if(t){e=e||[];var i=Dw.get(t);if(i)return Et(e,i);var n=(t+=\"\").replace(/ /g,\"\").toLowerCase();if(n in Aw)return Et(e,Aw[n]),Rt(t,e),e;if(\"#\"!==n.charAt(0)){var o=n.indexOf(\"(\"),a=n.indexOf(\")\");if(-1!==o\&\&a+1===n.length){var r=n.substr(0,o),s=n.substr(o+1,a-(o+1)).split(\",\"),l=1;switch(r){case\"rgba\":if(4!==s.length)return void Ot(e,0,0,0,1);l=kt(s.pop());case\"rgb\":return 3!==s.length?void Ot(e,0,0,0,1):(Ot(e,Lt(s[0]),Lt(s[1]),Lt(s[2]),l),Rt(t,e),e);case\"hsla\":return 4!==s.length?void Ot(e,0,0,0,1):(s[3]=kt(s[3]),Bt(s,e),Rt(t,e),e);case\"hsl\":return 3!==s.length?void Ot(e,0,0,0,1):(Bt(s,e),Rt(t,e),e);default:return}}Ot(e,0,0,0,1)}else{if(4===n.length)return(u=parseInt(n.substr(1),16))>=0\&\&u<=4095?(Ot(e,(3840\&u)>>4|(3840\&u)>>8,240\&u|(240\&u)>>4,15\&u|(15\&u)<<4,1),Rt(t,e),e):void Ot(e,0,0,0,1);if(7===n.length){var u=parseInt(n.substr(1),16);return u>=0\&\&u<=16777215?(Ot(e,(16711680\&u)>>16,(65280\&u)>>8,255\&u,1),Rt(t,e),e):void Ot(e,0,0,0,1)}}}}function Bt(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=kt(t[1]),o=kt(t[2]),a=o<=.5?o*(n+1):o+n-o*n,r=2*o-a;return e=e||[],Ot(e,At(255*Pt(r,a,i+1/3)),At(255*Pt(r,a,i)),At(255*Pt(r,a,i-1/3)),1),4===t.length\&\&(e[3]=t[3]),e}function Vt(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(n,o,a),s=Math.max(n,o,a),l=s-r,u=(s+r)/2;if(0===l)e=0,i=0;else{i=u<.5?l/(s+r):l/(2-s-r);var h=((s-n)/6+l/2)/l,c=((s-o)/6+l/2)/l,d=((s-a)/6+l/2)/l;n===s?e=d-c:o===s?e=1/3+h-d:a===s\&\&(e=2/3+c-h),e<0\&\&(e+=1),e>1\&\&(e-=1)}var f=[360*e,i,u];return null!=t[3]\&\&f.push(t[3]),f}}function Gt(t,e){var i=zt(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:t[n]<0\&\&(i[n]=0);return Xt(i,4===i.length?\"rgba\":\"rgb\")}}function Ft(t){var e=zt(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Wt(t,e,i){if(e\&\&e.length\&\&t>=0\&\&t<=1){i=i||[];var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=e[o],s=e[a],l=n-o;return i[0]=At(Nt(r[0],s[0],l)),i[1]=At(Nt(r[1],s[1],l)),i[2]=At(Nt(r[2],s[2],l)),i[3]=Ct(Nt(r[3],s[3],l)),i}}function Ht(t,e,i){if(e\&\&e.length\&\&t>=0\&\&t<=1){var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=zt(e[o]),s=zt(e[a]),l=n-o,u=Xt([At(Nt(r[0],s[0],l)),At(Nt(r[1],s[1],l)),At(Nt(r[2],s[2],l)),Ct(Nt(r[3],s[3],l))],\"rgba\");return i?{color:u,leftIndex:o,rightIndex:a,value:n}:u}}function Zt(t,e,i,n){if(t=zt(t))return t=Vt(t),null!=e\&\&(t[0]=Dt(e)),null!=i\&\&(t[1]=kt(i)),null!=n\&\&(t[2]=kt(n)),Xt(Bt(t),\"rgba\")}function Ut(t,e){if((t=zt(t))\&\&null!=e)return t[3]=Ct(e),Xt(t,\"rgba\")}function Xt(t,e){if(t\&\&t.length){var i=t[0]+\",\"+t[1]+\",\"+t[2];return\"rgba\"!==e\&\&\"hsva\"!==e\&\&\"hsla\"!==e||(i+=\",\"+t[3]),e+\"(\"+i+\")\"}}function jt(t,e){return t[e]}function Yt(t,e,i){t[e]=i}function qt(t,e,i){return(e-t)*i+t}function Kt(t,e,i){return i>.5?e:t}function \$t(t,e,i,n,o){var a=t.length;if(1==o)for(s=0;s<a;s++)n[s]=qt(t[s],e[s],i);else for(var r=a\&\&t[0].length,s=0;s<a;s++)for(var l=0;l<r;l++)n[s][l]=qt(t[s][l],e[s][l],i)}function Jt(t,e,i){var n=t.length,o=e.length;if(n!==o)if(n>o)t.length=o;else for(r=n;r<o;r++)t.push(1===i?e[r]:Nw.call(e[r]));for(var a=t[0]\&\&t[0].length,r=0;r<t.length;r++)if(1===i)isNaN(t[r])\&\&(t[r]=e[r]);else for(var s=0;s<a;s++)isNaN(t[r][s])\&\&(t[r][s]=e[r][s])}function Qt(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(a=0;a<n;a++)if(t[a]!==e[a])return!1}else for(var o=t[0].length,a=0;a<n;a++)for(var r=0;r<o;r++)if(t[a][r]!==e[a][r])return!1;return!0}function te(t,e,i,n,o,a,r,s,l){var u=t.length;if(1==l)for(c=0;c<u;c++)s[c]=ee(t[c],e[c],i[c],n[c],o,a,r);else for(var h=t[0].length,c=0;c<u;c++)for(var d=0;d<h;d++)s[c][d]=ee(t[c][d],e[c][d],i[c][d],n[c][d],o,a,r)}function ee(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function ie(t){if(c(t)){var e=t.length;if(c(t[0])){for(var i=[],n=0;n<e;n++)i.push(Nw.call(t[n]));return i}return Nw.call(t)}return t}function ne(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),\"rgba(\"+t.join(\",\")+\")\"}function oe(t){var e=t[t.length-1].value;return c(e\&\&e[0])?2:1}function ae(t,e,i,n,o,a){var r=t._getter,s=t._setter,l=\"spline\"===e,u=n.length;if(u){var h,d=c(n[0].value),f=!1,p=!1,g=d?oe(n):0;n.sort(function(t,e){return t.time-e.time}),h=n[u-1].time;for(var m=[],v=[],y=n[0].value,x=!0,_=0;_<u;_++){m.push(n[_].time/h);var w=n[_].value;if(d\&\&Qt(w,y,g)||!d\&\&w===y||(x=!1),y=w,\"string\"==typeof w){var b=zt(w);b?(w=b,f=!0):p=!0}v.push(w)}if(a||!x){for(var S=v[u-1],_=0;_<u-1;_++)d?Jt(v[_],S,g):!isNaN(v[_])||isNaN(S)||p||f||(v[_]=S);d\&\&Jt(r(t._target,o),S,g);var M,I,T,A,D,C,L=0,k=0;if(f)var P=[0,0,0,0];var N=new Tt({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<k){for(i=M=Math.min(L+1,u-1);i>=0\&\&!(m[i]<=e);i--);i=Math.min(i,u-2)}else{for(i=L;i<u\&\&!(m[i]>e);i++);i=Math.min(i-1,u-2)}L=i,k=e;var n=m[i+1]-m[i];if(0!==n)if(I=(e-m[i])/n,l)if(A=v[i],T=v[0===i?i:i-1],D=v[i>u-2?u-1:i+1],C=v[i>u-3?u-1:i+2],d)te(T,A,D,C,I,I*I,I*I*I,r(t,o),g);else{if(f)a=te(T,A,D,C,I,I*I,I*I*I,P,1),a=ne(P);else{if(p)return Kt(A,D,I);a=ee(T,A,D,C,I,I*I,I*I*I)}s(t,o,a)}else if(d)\$t(v[i],v[i+1],I,r(t,o),g);else{var a;if(f)\$t(v[i],v[i+1],I,P,1),a=ne(P);else{if(p)return Kt(v[i],v[i+1],I);a=qt(v[i],v[i+1],I)}s(t,o,a)}},ondestroy:i});return e\&\&\"spline\"!==e\&\&(N.easing=e),N}}}function re(t,e,i,n,o,a,r,s){_(n)?(a=o,o=n,n=0):x(o)?(a=o,o=\"linear\",n=0):x(n)?(a=n,n=0):x(i)?(a=i,i=500):i||(i=500),t.stopAnimation(),se(t,\"\",t,e,i,n,s);var l=t.animators.slice(),u=l.length;u||a\&\&a();for(var h=0;h<l.length;h++)l[h].done(function(){--u||a\&\&a()}).start(o,r)}function se(t,e,i,n,o,a,r){var s={},l=0;for(var u in n)n.hasOwnProperty(u)\&\&(null!=i[u]?w(n[u])\&\&!c(n[u])?se(t,e?e+\".\"+u:u,i[u],n[u],o,a,r):(r?(s[u]=i[u],le(t,e,u,n[u])):s[u]=n[u],l++):null==n[u]||r||le(t,e,u,n[u]));l>0\&\&t.animate(e,!1).when(null==o?500:o,s).delay(a||0)}function le(t,e,i,n){if(e){var o={};o[e]={},o[e][i]=n,t.attr(o)}else t.attr(i,n)}function ue(t,e,i,n){i<0\&\&(t+=i,i=-i),n<0\&\&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function he(t){for(var e=0;t>=Uw;)e|=1\&t,t>>=1;return t+e}function ce(t,e,i,n){var o=e+1;if(o===i)return 1;if(n(t[o++],t[e])<0){for(;o<i\&\&n(t[o],t[o-1])<0;)o++;de(t,e,o)}else for(;o<i\&\&n(t[o],t[o-1])>=0;)o++;return o-e}function de(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}function fe(t,e,i,n,o){for(n===e\&\&n++;n<i;n++){for(var a,r=t[n],s=e,l=n;s<l;)o(r,t[a=s+l>>>1])<0?l=a:s=a+1;var u=n-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=r}}function pe(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])>0){for(s=n-o;l<s\&\&a(t,e[i+o+l])>0;)r=l,(l=1+(l<<1))<=0\&\&(l=s);l>s\&\&(l=s),r+=o,l+=o}else{for(s=o+1;l<s\&\&a(t,e[i+o-l])<=0;)r=l,(l=1+(l<<1))<=0\&\&(l=s);l>s\&\&(l=s);var u=r;r=o-l,l=o-u}for(r++;r<l;){var h=r+(l-r>>>1);a(t,e[i+h])>0?r=h+1:l=h}return l}function ge(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])<0){for(s=o+1;l<s\&\&a(t,e[i+o-l])<0;)r=l,(l=1+(l<<1))<=0\&\&(l=s);l>s\&\&(l=s);var u=r;r=o-l,l=o-u}else{for(s=n-o;l<s\&\&a(t,e[i+o+l])>=0;)r=l,(l=1+(l<<1))<=0\&\&(l=s);l>s\&\&(l=s),r+=o,l+=o}for(r++;r<l;){var h=r+(l-r>>>1);a(t,e[i+h])<0?l=h:r=h+1}return l}function me(t,e){function i(i){var s=a[i],u=r[i],h=a[i+1],c=r[i+1];r[i]=u+c,i===l-3\&\&(a[i+1]=a[i+2],r[i+1]=r[i+2]),l--;var d=ge(t[h],t,s,u,0,e);s+=d,0!==(u-=d)\&\&0!==(c=pe(t[s+u-1],t,h,c,c-1,e))\&\&(u<=c?n(s,u,h,c):o(s,u,h,c))}function n(i,n,o,a){var r=0;for(r=0;r<n;r++)u[r]=t[i+r];var l=0,h=o,c=i;if(t[c++]=t[h++],0!=--a)if(1!==n){for(var d,f,p,g=s;;){d=0,f=0,p=!1;do{if(e(t[h],u[l])<0){if(t[c++]=t[h++],f++,d=0,0==--a){p=!0;break}}else if(t[c++]=u[l++],d++,f=0,1==--n){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=ge(t[h],u,l,n,0,e))){for(r=0;r<d;r++)t[c+r]=u[l+r];if(c+=d,l+=d,(n-=d)<=1){p=!0;break}}if(t[c++]=t[h++],0==--a){p=!0;break}if(0!==(f=pe(u[l],t,h,a,0,e))){for(r=0;r<f;r++)t[c+r]=t[h+r];if(c+=f,h+=f,0===(a-=f)){p=!0;break}}if(t[c++]=u[l++],1==--n){p=!0;break}g--}while(d>=Xw||f>=Xw);if(p)break;g<0\&\&(g=0),g+=2}if((s=g)<1\&\&(s=1),1===n){for(r=0;r<a;r++)t[c+r]=t[h+r];t[c+a]=u[l]}else{if(0===n)throw new Error;for(r=0;r<n;r++)t[c+r]=u[l+r]}}else{for(r=0;r<a;r++)t[c+r]=t[h+r];t[c+a]=u[l]}else for(r=0;r<n;r++)t[c+r]=u[l+r]}function o(i,n,o,a){var r=0;for(r=0;r<a;r++)u[r]=t[o+r];var l=i+n-1,h=a-1,c=o+a-1,d=0,f=0;if(t[c--]=t[l--],0!=--n)if(1!==a){for(var p=s;;){var g=0,m=0,v=!1;do{if(e(u[h],t[l])<0){if(t[c--]=t[l--],g++,m=0,0==--n){v=!0;break}}else if(t[c--]=u[h--],m++,g=0,1==--a){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!=(g=n-ge(u[h],t,i,n,n-1,e))){for(n-=g,f=(c-=g)+1,d=(l-=g)+1,r=g-1;r>=0;r--)t[f+r]=t[d+r];if(0===n){v=!0;break}}if(t[c--]=u[h--],1==--a){v=!0;break}if(0!=(m=a-pe(t[l],u,0,a,a-1,e))){for(a-=m,f=(c-=m)+1,d=(h-=m)+1,r=0;r<m;r++)t[f+r]=u[d+r];if(a<=1){v=!0;break}}if(t[c--]=t[l--],0==--n){v=!0;break}p--}while(g>=Xw||m>=Xw);if(v)break;p<0\&\&(p=0),p+=2}if((s=p)<1\&\&(s=1),1===a){for(f=(c-=n)+1,d=(l-=n)+1,r=n-1;r>=0;r--)t[f+r]=t[d+r];t[c]=u[h]}else{if(0===a)throw new Error;for(d=c-(a-1),r=0;r<a;r++)t[d+r]=u[r]}}else{for(f=(c-=n)+1,d=(l-=n)+1,r=n-1;r>=0;r--)t[f+r]=t[d+r];t[c]=u[h]}else for(d=c-(a-1),r=0;r<a;r++)t[d+r]=u[r]}var a,r,s=Xw,l=0,u=[];a=[],r=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1\&\&r[t-1]<=r[t]+r[t+1]||t>=2\&\&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]\&\&t--;else if(r[t]>r[t+1])break;i(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0\&\&r[t-1]<r[t+1]\&\&t--,i(t)}},this.pushRun=function(t,e){a[l]=t,r[l]=e,l+=1}}function ve(t,e,i,n){i||(i=0),n||(n=t.length);var o=n-i;if(!(o<2)){var a=0;if(o<Uw)return a=ce(t,i,n,e),void fe(t,i,n,i+a,e);var r=new me(t,e),s=he(o);do{if((a=ce(t,i,n,e))<s){var l=o;l>s\&\&(l=s),fe(t,i,i+l,i+a,e),a=l}r.pushRun(i,a),r.mergeRuns(),o-=a,i+=a}while(0!==o);r.forceMergeRuns()}}function ye(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function xe(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,r=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,o=o*i.width+i.x,a=a*i.height+i.y,r=r*i.height+i.y),n=isNaN(n)?0:n,o=isNaN(o)?1:o,a=isNaN(a)?0:a,r=isNaN(r)?0:r,t.createLinearGradient(n,a,o,r)}function _e(t,e,i){var n=i.width,o=i.height,a=Math.min(n,o),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(r=r*n+i.x,s=s*o+i.y,l*=a),t.createRadialGradient(r,s,0,r,s,l)}function we(){return!1}function be(t,e,i){var n=Y_(),o=e.getWidth(),a=e.getHeight(),r=n.style;return r\&\&(r.position=\"absolute\",r.left=0,r.top=0,r.width=o+\"px\",r.height=a+\"px\",n.setAttribute(\"data-zr-dom-id\",t)),n.width=o*i,n.height=a*i,n}function Se(t){if(\"string\"==typeof t){var e=ob.get(t);return e\&\&e.image}return t}function Me(t,e,i,n,o){if(t){if(\"string\"==typeof t){if(e\&\&e.__zrImageSrc===t||!i)return e;var a=ob.get(t),r={hostEl:i,cb:n,cbPayload:o};return a?!Te(e=a.image)\&\&a.pending.push(r):(!e\&\&(e=new Image),e.onload=e.onerror=Ie,ob.put(t,e.__cachedImgObj={image:e,pending:[r]}),e.src=e.__zrImageSrc=t),e}return t}return e}function Ie(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n\&\&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function Te(t){return t\&\&t.width\&\&t.height}function Ae(t,e){var i=t+\":\"+(e=e||ub);if(ab[i])return ab[i];for(var n=(t+\"\").split(\"\\n\"),o=0,a=0,r=n.length;a<r;a++)o=Math.max(Ve(n[a],e).width,o);return rb>sb\&\&(rb=0,ab={}),rb++,ab[i]=o,o}function De(t,e,i,n,o,a,r){return a?Le(t,e,i,n,o,a,r):Ce(t,e,i,n,o,r)}function Ce(t,e,i,n,o,a){var r=Ge(t,e,o,a),s=Ae(t,e);o\&\&(s+=o[1]+o[3]);var l=r.outerHeight,u=new ue(ke(0,s,i),Pe(0,l,n),s,l);return u.lineHeight=r.lineHeight,u}function Le(t,e,i,n,o,a,r){var s=Fe(t,{rich:a,truncate:r,font:e,textAlign:i,textPadding:o}),l=s.outerWidth,u=s.outerHeight;return new ue(ke(0,l,i),Pe(0,u,n),l,u)}function ke(t,e,i){return\"right\"===i?t-=e:\"center\"===i\&\&(t-=e/2),t}function Pe(t,e,i){return\"middle\"===i?t-=e/2:\"bottom\"===i\&\&(t-=e),t}function Ne(t,e,i){var n=e.x,o=e.y,a=e.height,r=e.width,s=a/2,l=\"left\",u=\"top\";switch(t){case\"left\":n-=i,o+=s,l=\"right\",u=\"middle\";break;case\"right\":n+=i+r,o+=s,u=\"middle\";break;case\"top\":n+=r/2,o-=i,l=\"center\",u=\"bottom\";break;case\"bottom\":n+=r/2,o+=a+i,l=\"center\";break;case\"inside\":n+=r/2,o+=s,l=\"center\",u=\"middle\";break;case\"insideLeft\":n+=i,o+=s,u=\"middle\";break;case\"insideRight\":n+=r-i,o+=s,l=\"right\",u=\"middle\";break;case\"insideTop\":n+=r/2,o+=i,l=\"center\";break;case\"insideBottom\":n+=r/2,o+=a-i,l=\"center\",u=\"bottom\";break;case\"insideTopLeft\":n+=i,o+=i;break;case\"insideTopRight\":n+=r-i,o+=i,l=\"right\";break;case\"insideBottomLeft\":n+=i,o+=a-i,u=\"bottom\";break;case\"insideBottomRight\":n+=r-i,o+=a-i,l=\"right\",u=\"bottom\"}return{x:n,y:o,textAlign:l,textVerticalAlign:u}}function Oe(t,e,i,n,o){if(!e)return\"\";var a=(t+\"\").split(\"\\n\");o=Ee(e,i,n,o);for(var r=0,s=a.length;r<s;r++)a[r]=Re(a[r],o);return a.join(\"\\n\")}function Ee(t,e,i,n){(n=a({},n)).font=e;var i=A(i,\"...\");n.maxIterations=A(n.maxIterations,2);var o=n.minChar=A(n.minChar,0);n.cnCharWidth=Ae(\"å›½\",e);var r=n.ascCharWidth=Ae(\"a\",e);n.placeholder=A(n.placeholder,\"\");for(var s=t=Math.max(0,t-1),l=0;l<o\&\&s>=r;l++)s-=r;var u=Ae(i);return u>s\&\&(i=\"\",u=0),s=t-u,n.ellipsis=i,n.ellipsisWidth=u,n.contentWidth=s,n.containerWidth=t,n}function Re(t,e){var i=e.containerWidth,n=e.font,o=e.contentWidth;if(!i)return\"\";var a=Ae(t,n);if(a<=i)return t;for(var r=0;;r++){if(a<=o||r>=e.maxIterations){t+=e.ellipsis;break}var s=0===r?ze(t,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*o/a):0;a=Ae(t=t.substr(0,s),n)}return\"\"===t\&\&(t=e.placeholder),t}function ze(t,e,i,n){for(var o=0,a=0,r=t.length;a<r\&\&o<e;a++){var s=t.charCodeAt(a);o+=0<=s\&\&s<=127?i:n}return a}function Be(t){return Ae(\"å›½\",t)}function Ve(t,e){return hb.measureText(t,e)}function Ge(t,e,i,n){null!=t\&\&(t+=\"\");var o=Be(e),a=t?t.split(\"\\n\"):[],r=a.length*o,s=r;if(i\&\&(s+=i[0]+i[2]),t\&\&n){var l=n.outerHeight,u=n.outerWidth;if(null!=l\&\&s>l)t=\"\",a=[];else if(null!=u)for(var h=Ee(u-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),c=0,d=a.length;c<d;c++)a[c]=Re(a[c],h)}return{lines:a,height:r,outerHeight:s,lineHeight:o}}function Fe(t,e){var i={lines:[],width:0,height:0};if(null!=t\&\&(t+=\"\"),!t)return i;for(var n,o=lb.lastIndex=0;null!=(n=lb.exec(t));){var a=n.index;a>o\&\&We(i,t.substring(o,a)),We(i,n[2],n[1]),o=lb.lastIndex}o<t.length\&\&We(i,t.substring(o,t.length));var r=i.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,d=c\&\&c.outerWidth,f=c\&\&c.outerHeight;h\&\&(null!=d\&\&(d-=h[1]+h[3]),null!=f\&\&(f-=h[0]+h[2]));for(L=0;L<r.length;L++){for(var p=r[L],g=0,m=0,v=0;v<p.tokens.length;v++){var y=(k=p.tokens[v]).styleName\&\&e.rich[k.styleName]||{},x=k.textPadding=y.textPadding,_=k.font=y.font||e.font,w=k.textHeight=A(y.textHeight,Be(_));if(x\&\&(w+=x[0]+x[2]),k.height=w,k.lineHeight=D(y.textLineHeight,e.textLineHeight,w),k.textAlign=y\&\&y.textAlign||e.textAlign,k.textVerticalAlign=y\&\&y.textVerticalAlign||\"middle\",null!=f\&\&s+k.lineHeight>f)return{lines:[],width:0,height:0};k.textWidth=Ae(k.text,_);var b=y.textWidth,S=null==b||\"auto\"===b;if(\"string\"==typeof b\&\&\"%\"===b.charAt(b.length-1))k.percentWidth=b,u.push(k),b=0;else{if(S){b=k.textWidth;var M=y.textBackgroundColor,I=M\&\&M.image;I\&\&Te(I=Se(I))\&\&(b=Math.max(b,I.width*w/I.height))}var T=x?x[1]+x[3]:0;b+=T;var C=null!=d?d-m:null;null!=C\&\&C<b\&\&(!S||C<T?(k.text=\"\",k.textWidth=b=0):(k.text=Oe(k.text,C-T,_,c.ellipsis,{minChar:c.minChar}),k.textWidth=Ae(k.text,_),b=k.textWidth+T))}m+=k.width=b,y\&\&(g=Math.max(g,k.lineHeight))}p.width=m,p.lineHeight=g,s+=g,l=Math.max(l,m)}i.outerWidth=i.width=A(e.textWidth,l),i.outerHeight=i.height=A(e.textHeight,s),h\&\&(i.outerWidth+=h[1]+h[3],i.outerHeight+=h[0]+h[2]);for(var L=0;L<u.length;L++){var k=u[L],P=k.percentWidth;k.width=parseInt(P,10)/100*l}return i}function We(t,e,i){for(var n=\"\"===e,o=e.split(\"\\n\"),a=t.lines,r=0;r<o.length;r++){var s=o[r],l={styleName:i,text:s,isLineHolder:!s\&\&!n};if(r)a.push({tokens:[l]});else{var u=(a[a.length-1]||(a[0]={tokens:[]})).tokens,h=u.length;1===h\&\&u[0].isLineHolder?u[0]=l:(s||!h||n)\&\&u.push(l)}}}function He(t){var e=(t.fontSize||t.fontFamily)\&\&[t.fontStyle,t.fontWeight,(t.fontSize||12)+\"px\",t.fontFamily||\"sans-serif\"].join(\" \");return e\&\&P(e)||t.textFont||t.font}function Ze(t,e){var i,n,o,a,r=e.x,s=e.y,l=e.width,u=e.height,h=e.r;l<0\&\&(r+=l,l=-l),u<0\&\&(s+=u,u=-u),\"number\"==typeof h?i=n=o=a=h:h instanceof Array?1===h.length?i=n=o=a=h[0]:2===h.length?(i=o=h[0],n=a=h[1]):3===h.length?(i=h[0],n=a=h[1],o=h[2]):(i=h[0],n=h[1],o=h[2],a=h[3]):i=n=o=a=0;var c;i+n>l\&\&(i*=l/(c=i+n),n*=l/c),o+a>l\&\&(o*=l/(c=o+a),a*=l/c),n+o>u\&\&(n*=u/(c=n+o),o*=u/c),i+a>u\&\&(i*=u/(c=i+a),a*=u/c),t.moveTo(r+i,s),t.lineTo(r+l-n,s),0!==n\&\&t.arc(r+l-n,s+n,n,-Math.PI/2,0),t.lineTo(r+l,s+u-o),0!==o\&\&t.arc(r+l-o,s+u-o,o,0,Math.PI/2),t.lineTo(r+a,s+u),0!==a\&\&t.arc(r+a,s+u-a,a,Math.PI/2,Math.PI),t.lineTo(r,s+i),0!==i\&\&t.arc(r+i,s+i,i,Math.PI,1.5*Math.PI)}function Ue(t){return Xe(t),d(t.rich,Xe),t}function Xe(t){if(t){t.font=He(t);var e=t.textAlign;\"middle\"===e\&\&(e=\"center\"),t.textAlign=null==e||cb[e]?e:\"left\";var i=t.textVerticalAlign||t.textBaseline;\"center\"===i\&\&(i=\"middle\"),t.textVerticalAlign=null==i||db[i]?i:\"top\",t.textPadding\&\&(t.textPadding=L(t.textPadding))}}function je(t,e,i,n,o,a){n.rich?qe(t,e,i,n,o):Ye(t,e,i,n,o,a)}function Ye(t,e,i,n,o,a){var r=a\&\&a.style,s=r\&\&\"text\"===a.type,l=n.font||ub;s\&\&l===(r.font||ub)||(e.font=l);var u=t.__computedFont;t.__styleFont!==l\&\&(t.__styleFont=l,u=t.__computedFont=e.font);var h=n.textPadding,c=t.__textCotentBlock;c\&\&!t.__dirtyText||(c=t.__textCotentBlock=Ge(i,u,h,n.truncate));var d=c.outerHeight,f=c.lines,p=c.lineHeight,g=ii(d,n,o),m=g.baseX,v=g.baseY,y=g.textAlign||\"left\",x=g.textVerticalAlign;\$e(e,n,o,m,v);var _=Pe(v,d,x),w=m,b=_,S=Qe(n);if(S||h){var M=Ae(i,u);h\&\&(M+=h[1]+h[3]);var I=ke(m,M,y);S\&\&ti(t,e,n,I,_,M,d),h\&\&(w=si(m,y,h),b+=h[0])}e.textAlign=y,e.textBaseline=\"middle\";for(R=0;R<fb.length;R++){var T=fb[R],A=T[0],D=T[1],C=n[A];s\&\&C===r[A]||(e[D]=qw(e,D,C||T[2]))}b+=p/2;var L=n.textStrokeWidth,k=s?r.textStrokeWidth:null,P=!s||L!==k,N=!s||P||n.textStroke!==r.textStroke,O=oi(n.textStroke,L),E=ai(n.textFill);if(O\&\&(P\&\&(e.lineWidth=L),N\&\&(e.strokeStyle=O)),E\&\&(s\&\&n.textFill===r.textFill\&\&!r.textBackgroundColor||(e.fillStyle=E)),1===f.length)O\&\&e.strokeText(f[0],w,b),E\&\&e.fillText(f[0],w,b);else for(var R=0;R<f.length;R++)O\&\&e.strokeText(f[R],w,b),E\&\&e.fillText(f[R],w,b),b+=p}function qe(t,e,i,n,o){var a=t.__textCotentBlock;a\&\&!t.__dirtyText||(a=t.__textCotentBlock=Fe(i,n)),Ke(t,e,a,n,o)}function Ke(t,e,i,n,o){var a=i.width,r=i.outerWidth,s=i.outerHeight,l=n.textPadding,u=ii(s,n,o),h=u.baseX,c=u.baseY,d=u.textAlign,f=u.textVerticalAlign;\$e(e,n,o,h,c);var p=ke(h,r,d),g=Pe(c,s,f),m=p,v=g;l\&\&(m+=l[3],v+=l[0]);var y=m+a;Qe(n)\&\&ti(t,e,n,p,g,r,s);for(var x=0;x<i.lines.length;x++){for(var _,w=i.lines[x],b=w.tokens,S=b.length,M=w.lineHeight,I=w.width,T=0,A=m,D=y,C=S-1;T<S\&\&(!(_=b[T]).textAlign||\"left\"===_.textAlign);)Je(t,e,_,n,M,v,A,\"left\"),I-=_.width,A+=_.width,T++;for(;C>=0\&\&\"right\"===(_=b[C]).textAlign;)Je(t,e,_,n,M,v,D,\"right\"),I-=_.width,D-=_.width,C--;for(A+=(a-(A-m)-(y-D)-I)/2;T<=C;)Je(t,e,_=b[T],n,M,v,A+_.width/2,\"center\"),A+=_.width,T++;v+=M}}function \$e(t,e,i,n,o){if(i\&\&e.textRotation){var a=e.textOrigin;\"center\"===a?(n=i.width/2+i.x,o=i.height/2+i.y):a\&\&(n=a[0]+i.x,o=a[1]+i.y),t.translate(n,o),t.rotate(-e.textRotation),t.translate(-n,-o)}}function Je(t,e,i,n,o,a,r,s){var l=n.rich[i.styleName]||{};l.text=i.text;var u=i.textVerticalAlign,h=a+o/2;\"top\"===u?h=a+i.height/2:\"bottom\"===u\&\&(h=a+o-i.height/2),!i.isLineHolder\&\&Qe(l)\&\&ti(t,e,l,\"right\"===s?r-i.width:\"center\"===s?r-i.width/2:r,h-i.height/2,i.width,i.height);var c=i.textPadding;c\&\&(r=si(r,s,c),h-=i.height/2-c[2]-i.textHeight/2),ni(e,\"shadowBlur\",D(l.textShadowBlur,n.textShadowBlur,0)),ni(e,\"shadowColor\",l.textShadowColor||n.textShadowColor||\"transparent\"),ni(e,\"shadowOffsetX\",D(l.textShadowOffsetX,n.textShadowOffsetX,0)),ni(e,\"shadowOffsetY\",D(l.textShadowOffsetY,n.textShadowOffsetY,0)),ni(e,\"textAlign\",s),ni(e,\"textBaseline\",\"middle\"),ni(e,\"font\",i.font||ub);var d=oi(l.textStroke||n.textStroke,p),f=ai(l.textFill||n.textFill),p=A(l.textStrokeWidth,n.textStrokeWidth);d\&\&(ni(e,\"lineWidth\",p),ni(e,\"strokeStyle\",d),e.strokeText(i.text,r,h)),f\&\&(ni(e,\"fillStyle\",f),e.fillText(i.text,r,h))}function Qe(t){return t.textBackgroundColor||t.textBorderWidth\&\&t.textBorderColor}function ti(t,e,i,n,o,a,r){var s=i.textBackgroundColor,l=i.textBorderWidth,u=i.textBorderColor,h=_(s);if(ni(e,\"shadowBlur\",i.textBoxShadowBlur||0),ni(e,\"shadowColor\",i.textBoxShadowColor||\"transparent\"),ni(e,\"shadowOffsetX\",i.textBoxShadowOffsetX||0),ni(e,\"shadowOffsetY\",i.textBoxShadowOffsetY||0),h||l\&\&u){e.beginPath();var c=i.textBorderRadius;c?Ze(e,{x:n,y:o,width:a,height:r,r:c}):e.rect(n,o,a,r),e.closePath()}if(h)if(ni(e,\"fillStyle\",s),null!=i.fillOpacity){f=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=f}else e.fill();else if(x(s))ni(e,\"fillStyle\",s(i)),e.fill();else if(w(s)){var d=s.image;(d=Me(d,null,t,ei,s))\&\&Te(d)\&\&e.drawImage(d,n,o,a,r)}if(l\&\&u)if(ni(e,\"lineWidth\",l),ni(e,\"strokeStyle\",u),null!=i.strokeOpacity){var f=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=f}else e.stroke()}function ei(t,e){e.image=t}function ii(t,e,i){var n=e.x||0,o=e.y||0,a=e.textAlign,r=e.textVerticalAlign;if(i){var s=e.textPosition;if(s instanceof Array)n=i.x+ri(s[0],i.width),o=i.y+ri(s[1],i.height);else{var l=Ne(s,i,e.textDistance);n=l.x,o=l.y,a=a||l.textAlign,r=r||l.textVerticalAlign}var u=e.textOffset;u\&\&(n+=u[0],o+=u[1])}return{baseX:n,baseY:o,textAlign:a,textVerticalAlign:r}}function ni(t,e,i){return t[e]=qw(t,e,i),t[e]}function oi(t,e){return null==t||e<=0||\"transparent\"===t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function ai(t){return null==t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function ri(t,e){return\"string\"==typeof t?t.lastIndexOf(\"%\")>=0?parseFloat(t)/100*e:parseFloat(t):t}function si(t,e,i){return\"right\"===e?t-i[1]:\"center\"===e?t+i[3]/2-i[1]/2:t+i[3]}function li(t,e){return null!=t\&\&(t||e.textBackgroundColor||e.textBorderWidth\&\&e.textBorderColor||e.textPadding)}function ui(t){t=t||{},Gw.call(this,t);for(var e in t)t.hasOwnProperty(e)\&\&\"style\"!==e\&\&(this[e]=t[e]);this.style=new \$w(t.style,this),this._rect=null,this.__clipPaths=[]}function hi(t){ui.call(this,t)}function ci(t){return parseInt(t,10)}function di(t){return!!t\&\&(!!t.__builtin__||\"function\"==typeof t.resize\&\&\"function\"==typeof t.refresh)}function fi(t,e,i){return mb.copy(t.getBoundingRect()),t.transform\&\&mb.applyTransform(t.transform),vb.width=e,vb.height=i,!mb.intersect(vb)}function pi(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function gi(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}function mi(t,e){var i=document.createElement(\"div\");return i.style.cssText=[\"position:relative\",\"overflow:hidden\",\"width:\"+t+\"px\",\"height:\"+e+\"px\",\"padding:0\",\"margin:0\",\"border-width:0\"].join(\";\")+\";\",i}function vi(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function yi(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function xi(t){return\"mousewheel\"===t\&\&z_.browser.firefox?\"DOMMouseScroll\":t}function _i(t,e,i){var n=t._gestureMgr;\"start\"===i\&\&n.clear();var o=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if(\"end\"===i\&\&n.clear(),o){var a=o.type;e.gestureEvent=a,t.handler.dispatchToElement({target:o.target},a,o.event)}}function wi(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function bi(t){var e=t.pointerType;return\"pen\"===e||\"touch\"===e}function Si(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}d(Sb,function(e){t._handlers[e]=m(Tb[e],t)}),d(Ib,function(e){t._handlers[e]=m(Tb[e],t)}),d(bb,function(i){t._handlers[i]=e(Tb[i],t)})}function Mi(t){function e(e,i){d(e,function(e){ut(t,xi(e),i._handlers[e])},i)}aw.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new _b,this._handlers={},Si(this),z_.pointerEventsSupported?e(Ib,this):(z_.touchEventsSupported\&\&e(Sb,this),e(bb,this))}function Ii(t,e){var i=new kb(E_(),t,e);return Lb[i.id]=i,i}function Ti(t,e){Cb[t]=e}function Ai(t){delete Lb[t]}function Di(t){return t instanceof Array?t:null==t?[]:[t]}function Ci(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,o=i.length;n<o;n++){var a=i[n];!t.emphasis[e].hasOwnProperty(a)\&\&t[e].hasOwnProperty(a)\&\&(t.emphasis[e][a]=t[e][a])}}}function Li(t){return!Ob(t)||Eb(t)||t instanceof Date?t:t.value}function ki(t){return Ob(t)\&\&!(t instanceof Array)}function Pi(t,e){e=(e||[]).slice();var i=f(t||[],function(t,e){return{exist:t}});return Nb(e,function(t,n){if(Ob(t)){for(o=0;o<i.length;o++)if(!i[o].option\&\&null!=t.id\&\&i[o].exist.id===t.id+\"\")return i[o].option=t,void(e[n]=null);for(var o=0;o<i.length;o++){var a=i[o].exist;if(!(i[o].option||null!=a.id\&\&null!=t.id||null==t.name||Ei(t)||Ei(a)||a.name!==t.name+\"\"))return i[o].option=t,void(e[n]=null)}}}),Nb(e,function(t,e){if(Ob(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option\&\&!Ei(o)\&\&null==t.id){i[n].option=t;break}}n>=i.length\&\&i.push({option:t})}}),i}function Ni(t){var e=R();Nb(t,function(t,i){var n=t.exist;n\&\&e.set(n.id,t)}),Nb(t,function(t,i){var n=t.option;k(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,\"id duplicates: \"+(n\&\&n.id)),n\&\&null!=n.id\&\&e.set(n.id,t),!t.keyInfo\&\&(t.keyInfo={})}),Nb(t,function(t,i){var n=t.exist,o=t.option,a=t.keyInfo;if(Ob(o)){if(a.name=null!=o.name?o.name+\"\":n?n.name:Rb+i,n)a.id=n.id;else if(null!=o.id)a.id=o.id+\"\";else{var r=0;do{a.id=\"\\0\"+a.name+\"\\0\"+r++}while(e.get(a.id))}e.set(a.id,t)}})}function Oi(t){var e=t.name;return!(!e||!e.indexOf(Rb))}function Ei(t){return Ob(t)\&\&t.id\&\&0===(t.id+\"\").indexOf(\"\\0_ec_\\0\")}function Ri(t,e){function i(t,e,i){for(var n=0,o=t.length;n<o;n++)for(var a=t[n].seriesId,r=Di(t[n].dataIndex),s=i\&\&i[a],l=0,u=r.length;l<u;l++){var h=r[l];s\&\&s[h]?s[h]=null:(e[a]||(e[a]={}))[h]=1}}function n(t,e){var i=[];for(var o in t)if(t.hasOwnProperty(o)\&\&null!=t[o])if(e)i.push(+o);else{var a=n(t[o],!0);a.length\&\&i.push({seriesId:o,dataIndex:a})}return i}var o={},a={};return i(t||[],o),i(e||[],a,o),[n(o),n(a)]}function zi(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?y(e.dataIndex)?f(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?y(e.name)?f(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function Bi(){var t=\"__\\0ec_inner_\"+Bb+++\"_\"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function Vi(t,e,i){if(_(e)){var n={};n[e+\"Index\"]=0,e=n}var o=i\&\&i.defaultMainType;!o||Gi(e,o+\"Index\")||Gi(e,o+\"Id\")||Gi(e,o+\"Name\")||(e[o+\"Index\"]=0);var a={};return Nb(e,function(n,o){var n=e[o];if(\"dataIndex\"!==o\&\&\"dataIndexInside\"!==o){var r=o.match(/^(\\w+)(Index|Id|Name)\$/)||[],s=r[1],u=(r[2]||\"\").toLowerCase();if(!(!s||!u||null==n||\"index\"===u\&\&\"none\"===n||i\&\&i.includeMainTypes\&\&l(i.includeMainTypes,s)<0)){var h={mainType:s};\"index\"===u\&\&\"all\"===n||(h[u]=n);var c=t.queryComponents(h);a[s+\"Models\"]=c,a[s+\"Model\"]=c[0]}}else a[o]=n}),a}function Gi(t,e){return t\&\&t.hasOwnProperty(e)}function Fi(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function Wi(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Hi(t){return\"auto\"===t?z_.domSupported?\"html\":\"richText\":t||\"html\"}function Zi(t){var e={main:\"\",sub:\"\"};return t\&\&(t=t.split(Vb),e.main=t[0]||\"\",e.sub=t[1]||\"\"),e}function Ui(t){k(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?\$/.test(t),\'componentType \"\'+t+\'\" illegal\')}function Xi(t,e){t.\$constructor=t,t.extend=function(t){var e=this,i=function(){t.\$constructor?t.\$constructor.apply(this,arguments):e.apply(this,arguments)};return a(i.prototype,t),i.extend=this.extend,i.superCall=Yi,i.superApply=qi,u(i,this),i.superClass=e,i}}function ji(t){var e=[\"__\\0is_clz\",Fb++,Math.random().toFixed(3)].join(\"_\");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Yi(t,e){var i=C(arguments,2);return this.superClass.prototype[e].apply(t,i)}function qi(t,e,i){return this.superClass.prototype[e].apply(t,i)}function Ki(t,e){function i(t){var e=n[t.main];return e\&\&e[Gb]||((e=n[t.main]={})[Gb]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){return e\&\&(Ui(e),(e=Zi(e)).sub?e.sub!==Gb\&\&(i(e)[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,i){var o=n[t];if(o\&\&o[Gb]\&\&(o=e?o[e]:null),i\&\&!o)throw new Error(e?\"Component \"+t+\".\"+(e||\"\")+\" not exists. Load it first.\":t+\".type should be specified.\");return o},t.getClassesByMainType=function(t){t=Zi(t);var e=[],i=n[t.main];return i\&\&i[Gb]?d(i,function(t,i){i!==Gb\&\&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=Zi(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return d(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=Zi(t);var e=n[t.main];return e\&\&e[Gb]},t.parseClassType=Zi,e.registerWhenExtend){var o=t.extend;o\&\&(t.extend=function(e){var i=o.call(this,e);return t.registerClass(i,e.type)})}return t}function \$i(t){return t>-qb\&\&t<qb}function Ji(t){return t>qb||t<-qb}function Qi(t,e,i,n,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*n+3*a*i)}function tn(t,e,i,n,o){var a=1-o;return 3*(((e-t)*a+2*(i-e)*o)*a+(n-i)*o*o)}function en(t,e,i,n,o,a){var r=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),u=t-o,h=s*s-3*r*l,c=s*l-9*r*u,d=l*l-3*s*u,f=0;if(\$i(h)\&\&\$i(c))\$i(s)?a[0]=0:(M=-l/s)>=0\&\&M<=1\&\&(a[f++]=M);else{var p=c*c-4*h*d;if(\$i(p)){var g=c/h,m=-g/2;(M=-s/r+g)>=0\&\&M<=1\&\&(a[f++]=M),m>=0\&\&m<=1\&\&(a[f++]=m)}else if(p>0){var v=Yb(p),y=h*s+1.5*r*(-c+v),x=h*s+1.5*r*(-c-v);(M=(-s-((y=y<0?-jb(-y,Jb):jb(y,Jb))+(x=x<0?-jb(-x,Jb):jb(x,Jb))))/(3*r))>=0\&\&M<=1\&\&(a[f++]=M)}else{var _=(2*h*s-3*r*c)/(2*Yb(h*h*h)),w=Math.acos(_)/3,b=Yb(h),S=Math.cos(w),M=(-s-2*b*S)/(3*r),m=(-s+b*(S+\$b*Math.sin(w)))/(3*r),I=(-s+b*(S-\$b*Math.sin(w)))/(3*r);M>=0\&\&M<=1\&\&(a[f++]=M),m>=0\&\&m<=1\&\&(a[f++]=m),I>=0\&\&I<=1\&\&(a[f++]=I)}}return f}function nn(t,e,i,n,o){var a=6*i-12*e+6*t,r=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(\$i(r))Ji(a)\&\&(c=-s/a)>=0\&\&c<=1\&\&(o[l++]=c);else{var u=a*a-4*r*s;if(\$i(u))o[0]=-a/(2*r);else if(u>0){var h=Yb(u),c=(-a+h)/(2*r),d=(-a-h)/(2*r);c>=0\&\&c<=1\&\&(o[l++]=c),d>=0\&\&d<=1\&\&(o[l++]=d)}}return l}function on(t,e,i,n,o,a){var r=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,u=(s-r)*o+r,h=(l-s)*o+s,c=(h-u)*o+u;a[0]=t,a[1]=r,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=n}function an(t,e,i,n,o,a,r,s,l,u,h){var c,d,f,p,g,m=.005,v=1/0;Qb[0]=l,Qb[1]=u;for(var y=0;y<1;y+=.05)tS[0]=Qi(t,i,o,r,y),tS[1]=Qi(e,n,a,s,y),(p=iw(Qb,tS))<v\&\&(c=y,v=p);v=1/0;for(var x=0;x<32\&\&!(m<Kb);x++)d=c-m,f=c+m,tS[0]=Qi(t,i,o,r,d),tS[1]=Qi(e,n,a,s,d),p=iw(tS,Qb),d>=0\&\&p<v?(c=d,v=p):(eS[0]=Qi(t,i,o,r,f),eS[1]=Qi(e,n,a,s,f),g=iw(eS,Qb),f<=1\&\&g<v?(c=f,v=g):m*=.5);return h\&\&(h[0]=Qi(t,i,o,r,c),h[1]=Qi(e,n,a,s,c)),Yb(v)}function rn(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function sn(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function ln(t,e,i,n,o){var a=t-2*e+i,r=2*(e-t),s=t-n,l=0;if(\$i(a))Ji(r)\&\&(c=-s/r)>=0\&\&c<=1\&\&(o[l++]=c);else{var u=r*r-4*a*s;if(\$i(u))(c=-r/(2*a))>=0\&\&c<=1\&\&(o[l++]=c);else if(u>0){var h=Yb(u),c=(-r+h)/(2*a),d=(-r-h)/(2*a);c>=0\&\&c<=1\&\&(o[l++]=c),d>=0\&\&d<=1\&\&(o[l++]=d)}}return l}function un(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function hn(t,e,i,n,o){var a=(e-t)*n+t,r=(i-e)*n+e,s=(r-a)*n+a;o[0]=t,o[1]=a,o[2]=s,o[3]=s,o[4]=r,o[5]=i}function cn(t,e,i,n,o,a,r,s,l){var u,h=.005,c=1/0;Qb[0]=r,Qb[1]=s;for(var d=0;d<1;d+=.05)tS[0]=rn(t,i,o,d),tS[1]=rn(e,n,a,d),(m=iw(Qb,tS))<c\&\&(u=d,c=m);c=1/0;for(var f=0;f<32\&\&!(h<Kb);f++){var p=u-h,g=u+h;tS[0]=rn(t,i,o,p),tS[1]=rn(e,n,a,p);var m=iw(tS,Qb);if(p>=0\&\&m<c)u=p,c=m;else{eS[0]=rn(t,i,o,g),eS[1]=rn(e,n,a,g);var v=iw(eS,Qb);g<=1\&\&v<c?(u=g,c=v):h*=.5}}return l\&\&(l[0]=rn(t,i,o,u),l[1]=rn(e,n,a,u)),Yb(c)}function dn(t,e,i){if(0!==t.length){var n,o=t[0],a=o[0],r=o[0],s=o[1],l=o[1];for(n=1;n<t.length;n++)o=t[n],a=iS(a,o[0]),r=nS(r,o[0]),s=iS(s,o[1]),l=nS(l,o[1]);e[0]=a,e[1]=s,i[0]=r,i[1]=l}}function fn(t,e,i,n,o,a){o[0]=iS(t,i),o[1]=iS(e,n),a[0]=nS(t,i),a[1]=nS(e,n)}function pn(t,e,i,n,o,a,r,s,l,u){var h,c=nn,d=Qi,f=c(t,i,o,r,hS);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<f;h++){var p=d(t,i,o,r,hS[h]);l[0]=iS(p,l[0]),u[0]=nS(p,u[0])}for(f=c(e,n,a,s,cS),h=0;h<f;h++){var g=d(e,n,a,s,cS[h]);l[1]=iS(g,l[1]),u[1]=nS(g,u[1])}l[0]=iS(t,l[0]),u[0]=nS(t,u[0]),l[0]=iS(r,l[0]),u[0]=nS(r,u[0]),l[1]=iS(e,l[1]),u[1]=nS(e,u[1]),l[1]=iS(s,l[1]),u[1]=nS(s,u[1])}function gn(t,e,i,n,o,a,r,s){var l=un,u=rn,h=nS(iS(l(t,i,o),1),0),c=nS(iS(l(e,n,a),1),0),d=u(t,i,o,h),f=u(e,n,a,c);r[0]=iS(t,o,d),r[1]=iS(e,a,f),s[0]=nS(t,o,d),s[1]=nS(e,a,f)}function mn(t,e,i,n,o,a,r,s,l){var u=tt,h=et,c=Math.abs(o-a);if(c%rS<1e-4\&\&c>1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(sS[0]=aS(o)*i+t,sS[1]=oS(o)*n+e,lS[0]=aS(a)*i+t,lS[1]=oS(a)*n+e,u(s,sS,lS),h(l,sS,lS),(o%=rS)<0\&\&(o+=rS),(a%=rS)<0\&\&(a+=rS),o>a\&\&!r?a+=rS:o<a\&\&r\&\&(o+=rS),r){var d=a;a=o,o=d}for(var f=0;f<a;f+=Math.PI/2)f>o\&\&(uS[0]=aS(f)*i+t,uS[1]=oS(f)*n+e,u(s,uS,s),h(l,uS,l))}function vn(t,e,i,n,o,a,r){if(0===o)return!1;var s=o,l=0,u=t;if(r>e+s\&\&r>n+s||r<e-s\&\&r<n-s||a>t+s\&\&a>i+s||a<t-s\&\&a<i-s)return!1;if(t===i)return Math.abs(a-t)<=s/2;var h=(l=(e-n)/(t-i))*a-r+(u=(t*n-i*e)/(t-i));return h*h/(l*l+1)<=s/2*s/2}function yn(t,e,i,n,o,a,r,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c\&\&h>n+c\&\&h>a+c\&\&h>s+c||h<e-c\&\&h<n-c\&\&h<a-c\&\&h<s-c||u>t+c\&\&u>i+c\&\&u>o+c\&\&u>r+c||u<t-c\&\&u<i-c\&\&u<o-c\&\&u<r-c)\&\&an(t,e,i,n,o,a,r,s,u,h,null)<=c/2}function xn(t,e,i,n,o,a,r,s,l){if(0===r)return!1;var u=r;return!(l>e+u\&\&l>n+u\&\&l>a+u||l<e-u\&\&l<n-u\&\&l<a-u||s>t+u\&\&s>i+u\&\&s>o+u||s<t-u\&\&s<i-u\&\&s<o-u)\&\&cn(t,e,i,n,o,a,s,l,null)<=u/2}function _n(t){return(t%=IS)<0\&\&(t+=IS),t}function wn(t,e,i,n,o,a,r,s,l){if(0===r)return!1;var u=r;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>i||h+u<i)return!1;if(Math.abs(n-o)%TS<1e-4)return!0;if(a){var c=n;n=_n(o),o=_n(c)}else n=_n(n),o=_n(o);n>o\&\&(o+=TS);var d=Math.atan2(l,s);return d<0\&\&(d+=TS),d>=n\&\&d<=o||d+TS>=n\&\&d+TS<=o}function bn(t,e,i,n,o,a){if(a>e\&\&a>n||a<e\&\&a<n)return 0;if(n===e)return 0;var r=n<e?1:-1,s=(a-e)/(n-e);1!==s\&\&0!==s||(r=n<e?.5:-.5);var l=s*(i-t)+t;return l===o?1/0:l>o?r:0}function Sn(t,e){return Math.abs(t-e)<CS}function Mn(){var t=kS[0];kS[0]=kS[1],kS[1]=t}function In(t,e,i,n,o,a,r,s,l,u){if(u>e\&\&u>n\&\&u>a\&\&u>s||u<e\&\&u<n\&\&u<a\&\&u<s)return 0;var h=en(e,n,a,s,u,LS);if(0===h)return 0;for(var c,d,f=0,p=-1,g=0;g<h;g++){var m=LS[g],v=0===m||1===m?.5:1;Qi(t,i,o,r,m)<l||(p<0\&\&(p=nn(e,n,a,s,kS),kS[1]<kS[0]\&\&p>1\&\&Mn(),c=Qi(e,n,a,s,kS[0]),p>1\&\&(d=Qi(e,n,a,s,kS[1]))),2==p?m<kS[0]?f+=c<e?v:-v:m<kS[1]?f+=d<c?v:-v:f+=s<d?v:-v:m<kS[0]?f+=c<e?v:-v:f+=s<c?v:-v)}return f}function Tn(t,e,i,n,o,a,r,s){if(s>e\&\&s>n\&\&s>a||s<e\&\&s<n\&\&s<a)return 0;var l=ln(e,n,a,s,LS);if(0===l)return 0;var u=un(e,n,a);if(u>=0\&\&u<=1){for(var h=0,c=rn(e,n,a,u),d=0;d<l;d++){f=0===LS[d]||1===LS[d]?.5:1;(p=rn(t,i,o,LS[d]))<r||(LS[d]<u?h+=c<e?f:-f:h+=a<c?f:-f)}return h}var f=0===LS[0]||1===LS[0]?.5:1,p=rn(t,i,o,LS[0]);return p<r?0:a<e?f:-f}function An(t,e,i,n,o,a,r,s){if((s-=e)>i||s<-i)return 0;u=Math.sqrt(i*i-s*s);LS[0]=-u,LS[1]=u;var l=Math.abs(n-o);if(l<1e-4)return 0;if(l%DS<1e-4){n=0,o=DS;p=a?1:-1;return r>=LS[0]+t\&\&r<=LS[1]+t?p:0}if(a){var u=n;n=_n(o),o=_n(u)}else n=_n(n),o=_n(o);n>o\&\&(o+=DS);for(var h=0,c=0;c<2;c++){var d=LS[c];if(d+t>r){var f=Math.atan2(s,d),p=a?1:-1;f<0\&\&(f=DS+f),(f>=n\&\&f<=o||f+DS>=n\&\&f+DS<=o)\&\&(f>Math.PI/2\&\&f<1.5*Math.PI\&\&(p=-p),h+=p)}}return h}function Dn(t,e,i,n,o){for(var a=0,r=0,s=0,l=0,u=0,h=0;h<t.length;){var c=t[h++];switch(c===AS.M\&\&h>1\&\&(i||(a+=bn(r,s,l,u,n,o))),1==h\&\&(l=r=t[h],u=s=t[h+1]),c){case AS.M:r=l=t[h++],s=u=t[h++];break;case AS.L:if(i){if(vn(r,s,t[h],t[h+1],e,n,o))return!0}else a+=bn(r,s,t[h],t[h+1],n,o)||0;r=t[h++],s=t[h++];break;case AS.C:if(i){if(yn(r,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],e,n,o))return!0}else a+=In(r,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],n,o)||0;r=t[h++],s=t[h++];break;case AS.Q:if(i){if(xn(r,s,t[h++],t[h++],t[h],t[h+1],e,n,o))return!0}else a+=Tn(r,s,t[h++],t[h++],t[h],t[h+1],n,o)||0;r=t[h++],s=t[h++];break;case AS.A:var d=t[h++],f=t[h++],p=t[h++],g=t[h++],m=t[h++],v=t[h++],y=(t[h++],1-t[h++]),x=Math.cos(m)*p+d,_=Math.sin(m)*g+f;h>1?a+=bn(r,s,x,_,n,o):(l=x,u=_);var w=(n-d)*g/p+d;if(i){if(wn(d,f,g,m,m+v,y,e,w,o))return!0}else a+=An(d,f,g,m,m+v,y,w,o);r=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case AS.R:l=r=t[h++],u=s=t[h++];var x=l+t[h++],_=u+t[h++];if(i){if(vn(l,u,x,u,e,n,o)||vn(x,u,x,_,e,n,o)||vn(x,_,l,_,e,n,o)||vn(l,_,l,u,e,n,o))return!0}else a+=bn(x,u,x,_,n,o),a+=bn(l,_,l,u,n,o);break;case AS.Z:if(i){if(vn(r,s,l,u,e,n,o))return!0}else a+=bn(r,s,l,u,n,o);r=l,s=u}}return i||Sn(s,u)||(a+=bn(r,s,l,u,n,o)||0),0!==a}function Cn(t,e,i){return Dn(t,0,!1,e,i)}function Ln(t,e,i,n){return Dn(t,e,!0,i,n)}function kn(t){ui.call(this,t),this.path=null}function Pn(t,e,i,n,o,a,r,s,l,u,h){var c=l*(HS/180),d=WS(c)*(t-i)/2+FS(c)*(e-n)/2,f=-1*FS(c)*(t-i)/2+WS(c)*(e-n)/2,p=d*d/(r*r)+f*f/(s*s);p>1\&\&(r*=GS(p),s*=GS(p));var g=(o===a?-1:1)*GS((r*r*(s*s)-r*r*(f*f)-s*s*(d*d))/(r*r*(f*f)+s*s*(d*d)))||0,m=g*r*f/s,v=g*-s*d/r,y=(t+i)/2+WS(c)*m-FS(c)*v,x=(e+n)/2+FS(c)*m+WS(c)*v,_=XS([1,0],[(d-m)/r,(f-v)/s]),w=[(d-m)/r,(f-v)/s],b=[(-1*d-m)/r,(-1*f-v)/s],S=XS(w,b);US(w,b)<=-1\&\&(S=HS),US(w,b)>=1\&\&(S=0),0===a\&\&S>0\&\&(S-=2*HS),1===a\&\&S<0\&\&(S+=2*HS),h.addData(u,y,x,r,s,_,S,c,a)}function Nn(t){if(!t)return new MS;for(var e,i=0,n=0,o=i,a=n,r=new MS,s=MS.CMD,l=t.match(jS),u=0;u<l.length;u++){for(var h,c=l[u],d=c.charAt(0),f=c.match(YS)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v,y,x,_,w,b,S,M=i,I=n;switch(d){case\"l\":i+=f[m++],n+=f[m++],h=s.L,r.addData(h,i,n);break;case\"L\":i=f[m++],n=f[m++],h=s.L,r.addData(h,i,n);break;case\"m\":i+=f[m++],n+=f[m++],h=s.M,r.addData(h,i,n),o=i,a=n,d=\"l\";break;case\"M\":i=f[m++],n=f[m++],h=s.M,r.addData(h,i,n),o=i,a=n,d=\"L\";break;case\"h\":i+=f[m++],h=s.L,r.addData(h,i,n);break;case\"H\":i=f[m++],h=s.L,r.addData(h,i,n);break;case\"v\":n+=f[m++],h=s.L,r.addData(h,i,n);break;case\"V\":n=f[m++],h=s.L,r.addData(h,i,n);break;case\"C\":h=s.C,r.addData(h,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),i=f[m-2],n=f[m-1];break;case\"c\":h=s.C,r.addData(h,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n),i+=f[m-2],n+=f[m-1];break;case\"S\":v=i,y=n;var T=r.len(),A=r.data;e===s.C\&\&(v+=i-A[T-4],y+=n-A[T-3]),h=s.C,M=f[m++],I=f[m++],i=f[m++],n=f[m++],r.addData(h,v,y,M,I,i,n);break;case\"s\":v=i,y=n;var T=r.len(),A=r.data;e===s.C\&\&(v+=i-A[T-4],y+=n-A[T-3]),h=s.C,M=i+f[m++],I=n+f[m++],i+=f[m++],n+=f[m++],r.addData(h,v,y,M,I,i,n);break;case\"Q\":M=f[m++],I=f[m++],i=f[m++],n=f[m++],h=s.Q,r.addData(h,M,I,i,n);break;case\"q\":M=f[m++]+i,I=f[m++]+n,i+=f[m++],n+=f[m++],h=s.Q,r.addData(h,M,I,i,n);break;case\"T\":v=i,y=n;var T=r.len(),A=r.data;e===s.Q\&\&(v+=i-A[T-4],y+=n-A[T-3]),i=f[m++],n=f[m++],h=s.Q,r.addData(h,v,y,i,n);break;case\"t\":v=i,y=n;var T=r.len(),A=r.data;e===s.Q\&\&(v+=i-A[T-4],y+=n-A[T-3]),i+=f[m++],n+=f[m++],h=s.Q,r.addData(h,v,y,i,n);break;case\"A\":x=f[m++],_=f[m++],w=f[m++],b=f[m++],S=f[m++],Pn(M=i,I=n,i=f[m++],n=f[m++],b,S,x,_,w,h=s.A,r);break;case\"a\":x=f[m++],_=f[m++],w=f[m++],b=f[m++],S=f[m++],Pn(M=i,I=n,i+=f[m++],n+=f[m++],b,S,x,_,w,h=s.A,r)}}\"z\"!==d\&\&\"Z\"!==d||(h=s.Z,r.addData(h),i=o,n=a),e=h}return r.toStatic(),r}function On(t,e){var i=Nn(t);return e=e||{},e.buildPath=function(t){if(t.setData)t.setData(i.data),(e=t.getContext())\&\&t.rebuildPath(e);else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){VS(i,t),this.dirty(!0)},e}function En(t,e){return new kn(On(t,e))}function Rn(t,e){return kn.extend(On(t,e))}function zn(t,e,i,n,o,a,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*a+s*o+e}function Bn(t,e,i){var n=e.points,o=e.smooth;if(n\&\&n.length>=2){if(o\&\&\"spline\"!==o){var a=iM(n,o,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var r=n.length,s=0;s<(i?r:r-1);s++){var l=a[2*s],u=a[2*s+1],h=n[(s+1)%r];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{\"spline\"===o\&\&(n=eM(n,i)),t.moveTo(n[0][0],n[0][1]);for(var s=1,c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}i\&\&t.closePath()}}function Vn(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?tn:Qi)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?tn:Qi)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?sn:rn)(t.x1,t.cpx1,t.x2,e),(i?sn:rn)(t.y1,t.cpy1,t.y2,e)]}function Gn(t){ui.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Fn(t){return kn.extend(t)}function Wn(t,e,i,n){var o=En(t,e);return i\&\&(\"center\"===n\&\&(i=Zn(i,o.getBoundingRect())),Un(o,i)),o}function Hn(t,e,i){var n=new hi({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(\"center\"===i){var o={width:t.width,height:t.height};n.setStyle(Zn(e,o))}}});return n}function Zn(t,e){var i,n=e.width/e.height,o=t.height*n;return i=o<=t.width?t.height:(o=t.width)/n,{x:t.x+t.width/2-o/2,y:t.y+t.height/2-i/2,width:o,height:i}}function Un(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function Xn(t){var e=t.shape,i=t.style.lineWidth;return gM(2*e.x1)===gM(2*e.x2)\&\&(e.x1=e.x2=Yn(e.x1,i,!0)),gM(2*e.y1)===gM(2*e.y2)\&\&(e.y1=e.y2=Yn(e.y1,i,!0)),t}function jn(t){var e=t.shape,i=t.style.lineWidth,n=e.x,o=e.y,a=e.width,r=e.height;return e.x=Yn(e.x,i,!0),e.y=Yn(e.y,i,!0),e.width=Math.max(Yn(n+a,i,!1)-e.x,0===a?0:1),e.height=Math.max(Yn(o+r,i,!1)-e.y,0===r?0:1),t}function Yn(t,e,i){var n=gM(2*t);return(n+gM(e))%2==0?n/2:(n+(i?1:-1))/2}function qn(t){return null!=t\&\&\"none\"!==t}function Kn(t){if(\"string\"!=typeof t)return t;var e=_M.get(t);return e||(e=Gt(t,-.1),wM<1e4\&\&(_M.set(t,e),wM++)),e}function \$n(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var i=t.__normalStl={},n=t.style;for(var o in e)null!=e[o]\&\&(i[o]=n[o]);i.fill=n.fill,i.stroke=n.stroke}else t.__normalStl=null}}function Jn(t){var e=t.__hoverStl;if(e\&\&!t.__highlighted){var i=t.useHoverLayer;t.__highlighted=i?\"layer\":\"plain\";var n=t.__zr;if(n||!i){var o=t,a=t.style;i\&\&(a=(o=n.addHover(t)).style),xo(a),i||\$n(o),a.extendFrom(e),Qn(a,e,\"fill\"),Qn(a,e,\"stroke\"),yo(a),i||(t.dirty(!1),t.z2+=1)}}}function Qn(t,e,i){!qn(e[i])\&\&qn(t[i])\&\&(t[i]=Kn(t[i]))}function to(t){t.__highlighted\&\&(eo(t),t.__highlighted=!1)}function eo(t){var e=t.__highlighted;if(\"layer\"===e)t.__zr\&\&t.__zr.removeHover(t);else if(e){var i=t.style,n=t.__normalStl;n\&\&(xo(i),t.setStyle(n),yo(i),t.z2-=1)}}function io(t,e){t.isGroup?t.traverse(function(t){!t.isGroup\&\&e(t)}):e(t)}function no(t,e){e=t.__hoverStl=!1!==e\&\&(e||{}),t.__hoverStlDirty=!0,t.__highlighted\&\&(to(t),Jn(t))}function oo(t){return t\&\&t.__isEmphasisEntered}function ao(t){this.__hoverSilentOnTouch\&\&t.zrByTouch||!this.__isEmphasisEntered\&\&io(this,Jn)}function ro(t){this.__hoverSilentOnTouch\&\&t.zrByTouch||!this.__isEmphasisEntered\&\&io(this,to)}function so(){this.__isEmphasisEntered=!0,io(this,Jn)}function lo(){this.__isEmphasisEntered=!1,io(this,to)}function uo(t,e,i){t.isGroup?t.traverse(function(t){!t.isGroup\&\&no(t,t.hoverStyle||e)}):no(t,t.hoverStyle||e),ho(t,i)}function ho(t,e){var i=!1===e;if(t.__hoverSilentOnTouch=null!=e\&\&e.hoverSilentOnTouch,!i||t.__hoverStyleTrigger){var n=i?\"off\":\"on\";t[n](\"mouseover\",ao)[n](\"mouseout\",ro),t[n](\"emphasis\",so)[n](\"normal\",lo),t.__hoverStyleTrigger=!i}}function co(t,e,i,n,o,a,r){var s,l=(o=o||yM).labelFetcher,u=o.labelDataIndex,h=o.labelDimIndex,c=i.getShallow(\"show\"),d=n.getShallow(\"show\");(c||d)\&\&(l\&\&(s=l.getFormattedLabel(u,\"normal\",null,h)),null==s\&\&(s=x(o.defaultText)?o.defaultText(u,o):o.defaultText));var f=c?s:null,p=d?A(l?l.getFormattedLabel(u,\"emphasis\",null,h):null,s):null;null==f\&\&null==p||(fo(t,i,a,o),fo(e,n,r,o,!0)),t.text=f,e.text=p}function fo(t,e,i,n,o){return po(t,e,n,o),i\&\&a(t,i),t}function po(t,e,i,n){if((i=i||yM).isRectText){var o=e.getShallow(\"position\")||(n?null:\"inside\");\"outside\"===o\&\&(o=\"top\"),t.textPosition=o,t.textOffset=e.getShallow(\"offset\");var a=e.getShallow(\"rotate\");null!=a\&\&(a*=Math.PI/180),t.textRotation=a,t.textDistance=A(e.getShallow(\"distance\"),n?null:5)}var r,s=e.ecModel,l=s\&\&s.option.textStyle,u=go(e);if(u){r={};for(var h in u)if(u.hasOwnProperty(h)){var c=e.getModel([\"rich\",h]);mo(r[h]={},c,l,i,n)}}return t.rich=r,mo(t,e,l,i,n,!0),i.forceRich\&\&!i.textStyle\&\&(i.textStyle={}),t}function go(t){for(var e;t\&\&t!==t.ecModel;){var i=(t.option||yM).rich;if(i){e=e||{};for(var n in i)i.hasOwnProperty(n)\&\&(e[n]=1)}t=t.parentModel}return e}function mo(t,e,i,n,o,a){i=!o\&\&i||yM,t.textFill=vo(e.getShallow(\"color\"),n)||i.color,t.textStroke=vo(e.getShallow(\"textBorderColor\"),n)||i.textBorderColor,t.textStrokeWidth=A(e.getShallow(\"textBorderWidth\"),i.textBorderWidth),t.insideRawTextPosition=t.textPosition,o||(a\&\&(t.insideRollbackOpt=n,yo(t)),null==t.textFill\&\&(t.textFill=n.autoColor)),t.fontStyle=e.getShallow(\"fontStyle\")||i.fontStyle,t.fontWeight=e.getShallow(\"fontWeight\")||i.fontWeight,t.fontSize=e.getShallow(\"fontSize\")||i.fontSize,t.fontFamily=e.getShallow(\"fontFamily\")||i.fontFamily,t.textAlign=e.getShallow(\"align\"),t.textVerticalAlign=e.getShallow(\"verticalAlign\")||e.getShallow(\"baseline\"),t.textLineHeight=e.getShallow(\"lineHeight\"),t.textWidth=e.getShallow(\"width\"),t.textHeight=e.getShallow(\"height\"),t.textTag=e.getShallow(\"tag\"),a\&\&n.disableBox||(t.textBackgroundColor=vo(e.getShallow(\"backgroundColor\"),n),t.textPadding=e.getShallow(\"padding\"),t.textBorderColor=vo(e.getShallow(\"borderColor\"),n),t.textBorderWidth=e.getShallow(\"borderWidth\"),t.textBorderRadius=e.getShallow(\"borderRadius\"),t.textBoxShadowColor=e.getShallow(\"shadowColor\"),t.textBoxShadowBlur=e.getShallow(\"shadowBlur\"),t.textBoxShadowOffsetX=e.getShallow(\"shadowOffsetX\"),t.textBoxShadowOffsetY=e.getShallow(\"shadowOffsetY\")),t.textShadowColor=e.getShallow(\"textShadowColor\")||i.textShadowColor,t.textShadowBlur=e.getShallow(\"textShadowBlur\")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow(\"textShadowOffsetX\")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow(\"textShadowOffsetY\")||i.textShadowOffsetY}function vo(t,e){return\"auto\"!==t?t:e\&\&e.autoColor?e.autoColor:null}function yo(t){var e=t.insideRollbackOpt;if(e\&\&null==t.textFill){var i,n=e.useInsideStyle,o=t.insideRawTextPosition,a=e.autoColor;!1!==n\&\&(!0===n||e.isRectText\&\&o\&\&\"string\"==typeof o\&\&o.indexOf(\"inside\")>=0)?(i={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill=\"#fff\",null==t.textStroke\&\&(t.textStroke=a,null==t.textStrokeWidth\&\&(t.textStrokeWidth=2))):null!=a\&\&(i={textFill:null},t.textFill=a),i\&\&(t.insideRollback=i)}}function xo(t){var e=t.insideRollback;e\&\&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function _o(t,e){var i=e||e.getModel(\"textStyle\");return P([t.fontStyle||i\&\&i.getShallow(\"fontStyle\")||\"\",t.fontWeight||i\&\&i.getShallow(\"fontWeight\")||\"\",(t.fontSize||i\&\&i.getShallow(\"fontSize\")||12)+\"px\",t.fontFamily||i\&\&i.getShallow(\"fontFamily\")||\"sans-serif\"].join(\" \"))}function wo(t,e,i,n,o,a){if(\"function\"==typeof o\&\&(a=o,o=null),n\&\&n.isAnimationEnabled()){var r=t?\"Update\":\"\",s=n.getShallow(\"animationDuration\"+r),l=n.getShallow(\"animationEasing\"+r),u=n.getShallow(\"animationDelay\"+r);\"function\"==typeof u\&\&(u=u(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),\"function\"==typeof s\&\&(s=s(o)),s>0?e.animateTo(i,s,u||0,l,a,!!a):(e.stopAnimation(),e.attr(i),a\&\&a())}else e.stopAnimation(),e.attr(i),a\&\&a()}function bo(t,e,i,n,o){wo(!0,t,e,i,n,o)}function So(t,e,i,n,o){wo(!1,t,e,i,n,o)}function Mo(t,e){for(var i=vt([]);t\&\&t!==e;)xt(i,t.getLocalTransform(),i),t=t.parent;return i}function Io(t,e,i){return e\&\&!c(e)\&\&(e=mw.getLocalTransform(e)),i\&\&(e=St([],e)),Q([],t,e)}function To(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=[\"left\"===t?-n:\"right\"===t?n:0,\"top\"===t?-o:\"bottom\"===t?o:0];return a=Io(a,e,i),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?\"right\":\"left\":a[1]>0?\"bottom\":\"top\"}function Ao(t,e,i,n){function o(t){var e={position:F(t.position),rotation:t.rotation};return t.shape\&\&(e.shape=a({},t.shape)),e}if(t\&\&e){var r=function(t){var e={};return t.traverse(function(t){!t.isGroup\&\&t.anid\&\&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup\&\&t.anid){var e=r[t.anid];if(e){var n=o(t);t.attr(o(e)),bo(t,n,i,t.dataIndex)}}})}}function Do(t,e){return f(t,function(t){var i=t[0];i=mM(i,e.x),i=vM(i,e.x+e.width);var n=t[1];return n=mM(n,e.y),n=vM(n,e.y+e.height),[i,n]})}function Co(t,e,i){var n=(e=a({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf(\"image://\")?(n.image=t.slice(8),r(n,i),new hi(e)):Wn(t.replace(\"path://\",\"\"),e,i,\"center\")}function Lo(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function ko(t,e,i){for(var n=0;n<e.length\&\&(!e[n]||null!=(t=t\&\&\"object\"==typeof t?t[e[n]]:null));n++);return null==t\&\&i\&\&(t=i.get(e)),t}function Po(t,e){var i=DM(t).getParent;return i?i.call(t,e):t.parentModel}function No(t){return[t||\"\",CM++,Math.random().toFixed(5)].join(\"_\")}function Oo(t){return t.replace(/^\\s+/,\"\").replace(/\\s+\$/,\"\")}function Eo(t,e,i,n){var o=e[1]-e[0],a=i[1]-i[0];if(0===o)return 0===a?i[0]:(i[0]+i[1])/2;if(n)if(o>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*a+i[0]}function Ro(t,e){switch(t){case\"center\":case\"middle\":t=\"50%\";break;case\"left\":case\"top\":t=\"0%\";break;case\"right\":case\"bottom\":t=\"100%\"}return\"string\"==typeof t?Oo(t).match(/%\$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function zo(t,e,i){return null==e\&\&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function Bo(t){return t.sort(function(t,e){return t-e}),t}function Vo(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Go(t){var e=t.toString(),i=e.indexOf(\"e\");if(i>0){var n=+e.slice(i+1);return n<0?-n:0}var o=e.indexOf(\".\");return o<0?0:e.length-1-o}function Fo(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),a=Math.round(i(Math.abs(e[1]-e[0]))/n),r=Math.min(Math.max(-o+a,0),20);return isFinite(r)?r:20}function Wo(t,e,i){if(!t[e])return 0;var n=p(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var o=Math.pow(10,i),a=f(t,function(t){return(isNaN(t)?0:t)/n*o*100}),r=100*o,s=f(a,function(t){return Math.floor(t)}),l=p(s,function(t,e){return t+e},0),u=f(a,function(t,e){return t-s[e]});l<r;){for(var h=Number.NEGATIVE_INFINITY,c=null,d=0,g=u.length;d<g;++d)u[d]>h\&\&(h=u[d],c=d);++s[c],u[c]=0,++l}return s[e]/o}function Ho(t){var e=2*Math.PI;return(t%e+e)%e}function Zo(t){return t>-LM\&\&t<LM}function Uo(t){if(t instanceof Date)return t;if(\"string\"==typeof t){var e=PM.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return\"Z\"!==e[8].toUpperCase()\&\&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Xo(t){return Math.pow(10,jo(t))}function jo(t){return Math.floor(Math.log(t)/Math.LN10)}function Yo(t,e){var i,n=jo(t),o=Math.pow(10,n),a=t/o;return i=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=i*o,n>=-20?+t.toFixed(n<0?-n:0):t}function qo(t){function e(t,i,n){return t.interval[n]<i.interval[n]||t.interval[n]===i.interval[n]\&\&(t.close[n]-i.close[n]==(n?-1:1)||!n\&\&e(t,i,1))}t.sort(function(t,i){return e(t,i,0)?-1:1});for(var i=-1/0,n=1,o=0;o<t.length;){for(var a=t[o].interval,r=t[o].close,s=0;s<2;s++)a[s]<=i\&\&(a[s]=i,r[s]=s?1:1-n),i=a[s],n=r[s];a[0]===a[1]\&\&r[0]*r[1]!=1?t.splice(o,1):o++}return t}function Ko(t){return t-parseFloat(t)>=0}function \$o(t){return isNaN(t)?\"-\":(t=(t+\"\").split(\".\"))[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"\$1,\")+(t.length>1?\".\"+t[1]:\"\")}function Jo(t,e){return t=(t||\"\").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e\&\&t\&\&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function Qo(t){return null==t?\"\":(t+\"\").replace(EM,function(t,e){return RM[e]})}function ta(t,e,i){y(e)||(e=[e]);var n=e.length;if(!n)return\"\";for(var o=e[0].\$vars||[],a=0;a<o.length;a++){var r=zM[a];t=t.replace(BM(r),BM(r,0))}for(var s=0;s<n;s++)for(var l=0;l<o.length;l++){var u=e[s][o[l]];t=t.replace(BM(zM[l],s),i?Qo(u):u)}return t}function ea(t,e,i){return d(e,function(e,n){t=t.replace(\"{\"+n+\"}\",i?Qo(e):e)}),t}function ia(t,e){var i=(t=_(t)?{color:t,extraCssText:e}:t||{}).color,n=t.type,e=t.extraCssText,o=t.renderMode||\"html\",a=t.markerId||\"X\";return i?\"html\"===o?\"subItem\"===n?\'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:\'+Qo(i)+\";\"+(e||\"\")+\'\"></span>\':\'<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:\'+Qo(i)+\";\"+(e||\"\")+\'\"></span>\':{renderMode:o,content:\"{marker\"+a+\"|}  \",style:{color:i}}:\"\"}function na(t,e){return t+=\"\",\"0000\".substr(0,e-t.length)+t}function oa(t,e,i){\"week\"!==t\&\&\"month\"!==t\&\&\"quarter\"!==t\&\&\"half-year\"!==t\&\&\"year\"!==t||(t=\"MM-dd\\nyyyy\");var n=Uo(e),o=i?\"UTC\":\"\",a=n[\"get\"+o+\"FullYear\"](),r=n[\"get\"+o+\"Month\"]()+1,s=n[\"get\"+o+\"Date\"](),l=n[\"get\"+o+\"Hours\"](),u=n[\"get\"+o+\"Minutes\"](),h=n[\"get\"+o+\"Seconds\"](),c=n[\"get\"+o+\"Milliseconds\"]();return t=t.replace(\"MM\",na(r,2)).replace(\"M\",r).replace(\"yyyy\",a).replace(\"yy\",a%100).replace(\"dd\",na(s,2)).replace(\"d\",s).replace(\"hh\",na(l,2)).replace(\"h\",l).replace(\"mm\",na(u,2)).replace(\"m\",u).replace(\"ss\",na(h,2)).replace(\"s\",h).replace(\"SSS\",na(c,3))}function aa(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function ra(t,e,i,n,o){var a=0,r=0;null==n\&\&(n=1/0),null==o\&\&(o=1/0);var s=0;e.eachChild(function(l,u){var h,c,d=l.position,f=l.getBoundingRect(),p=e.childAt(u+1),g=p\&\&p.getBoundingRect();if(\"horizontal\"===t){var m=f.width+(g?-g.x+f.x:0);(h=a+m)>n||l.newline?(a=0,h=m,r+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);(c=r+v)>o||l.newline?(a+=s+i,r=0,c=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=a,d[1]=r,\"horizontal\"===t?a=h+i:r=c+i)})}function sa(t,e,i){var n=e.width,o=e.height,a=Ro(t.x,n),r=Ro(t.y,o),s=Ro(t.x2,n),l=Ro(t.y2,o);return(isNaN(a)||isNaN(parseFloat(t.x)))\&\&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))\&\&(s=n),(isNaN(r)||isNaN(parseFloat(t.y)))\&\&(r=0),(isNaN(l)||isNaN(parseFloat(t.y2)))\&\&(l=o),i=OM(i||0),{width:Math.max(s-a-i[1]-i[3],0),height:Math.max(l-r-i[0]-i[2],0)}}function la(t,e,i){i=OM(i||0);var n=e.width,o=e.height,a=Ro(t.left,n),r=Ro(t.top,o),s=Ro(t.right,n),l=Ro(t.bottom,o),u=Ro(t.width,n),h=Ro(t.height,o),c=i[2]+i[0],d=i[1]+i[3],f=t.aspect;switch(isNaN(u)\&\&(u=n-s-d-a),isNaN(h)\&\&(h=o-l-c-r),null!=f\&\&(isNaN(u)\&\&isNaN(h)\&\&(f>n/o?u=.8*n:h=.8*o),isNaN(u)\&\&(u=f*h),isNaN(h)\&\&(h=u/f)),isNaN(a)\&\&(a=n-s-u-d),isNaN(r)\&\&(r=o-l-h-c),t.left||t.right){case\"center\":a=n/2-u/2-i[3];break;case\"right\":a=n-u-d}switch(t.top||t.bottom){case\"middle\":case\"center\":r=o/2-h/2-i[0];break;case\"bottom\":r=o-h-c}a=a||0,r=r||0,isNaN(u)\&\&(u=n-d-a-(s||0)),isNaN(h)\&\&(h=o-c-r-(l||0));var p=new ue(a+i[3],r+i[0],u,h);return p.margin=i,p}function ua(t,e,i,n,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o\&\&o.boundingMode||\"all\";if(a||s){var u;if(\"raw\"===l)u=\"group\"===t.type?new ue(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(u=u.clone()).applyTransform(h)}e=la(r({width:u.width,height:u.height},e),i,n);var c=t.position,d=a?e.x-u.x:0,f=s?e.y-u.y:0;t.attr(\"position\",\"raw\"===l?[d,f]:[c[0]+d,c[1]+f])}}function ha(t,e){return null!=t[ZM[e][0]]||null!=t[ZM[e][1]]\&\&null!=t[ZM[e][2]]}function ca(t,e,i){function n(i,n){var r={},l=0,u={},h=0;if(WM(i,function(e){u[e]=t[e]}),WM(i,function(t){o(e,t)\&\&(r[t]=u[t]=e[t]),a(r,t)\&\&l++,a(u,t)\&\&h++}),s[n])return a(e,i[1])?u[i[2]]=null:a(e,i[2])\&\&(u[i[1]]=null),u;if(2!==h\&\&l){if(l>=2)return r;for(var c=0;c<i.length;c++){var d=i[c];if(!o(r,d)\&\&o(t,d)){r[d]=t[d];break}}return r}return u}function o(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]\&\&\"auto\"!==t[e]}function r(t,e,i){WM(t,function(t){e[t]=i[t]})}!w(i)\&\&(i={});var s=i.ignoreSize;!y(s)\&\&(s=[s,s]);var l=n(ZM[0],0),u=n(ZM[1],1);r(ZM[0],t,l),r(ZM[1],t,u)}function da(t){return fa({},t)}function fa(t,e){return e\&\&t\&\&WM(HM,function(i){e.hasOwnProperty(i)\&\&(t[i]=e[i])}),t}function pa(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}function ga(t){var e=t.get(\"coordinateSystem\"),i={coordSysName:e,coordSysDims:[],axisMap:R(),categoryAxisMap:R()},n=QM[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}function ma(t){return\"category\"===t.get(\"type\")}function va(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===nI?{}:[]),this.sourceFormat=t.sourceFormat||oI,this.seriesLayoutBy=t.seriesLayoutBy||rI,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine\&\&R(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function ya(t){var e=t.option.source,i=oI;if(S(e))i=aI;else if(y(e)){0===e.length\&\&(i=eI);for(var n=0,o=e.length;n<o;n++){var a=e[n];if(null!=a){if(y(a)){i=eI;break}if(w(a)){i=iI;break}}}}else if(w(e)){for(var r in e)if(e.hasOwnProperty(r)\&\&c(e[r])){i=nI;break}}else if(null!=e)throw new Error(\"Invalid data\");lI(t).sourceFormat=i}function xa(t){return lI(t).source}function _a(t){lI(t).datasetMap=R()}function wa(t){var e=t.option,i=e.data,n=S(i)?aI:tI,o=!1,a=e.seriesLayoutBy,r=e.sourceHeader,s=e.dimensions,l=Aa(t);if(l){var u=l.option;i=u.source,n=lI(l).sourceFormat,o=!0,a=a||u.seriesLayoutBy,null==r\&\&(r=u.sourceHeader),s=s||u.dimensions}var h=ba(i,n,a,r,s),c=e.encode;!c\&\&l\&\&(c=Ta(t,l,i,n,a,h)),lI(t).source=new va({data:i,fromDataset:o,seriesLayoutBy:a,sourceFormat:n,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:c})}function ba(t,e,i,n,o){if(!t)return{dimensionsDefine:Sa(o)};var a,r,s;if(e===eI)\"auto\"===n||null==n?Ma(function(t){null!=t\&\&\"-\"!==t\&\&(_(t)?null==r\&\&(r=1):r=0)},i,t,10):r=n?1:0,o||1!==r||(o=[],Ma(function(t,e){o[e]=null!=t?t:\"\"},i,t)),a=o?o.length:i===sI?t.length:t[0]?t[0].length:null;else if(e===iI)o||(o=Ia(t),s=!0);else if(e===nI)o||(o=[],s=!0,d(t,function(t,e){o.push(e)}));else if(e===tI){var l=Li(t[0]);a=y(l)\&\&l.length||1}var u;return s\&\&d(o,function(t,e){\"name\"===(w(t)?t.name:t)\&\&(u=e)}),{startIndex:r,dimensionsDefine:Sa(o),dimensionsDetectCount:a,potentialNameDimIndex:u}}function Sa(t){if(t){var e=R();return f(t,function(t,i){if(null==(t=a({},w(t)?t:{name:t})).name)return t;t.name+=\"\",null==t.displayName\&\&(t.displayName=t.name);var n=e.get(t.name);return n?t.name+=\"-\"+n.count++:e.set(t.name,{count:1}),t})}}function Ma(t,e,i,n){if(null==n\&\&(n=1/0),e===sI)for(a=0;a<i.length\&\&a<n;a++)t(i[a]?i[a][0]:null,a);else for(var o=i[0]||[],a=0;a<o.length\&\&a<n;a++)t(o[a],a)}function Ia(t){for(var e,i=0;i<t.length\&\&!(e=t[i++]););if(e){var n=[];return d(e,function(t,e){n.push(e)}),n}}function Ta(t,e,i,n,o,a){var r=ga(t),s={},l=[],u=[],h=t.subType,c=R([\"pie\",\"map\",\"funnel\"]),f=R([\"line\",\"bar\",\"pictorialBar\",\"scatter\",\"effectScatter\",\"candlestick\",\"boxplot\"]);if(r\&\&null!=f.get(h)){var p=t.ecModel,g=lI(p).datasetMap,m=e.uid+\"_\"+o,v=g.get(m)||g.set(m,{categoryWayDim:1,valueWayDim:0});d(r.coordSysDims,function(t){if(null==r.firstCategoryDimIndex){e=v.valueWayDim++;s[t]=e,u.push(e)}else if(r.categoryAxisMap.get(t))s[t]=0,l.push(0);else{var e=v.categoryWayDim++;s[t]=e,u.push(e)}})}else if(null!=c.get(h)){for(var y,x=0;x<5\&\&null==y;x++)Ca(i,n,o,a.dimensionsDefine,a.startIndex,x)||(y=x);if(null!=y){s.value=y;var _=a.potentialNameDimIndex||Math.max(y-1,0);u.push(_),l.push(_)}}return l.length\&\&(s.itemName=l),u.length\&\&(s.seriesName=u),s}function Aa(t){var e=t.option;if(!e.data)return t.ecModel.getComponent(\"dataset\",e.datasetIndex||0)}function Da(t,e){return Ca(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Ca(t,e,i,n,o,a){function r(t){return(null==t||!isFinite(t)||\"\"===t)\&\&(!(!_(t)||\"-\"===t)||void 0)}var s;if(S(t))return!1;var l;if(n\&\&(l=w(l=n[a])?l.name:l),e===eI)if(i===sI){for(var u=t[a],h=0;h<(u||[]).length\&\&h<5;h++)if(null!=(s=r(u[o+h])))return s}else for(h=0;h<t.length\&\&h<5;h++){var c=t[o+h];if(c\&\&null!=(s=r(c[a])))return s}else if(e===iI){if(!l)return;for(h=0;h<t.length\&\&h<5;h++)if((d=t[h])\&\&null!=(s=r(d[l])))return s}else if(e===nI){if(!l)return;if(!(u=t[l])||S(u))return!1;for(h=0;h<u.length\&\&h<5;h++)if(null!=(s=r(u[h])))return s}else if(e===tI)for(h=0;h<t.length\&\&h<5;h++){var d=t[h],f=Li(d);if(!y(f))return!1;if(null!=(s=r(f[a])))return s}return!1}function La(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,o=e.seriesName;return null!=i\&\&t.componentIndex!==i||null!=n\&\&t.id!==n||null!=o\&\&t.name!==o}}function ka(t,e){var o=t.color\&\&!t.colorLayer;d(e,function(e,a){\"colorLayer\"===a\&\&o||YM.hasClass(a)||(\"object\"==typeof e?t[a]=t[a]?n(t[a],e,!1):i(e):null==t[a]\&\&(t[a]=e))})}function Pa(t){t=t,this.option={},this.option[uI]=1,this._componentsMap=R({series:[]}),this._seriesIndices,this._seriesIndicesMap,ka(t,this._theme.option),n(t,KM,!1),this.mergeOption(t)}function Na(t,e){y(e)||(e=e?[e]:[]);var i={};return d(e,function(e){i[e]=(t.get(e)||[]).slice()}),i}function Oa(t,e,i){return e.type?e.type:i?i.subType:YM.determineSubType(t,e)}function Ea(t,e){t._seriesIndicesMap=R(t._seriesIndices=f(e,function(t){return t.componentIndex})||[])}function Ra(t,e){return e.hasOwnProperty(\"subType\")?g(t,function(t){return t.subType===e.subType}):t}function za(t){d(cI,function(e){this[e]=m(t[e],t)},this)}function Ba(){this._coordinateSystems=[]}function Va(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ga(t,e,i){var n,o,a=[],r=[],s=t.timeline;if(t.baseOption\&\&(o=t.baseOption),(s||t.options)\&\&(o=o||{},a=(t.options||[]).slice()),t.media){o=o||{};var l=t.media;fI(l,function(t){t\&\&t.option\&\&(t.query?r.push(t):n||(n=t))})}return o||(o=t),o.timeline||(o.timeline=s),fI([o].concat(a).concat(f(r,function(t){return t.option})),function(t){fI(e,function(e){e(t,i)})}),{baseOption:o,timelineOptions:a,mediaDefault:n,mediaList:r}}function Fa(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return d(t,function(t,e){var i=e.match(vI);if(i\&\&i[1]\&\&i[2]){var a=i[1],r=i[2].toLowerCase();Wa(n[r],t,a)||(o=!1)}}),o}function Wa(t,e,i){return\"min\"===i?t>=e:\"max\"===i?t<=e:t===e}function Ha(t,e){return t.join(\",\")===e.join(\",\")}function Za(t,e){fI(e=e||{},function(e,i){if(null!=e){var n=t[i];if(YM.hasClass(i)){e=Di(e);var o=Pi(n=Di(n),e);t[i]=gI(o,function(t){return t.option\&\&t.exist?mI(t.exist,t.option,!0):t.exist||t.option})}else t[i]=mI(n,e,!0)}})}function Ua(t){var e=t\&\&t.itemStyle;if(e)for(var i=0,o=_I.length;i<o;i++){var a=_I[i],r=e.normal,s=e.emphasis;r\&\&r[a]\&\&(t[a]=t[a]||{},t[a].normal?n(t[a].normal,r[a]):t[a].normal=r[a],r[a]=null),s\&\&s[a]\&\&(t[a]=t[a]||{},t[a].emphasis?n(t[a].emphasis,s[a]):t[a].emphasis=s[a],s[a]=null)}}function Xa(t,e,i){if(t\&\&t[e]\&\&(t[e].normal||t[e].emphasis)){var n=t[e].normal,o=t[e].emphasis;n\&\&(i?(t[e].normal=t[e].emphasis=null,r(t[e],n)):t[e]=n),o\&\&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function ja(t){Xa(t,\"itemStyle\"),Xa(t,\"lineStyle\"),Xa(t,\"areaStyle\"),Xa(t,\"label\"),Xa(t,\"labelLine\"),Xa(t,\"upperLabel\"),Xa(t,\"edgeLabel\")}function Ya(t,e){var i=xI(t)\&\&t[e],n=xI(i)\&\&i.textStyle;if(n)for(var o=0,a=zb.length;o<a;o++){var e=zb[o];n.hasOwnProperty(e)\&\&(i[e]=n[e])}}function qa(t){t\&\&(ja(t),Ya(t,\"label\"),t.emphasis\&\&Ya(t.emphasis,\"label\"))}function Ka(t){if(xI(t)){Ua(t),ja(t),Ya(t,\"label\"),Ya(t,\"upperLabel\"),Ya(t,\"edgeLabel\"),t.emphasis\&\&(Ya(t.emphasis,\"label\"),Ya(t.emphasis,\"upperLabel\"),Ya(t.emphasis,\"edgeLabel\"));var e=t.markPoint;e\&\&(Ua(e),qa(e));var i=t.markLine;i\&\&(Ua(i),qa(i));var n=t.markArea;n\&\&qa(n);var o=t.data;if(\"graph\"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a\&\&!S(a))for(s=0;s<a.length;s++)qa(a[s]);d(t.categories,function(t){ja(t)})}if(o\&\&!S(o))for(s=0;s<o.length;s++)qa(o[s]);if((e=t.markPoint)\&\&e.data)for(var r=e.data,s=0;s<r.length;s++)qa(r[s]);if((i=t.markLine)\&\&i.data)for(var l=i.data,s=0;s<l.length;s++)y(l[s])?(qa(l[s][0]),qa(l[s][1])):qa(l[s]);\"gauge\"===t.type?(Ya(t,\"axisLabel\"),Ya(t,\"title\"),Ya(t,\"detail\")):\"treemap\"===t.type?(Xa(t.breadcrumb,\"itemStyle\"),d(t.levels,function(t){ja(t)})):\"tree\"===t.type\&\&ja(t.leaves)}}function \$a(t){return y(t)?t:t?[t]:[]}function Ja(t){return(y(t)?t[0]:t)||{}}function Qa(t,e){e=e.split(\",\");for(var i=t,n=0;n<e.length\&\&null!=(i=i\&\&i[e[n]]);n++);return i}function tr(t,e,i,n){e=e.split(\",\");for(var o,a=t,r=0;r<e.length-1;r++)null==a[o=e[r]]\&\&(a[o]={}),a=a[o];(n||null==a[e[r]])\&\&(a[e[r]]=i)}function er(t){d(bI,function(e){e[0]in t\&\&!(e[1]in t)\&\&(t[e[1]]=t[e[0]])})}function ir(t){d(t,function(e,i){var n=[],o=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],r=e.data,s=e.isStackedByIndex,l=r.map(a,function(a,l,u){var h=r.get(e.stackedDimension,u);if(isNaN(h))return o;var c,d;s?d=r.getRawIndex(u):c=r.get(e.stackedByDimension,u);for(var f=NaN,p=i-1;p>=0;p--){var g=t[p];if(s||(d=g.data.rawIndexOf(g.stackedByDimension,c)),d>=0){var m=g.data.getByRawIndex(g.stackResultDimension,d);if(h>=0\&\&m>0||h<=0\&\&m<0){h+=m,f=m;break}}}return n[0]=h,n[1]=f,n});r.hostModel.setData(l),e.data=l})}function nr(t,e){va.isInstance(t)||(t=va.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===aI\&\&(this._offset=0,this._dimSize=e,this._data=i),a(this,TI[n===eI?n+\"_\"+t.seriesLayoutBy:n])}function or(){return this._data.length}function ar(t){return this._data[t]}function rr(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function sr(t,e,i,n){return null!=i?t[i]:t}function lr(t,e,i,n){return ur(t[n],this._dimensionInfos[e])}function ur(t,e){var i=e\&\&e.type;if(\"ordinal\"===i){var n=e\&\&e.ordinalMeta;return n?n.parseAndCollect(t):t}return\"time\"===i\&\&\"number\"!=typeof t\&\&null!=t\&\&\"-\"!==t\&\&(t=+Uo(t)),null==t||\"\"===t?NaN:+t}function hr(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var o,a,r=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s\&\&(o=s.name,a=s.index),AI[r](n,e,a,o)}}}function cr(t,e,i){if(t){var n=t.getProvider().getSource().sourceFormat;if(n===tI||n===iI){var o=t.getRawDataItem(e);return n!==tI||w(o)||(o=null),o?o[i]:void 0}}}function dr(t){return new fr(t)}function fr(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function pr(t,e,i,n,o,a){PI.reset(i,n,o,a),t._callingProgress=e,t._callingProgress({start:i,end:n,count:n-i,next:PI.next},t.context)}function gr(t,e){t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null;var i,n;!e\&\&t._reset\&\&((i=t._reset(t.context))\&\&i.progress\&\&(n=i.forceFirstProgress,i=i.progress),y(i)\&\&!i.length\&\&(i=null)),t._progress=i,t._modBy=t._modDataCount=null;var o=t._downstream;return o\&\&o.dirty(),n}function mr(t){var e=t.name;Oi(t)||(t.name=vr(t)||e)}function vr(t){var e=t.getRawData(),i=[];return d(e.mapDimension(\"seriesName\",!0),function(t){var n=e.getDimensionInfo(t);n.displayName\&\&i.push(n.displayName)}),i.join(\" \")}function yr(t){return t.model.getRawData().count()}function xr(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),_r}function _r(t,e){t.end>e.outputData.count()\&\&e.model.getRawData().cloneShallow(e.outputData)}function wr(t,e){d(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,v(br,e))})}function br(t){var e=Sr(t);e\&\&e.setOutputEnd(this.count())}function Sr(t){var e=(t.ecModel||{}).scheduler,i=e\&\&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var o=n.agentStubMap;o\&\&(n=o.get(t.uid))}return n}}function Mr(){this.group=new Zw,this.uid=No(\"viewChart\"),this.renderTask=dr({plan:Ar,reset:Dr}),this.renderTask.context={view:this}}function Ir(t,e){if(t\&\&(t.trigger(e),\"group\"===t.type))for(var i=0;i<t.childCount();i++)Ir(t.childAt(i),e)}function Tr(t,e,i){var n=zi(t,e);null!=n?d(Di(n),function(e){Ir(t.getItemGraphicEl(e),i)}):t.eachItemGraphicEl(function(t){Ir(t,i)})}function Ar(t){return VI(t.model)}function Dr(t){var e=t.model,i=t.ecModel,n=t.api,o=t.payload,a=e.pipelineContext.progressiveRender,r=t.view,s=o\&\&BI(o).updateMethod,l=a?\"incrementalPrepareRender\":s\&\&r[s]?s:\"render\";return\"render\"!==l\&\&r[l](e,i,n,o),FI[l]}function Cr(t,e,i){function n(){h=(new Date).getTime(),c=null,t.apply(r,s||[])}var o,a,r,s,l,u=0,h=0,c=null;e=e||0;var d=function(){o=(new Date).getTime(),r=this,s=arguments;var t=l||e,d=l||i;l=null,a=o-(d?u:h)-t,clearTimeout(c),d?c=setTimeout(n,t):a>=0?n():c=setTimeout(n,-a),u=o};return d.clear=function(){c\&\&(clearTimeout(c),c=null)},d.debounceNextCall=function(t){l=t},d}function Lr(t,e,i,n){var o=t[e];if(o){var a=o[WI]||o,r=o[ZI];if(o[HI]!==i||r!==n){if(null==i||!n)return t[e]=a;(o=t[e]=Cr(a,i,\"debounce\"===n))[WI]=a,o[ZI]=n,o[HI]=i}return o}}function kr(t,e){var i=t[e];i\&\&i[WI]\&\&(t[e]=i[WI])}function Pr(t,e,i,n){this.ecInstance=t,this.api=e,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=R()}function Nr(t,e,i,n,o){function a(t,e){return t.setDirty\&\&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}o=o||{};var r;d(e,function(e,s){if(!o.visualType||o.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,d=h.agentStubMap;d.each(function(t){a(o,t)\&\&(t.dirty(),c=!0)}),c\&\&h.dirty(),KI(h,n);var f=t.getPerformArgs(h,o.block);d.each(function(t){t.perform(f)}),r|=h.perform(f)}else u\&\&u.each(function(s,l){a(o,s)\&\&s.dirty();var u=t.getPerformArgs(s,o.block);u.skip=!e.performRawSeries\&\&i.isSeriesFiltered(s.context.model),KI(s,n),r|=s.perform(u)})}}),t.unfinished|=r}function Or(t,e,i,n,o){function a(i){var a=i.uid,s=r.get(a)||r.set(a,dr({plan:Gr,reset:Fr,count:Hr}));s.context={model:i,ecModel:n,api:o,useClearVisual:e.isVisual\&\&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},Zr(t,i,s)}var r=i.seriesTaskMap||(i.seriesTaskMap=R()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(a):s?n.eachRawSeriesByType(s,a):l\&\&l(n,o).each(a);var u=t._pipelineMap;r.each(function(t,e){u.get(e)||(t.dispose(),r.removeKey(e))})}function Er(t,e,i,n,o){function a(e){var i=e.uid,n=s.get(i);n||(n=s.set(i,dr({reset:zr,onDirty:Vr})),r.dirty()),n.context={model:e,overallProgress:h,modifyOutputEnd:c},n.agent=r,n.__block=h,Zr(t,e,n)}var r=i.overallTask=i.overallTask||dr({reset:Rr});r.context={ecModel:n,api:o,overallReset:e.overallReset,scheduler:t};var s=r.agentStubMap=r.agentStubMap||R(),l=e.seriesType,u=e.getTargetSeries,h=!0,c=e.modifyOutputEnd;l?n.eachRawSeriesByType(l,a):u?u(n,o).each(a):(h=!1,d(n.getSeries(),a));var f=t._pipelineMap;s.each(function(t,e){f.get(e)||(t.dispose(),r.dirty(),s.removeKey(e))})}function Rr(t){t.overallReset(t.ecModel,t.api,t.payload)}function zr(t,e){return t.overallProgress\&\&Br}function Br(){this.agent.dirty(),this.getDownstream().dirty()}function Vr(){this.agent\&\&this.agent.dirty()}function Gr(t){return t.plan\&\&t.plan(t.model,t.ecModel,t.api,t.payload)}function Fr(t){t.useClearVisual\&\&t.data.clearAllVisual();var e=t.resetDefines=Di(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?f(e,function(t,e){return Wr(e)}):\$I}function Wr(t){return function(e,i){var n=i.data,o=i.resetDefines[t];if(o\&\&o.dataEach)for(var a=e.start;a<e.end;a++)o.dataEach(n,a);else o\&\&o.progress\&\&o.progress(e,n)}}function Hr(t){return t.data.count()}function Zr(t,e,i){var n=e.uid,o=t._pipelineMap.get(n);!o.head\&\&(o.head=i),o.tail\&\&o.tail.pipe(i),o.tail=i,i.__idxInPipeline=o.count++,i.__pipeline=o}function Ur(t){JI=null;try{t(QI,tT)}catch(t){}return JI}function Xr(t,e){for(var i in e.prototype)t[i]=B}function jr(t){for(_(t)\&\&(t=(new DOMParser).parseFromString(t,\"text/xml\")),9===t.nodeType\&\&(t=t.firstChild);\"svg\"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Yr(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function qr(t,e){for(var i=t.firstChild;i;){if(1===i.nodeType){var n=i.getAttribute(\"offset\");n=n.indexOf(\"%\")>0?parseInt(n,10)/100:n?parseFloat(n):0;var o=i.getAttribute(\"stop-color\")||\"#000000\";e.addColorStop(n,o)}i=i.nextSibling}}function Kr(t,e){t\&\&t.__inheritedStyle\&\&(e.__inheritedStyle||(e.__inheritedStyle={}),r(e.__inheritedStyle,t.__inheritedStyle))}function \$r(t){for(var e=P(t).split(rT),i=[],n=0;n<e.length;n+=2){var o=parseFloat(e[n]),a=parseFloat(e[n+1]);i.push([o,a])}return i}function Jr(t,e,i,n){var o=e.__inheritedStyle||{},r=\"text\"===e.type;if(1===t.nodeType\&\&(ts(t,e),a(o,es(t)),!n))for(var s in uT)if(uT.hasOwnProperty(s)){var l=t.getAttribute(s);null!=l\&\&(o[uT[s]]=l)}var u=r?\"textFill\":\"fill\",h=r?\"textStroke\":\"stroke\";e.style=e.style||new \$w;var c=e.style;null!=o.fill\&\&c.set(u,Qr(o.fill,i)),null!=o.stroke\&\&c.set(h,Qr(o.stroke,i)),d([\"lineWidth\",\"opacity\",\"fillOpacity\",\"strokeOpacity\",\"miterLimit\",\"fontSize\"],function(t){var e=\"lineWidth\"===t\&\&r?\"textStrokeWidth\":t;null!=o[t]\&\&c.set(e,parseFloat(o[t]))}),o.textBaseline\&\&\"auto\"!==o.textBaseline||(o.textBaseline=\"alphabetic\"),\"alphabetic\"===o.textBaseline\&\&(o.textBaseline=\"bottom\"),\"start\"===o.textAlign\&\&(o.textAlign=\"left\"),\"end\"===o.textAlign\&\&(o.textAlign=\"right\"),d([\"lineDashOffset\",\"lineCap\",\"lineJoin\",\"fontWeight\",\"fontFamily\",\"fontStyle\",\"textAlign\",\"textBaseline\"],function(t){null!=o[t]\&\&c.set(t,o[t])}),o.lineDash\&\&(e.style.lineDash=P(o.lineDash).split(rT)),c[h]\&\&\"none\"!==c[h]\&\&(e[h]=!0),e.__inheritedStyle=o}function Qr(t,e){var i=e\&\&t\&\&t.match(hT);return i?e[P(i[1])]:t}function ts(t,e){var i=t.getAttribute(\"transform\");if(i){var n=null,o=[];(i=i.replace(/,/g,\" \")).replace(cT,function(t,e,i){o.push(e,i)});for(var a=o.length-1;a>0;a-=2){var r=o[a],s=o[a-1];switch(n=n||mt(),s){case\"translate\":r=P(r).split(rT),_t(n,n,[parseFloat(r[0]),parseFloat(r[1]||0)]);break;case\"scale\":r=P(r).split(rT),bt(n,n,[parseFloat(r[0]),parseFloat(r[1]||r[0])]);break;case\"rotate\":r=P(r).split(rT),wt(n,n,parseFloat(r[0]));break;case\"skew\":r=P(r).split(rT),console.warn(\"Skew transform is not supported yet\");break;case\"matrix\":r=P(r).split(rT);n[0]=parseFloat(r[0]),n[1]=parseFloat(r[1]),n[2]=parseFloat(r[2]),n[3]=parseFloat(r[3]),n[4]=parseFloat(r[4]),n[5]=parseFloat(r[5])}}}e.setLocalTransform(n)}function es(t){var e=t.getAttribute(\"style\"),i={};if(!e)return i;var n={};dT.lastIndex=0;for(var o;null!=(o=dT.exec(e));)n[o[1]]=o[2];for(var a in uT)uT.hasOwnProperty(a)\&\&null!=n[a]\&\&(i[uT[a]]=n[a]);return i}function is(t,e,i){var n=e/t.width,o=i/t.height,a=Math.min(n,o);return{scale:[a,a],position:[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+i/2]}}function ns(t,e){return(new Yr).parse(t,e)}function os(t){return function(e,i,n){e=e\&\&e.toLowerCase(),aw.prototype[t].call(this,e,i,n)}}function as(){aw.call(this)}function rs(t,e,n){function o(t,e){return t.__prio-e.__prio}n=n||{},\"string\"==typeof e\&\&(e=BT[e]),this.id,this.group,this._dom=t;var a=this._zr=Ii(t,{renderer:n.renderer||\"canvas\",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=Cr(m(a.flush,a),17),(e=i(e))\&\&MI(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ba;var r=this._api=Ms(this);ve(zT,o),ve(OT,o),this._scheduler=new Pr(this,r,OT,zT),aw.call(this,this._ecEventProcessor=new Is),this._messageCenter=new as,this._initEvents(),this.resize=m(this.resize,this),this._pendingActions=[],a.animation.on(\"frame\",this._onframe,this),ps(a,this),N(this)}function ss(t,e,i){var n,o=this._model,a=this._coordSysMgr.getCoordinateSystems();e=Vi(o,e);for(var r=0;r<a.length;r++){var s=a[r];if(s[t]\&\&null!=(n=s[t](o,e,i)))return n}}function ls(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),gs(t,\"component\",e,i),gs(t,\"chart\",e,i),i.plan()}function us(t,e,i,n,o){function a(n){n\&\&n.__alive\&\&n[e]\&\&n[e](n.__model,r,t._api,i)}var r=t._model;if(n){var s={};s[n+\"Id\"]=i[n+\"Id\"],s[n+\"Index\"]=i[n+\"Index\"],s[n+\"Name\"]=i[n+\"Name\"];var l={mainType:n,query:s};o\&\&(l.subType=o);var u=i.excludeSeriesId;null!=u\&\&(u=R(Di(u))),r\&\&r.eachComponent(l,function(e){u\&\&null!=u.get(e.id)||a(t[\"series\"===n?\"_chartsMap\":\"_componentsMap\"][e.__viewId])},t)}else vT(t._componentsViews.concat(t._chartsViews),a)}function hs(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries(function(t){n.updateStreamModes(t,i[t.__viewId])})}function cs(t,e){var i=t.type,n=t.escapeConnect,o=PT[i],s=o.actionInfo,l=(s.update||\"update\").split(\":\"),u=l.pop();l=null!=l[0]\&\&_T(l[0]),this[TT]=!0;var h=[t],c=!1;t.batch\&\&(c=!0,h=f(t.batch,function(e){return e=r(a({},e),t),e.batch=null,e}));var d,p=[],g=\"highlight\"===i||\"downplay\"===i;vT(h,function(t){d=o.action(t,this._model,this._api),(d=d||a({},t)).type=s.event||d.type,p.push(d),g?us(this,u,t,\"series\"):l\&\&us(this,u,t,l.main,l.sub)},this),\"none\"===u||g||l||(this[AT]?(ls(this),LT.update.call(this,t),this[AT]=!1):LT[u].call(this,t)),d=c?{type:s.event||i,escapeConnect:n,batch:p}:p[0],this[TT]=!1,!e\&\&this._messageCenter.trigger(d.type,d)}function ds(t){for(var e=this._pendingActions;e.length;){var i=e.shift();cs.call(this,i,t)}}function fs(t){!t\&\&this.trigger(\"updated\")}function ps(t,e){t.on(\"rendered\",function(){e.trigger(\"rendered\"),!t.animation.isFinished()||e[AT]||e._scheduler.unfinished||e._pendingActions.length||e.trigger(\"finished\")})}function gs(t,e,i,n){function o(t){var e=\"_ec_\"+t.id+\"_\"+t.type,o=s[e];if(!o){var h=_T(t.type);(o=new(a?EI.getClass(h.main,h.sub):Mr.getClass(h.sub))).init(i,u),s[e]=o,r.push(o),l.add(o.group)}t.__viewId=o.__id=e,o.__alive=!0,o.__model=t,o.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!a\&\&n.prepareView(o,t,i,u)}for(var a=\"component\"===e,r=a?t._componentsViews:t._chartsViews,s=a?t._componentsMap:t._chartsMap,l=t._zr,u=t._api,h=0;h<r.length;h++)r[h].__alive=!1;a?i.eachComponent(function(t,e){\"series\"!==t\&\&o(e)}):i.eachSeries(o);for(h=0;h<r.length;){var c=r[h];c.__alive?h++:(!a\&\&c.renderTask.dispose(),l.remove(c.group),c.dispose(i,u),r.splice(h,1),delete s[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function ms(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function vs(t,e,i,n){ys(t,e,i,n),vT(t._chartsViews,function(t){t.__alive=!1}),xs(t,e,i,n),vT(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function ys(t,e,i,n,o){vT(o||t._componentsViews,function(t){var o=t.__model;t.render(o,e,i,n),Ss(o,t)})}function xs(t,e,i,n,o){var a,r=t._scheduler;e.eachSeries(function(e){var i=t._chartsMap[e.__viewId];i.__alive=!0;var s=i.renderTask;r.updatePayload(s,n),o\&\&o.get(e.uid)\&\&s.dirty(),a|=s.perform(r.getPerformArgs(s)),i.group.silent=!!e.get(\"silent\"),Ss(e,i),bs(e,i)}),r.unfinished|=a,ws(t._zr,e),jI(t._zr.dom,e)}function _s(t,e){vT(RT,function(i){i(t,e)})}function ws(t,e){var i=t.storage,n=0;i.traverse(function(t){t.isGroup||n++}),n>e.get(\"hoverLayerThreshold\")\&\&!z_.node\&\&i.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function bs(t,e){var i=t.get(\"blendMode\")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==i\&\&t.setStyle(\"blend\",i),t.eachPendingDisplayable\&\&t.eachPendingDisplayable(function(t){t.setStyle(\"blend\",i)})})}function Ss(t,e){var i=t.get(\"z\"),n=t.get(\"zlevel\");e.group.traverse(function(t){\"group\"!==t.type\&\&(null!=i\&\&(t.z=i),null!=n\&\&(t.zlevel=n))})}function Ms(t){var e=t._coordSysMgr;return a(new za(t),{getCoordinateSystems:m(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}}})}function Is(){this.eventInfo}function Ts(t){function e(t,e){for(var n=0;n<t.length;n++)t[n][i]=e}var i=\"__connectUpdateStatus\";vT(NT,function(n,o){t._messageCenter.on(o,function(n){if(FT[t.group]\&\&0!==t[i]){if(n\&\&n.escapeConnect)return;var o=t.makeActionFromEvent(n),a=[];vT(GT,function(e){e!==t\&\&e.group===t.group\&\&a.push(e)}),e(a,0),vT(a,function(t){1!==t[i]\&\&t.dispatchAction(o)}),e(a,2)}})})}function As(t){FT[t]=!1}function Ds(t){return GT[Wi(t,ZT)]}function Cs(t,e){BT[t]=e}function Ls(t){ET.push(t)}function ks(t,e){Rs(OT,t,e,bT)}function Ps(t,e,i){\"function\"==typeof e\&\&(i=e,e=\"\");var n=xT(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,mT(DT.test(n)\&\&DT.test(e)),PT[n]||(PT[n]={action:i,actionInfo:t}),NT[e]=n}function Ns(t,e){Ba.register(t,e)}function Os(t,e){Rs(zT,t,e,ST,\"layout\")}function Es(t,e){Rs(zT,t,e,MT,\"visual\")}function Rs(t,e,i,n,o){(yT(e)||xT(e))\&\&(i=e,e=n);var a=Pr.wrapStageHandler(i,o);return a.__prio=e,a.__raw=i,t.push(a),a}function zs(t,e){VT[t]=e}function Bs(t){return YM.extend(t)}function Vs(t){return EI.extend(t)}function Gs(t){return OI.extend(t)}function Fs(t){return Mr.extend(t)}function Ws(t){return t}function Hs(t,e,i,n,o){this._old=t,this._new=e,this._oldKeyGetter=i||Ws,this._newKeyGetter=n||Ws,this.context=o}function Zs(t,e,i,n,o){for(var a=0;a<t.length;a++){var r=\"_ec_\"+o[n](t[a],a),s=e[r];null==s?(i.push(r),e[r]=a):(s.length||(e[r]=s=[s]),s.push(a))}}function Us(t){var e={},i=e.encode={},n=R(),o=[],a=[];d(t.dimensions,function(e){var r=t.getDimensionInfo(e),s=r.coordDim;if(s){var l=i[s];i.hasOwnProperty(s)||(l=i[s]=[]),l[r.coordDimIndex]=e,r.isExtraCoord||(n.set(s,1),js(r.type)\&\&(o[0]=e)),r.defaultTooltip\&\&a.push(e)}jT.each(function(t,e){var n=i[e];i.hasOwnProperty(e)||(n=i[e]=[]);var o=r.otherDims[e];null!=o\&\&!1!==o\&\&(n[o]=r.name)})});var r=[],s={};n.each(function(t,e){var n=i[e];s[e]=n[0],r=r.concat(n)}),e.dataDimsOnCoord=r,e.encodeFirstDimNotExtra=s;var l=i.label;l\&\&l.length\&\&(o=l.slice());var u=i.tooltip;return u\&\&u.length?a=u.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,e}function Xs(t){return\"category\"===t?\"ordinal\":\"time\"===t?\"time\":\"float\"}function js(t){return!(\"ordinal\"===t||\"time\"===t)}function Ys(t){return t._rawCount>65535?\$T:JT}function qs(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Ks(t,e){d(QT.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)\&\&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,d(tA,function(n){t[n]=i(e[n])}),t._calculationInfo=a(e._calculationInfo)}function \$s(t){var e=t._invertedIndicesMap;d(e,function(i,n){var o=t._dimensionInfos[n].ordinalMeta;if(o){i=e[n]=new \$T(o.categories.length);for(a=0;a<i.length;a++)i[a]=NaN;for(var a=0;a<t._count;a++)i[t.get(n,a)]=a}})}function Js(t,e,i){var n;if(null!=e){var o=t._chunkSize,a=Math.floor(i/o),r=i%o,s=t.dimensions[e],l=t._storage[s][a];if(l){n=l[r];var u=t._dimensionInfos[s].ordinalMeta;u\&\&u.categories.length\&\&(n=u.categories[n])}}return n}function Qs(t){return t}function tl(t){return t<this._count\&\&t>=0?this._indices[t]:-1}function el(t,e){var i=t._idList[e];return null==i\&\&(i=Js(t,t._idDimIdx,e)),null==i\&\&(i=qT+e),i}function il(t){return y(t)||(t=[t]),t}function nl(t,e){var i=t.dimensions,n=new eA(f(i,t.getDimensionInfo,t),t.hostModel);Ks(n,t);for(var o=n._storage={},a=t._storage,r=0;r<i.length;r++){var s=i[r];a[s]\&\&(l(e,s)>=0?(o[s]=ol(a[s]),n._rawExtent[s]=al(),n._extent[s]=null):o[s]=a[s])}return n}function ol(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=qs(t[i]);return e}function al(){return[1/0,-1/0]}function rl(t,e,n){function o(t,e,i){null!=jT.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,h.set(e,!0))}va.isInstance(e)||(e=va.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var s=(n.dimsDef||[]).slice(),l=R(n.encodeDef),u=R(),h=R(),c=[],f=sl(e,t,s,n.dimCount),p=0;p<f;p++){var g=s[p]=a({},w(s[p])?s[p]:{name:s[p]}),m=g.name,v=c[p]={otherDims:{}};null!=m\&\&null==u.get(m)\&\&(v.name=v.displayName=m,u.set(m,p)),null!=g.type\&\&(v.type=g.type),null!=g.displayName\&\&(v.displayName=g.displayName)}l.each(function(t,e){if(1===(t=Di(t).slice()).length\&\&t[0]<0)l.set(e,!1);else{var i=l.set(e,[]);d(t,function(t,n){_(t)\&\&(t=u.get(t)),null!=t\&\&t<f\&\&(i[n]=t,o(c[t],e,n))})}});var y=0;d(t,function(t,e){var n,t,a,s;if(_(t))n=t,t={};else{n=t.name;var u=t.ordinalMeta;t.ordinalMeta=null,(t=i(t)).ordinalMeta=u,a=t.dimsDef,s=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var h=l.get(n);if(!1!==h){if(!(h=Di(h)).length)for(var f=0;f<(a\&\&a.length||1);f++){for(;y<c.length\&\&null!=c[y].coordDim;)y++;y<c.length\&\&h.push(y++)}d(h,function(e,i){var l=c[e];if(o(r(l,t),n,i),null==l.name\&\&a){var u=a[i];!w(u)\&\&(u={name:u}),l.name=l.displayName=u.name,l.defaultTooltip=u.defaultTooltip}s\&\&r(l.otherDims,s)})}});var x=n.generateCoord,b=n.generateCoordCount,S=null!=b;b=x?b||1:0;for(var M=x||\"value\",I=0;I<f;I++)null==(v=c[I]=c[I]||{}).coordDim\&\&(v.coordDim=ll(M,h,S),v.coordDimIndex=0,(!x||b<=0)\&\&(v.isExtraCoord=!0),b--),null==v.name\&\&(v.name=ll(v.coordDim,u)),null==v.type\&\&Da(e,I,v.name)\&\&(v.type=\"ordinal\");return c}function sl(t,e,i,n){var o=Math.max(t.dimensionsDetectCount||1,e.length,i.length,n||0);return d(e,function(t){var e=t.dimsDef;e\&\&(o=Math.max(o,e.length))}),o}function ll(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}function ul(t,e,i){var n,o,a,r,s=(i=i||{}).byIndex,l=i.stackedCoordDimension,u=!(!t||!t.get(\"stack\"));if(d(e,function(t,i){_(t)\&\&(e[i]=t={name:t}),u\&\&!t.isExtraCoord\&\&(s||n||!t.ordinalMeta||(n=t),o||\"ordinal\"===t.type||\"time\"===t.type||l\&\&l!==t.coordDim||(o=t))}),!o||s||n||(s=!0),o){a=\"__\\0ecstackresult\",r=\"__\\0ecstackedover\",n\&\&(n.createInvertedIndices=!0);var h=o.coordDim,c=o.type,f=0;d(e,function(t){t.coordDim===h\&\&f++}),e.push({name:a,coordDim:h,coordDimIndex:f,type:c,isExtraCoord:!0,isCalculationCoord:!0}),f++,e.push({name:r,coordDim:r,coordDimIndex:f,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o\&\&o.name,stackedByDimension:n\&\&n.name,isStackedByIndex:s,stackedOverDimension:r,stackResultDimension:a}}function hl(t,e){return!!e\&\&e===t.getCalculationInfo(\"stackedDimension\")}function cl(t,e){return hl(t,e)?t.getCalculationInfo(\"stackResultDimension\"):e}function dl(t,e,i){i=i||{},va.isInstance(t)||(t=va.seriesDataToSource(t));var n,o=e.get(\"coordinateSystem\"),a=Ba.get(o),r=ga(e);r\&\&(n=f(r.coordSysDims,function(t){var e={name:t},i=r.axisMap.get(t);if(i){var n=i.get(\"type\");e.type=Xs(n)}return e})),n||(n=a\&\&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||[\"x\",\"y\"]);var s,l,u=oA(t,{coordDimensions:n,generateCoord:i.generateCoord});r\&\&d(u,function(t,e){var i=t.coordDim,n=r.categoryAxisMap.get(i);n\&\&(null==s\&\&(s=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName\&\&(l=!0)}),l||null==s||(u[s].otherDims.itemName=0);var h=ul(e,u),c=new eA(u,e);c.setCalculationInfo(h);var p=null!=s\&\&fl(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return c.hasItemOption=!1,c.initData(t,null,p),c}function fl(t){if(t.sourceFormat===tI){var e=pl(t.data||[]);return null!=e\&\&!y(Li(e))}}function pl(t){for(var e=0;e<t.length\&\&null==t[e];)e++;return t[e]}function gl(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init\&\&this.init.apply(this,arguments)}function ml(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function vl(t){return t._map||(t._map=R(t.categories))}function yl(t){return w(t)\&\&null!=t.value?t.value:t+\"\"}function xl(t,e,i,n){var o={},a=t[1]-t[0],r=o.interval=Yo(a/e,!0);null!=i\&\&r<i\&\&(r=o.interval=i),null!=n\&\&r>n\&\&(r=o.interval=n);var s=o.intervalPrecision=_l(r);return bl(o.niceTickExtent=[lA(Math.ceil(t[0]/r)*r,s),lA(Math.floor(t[1]/r)*r,s)],t),o}function _l(t){return Go(t)+2}function wl(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function bl(t,e){!isFinite(t[0])\&\&(t[0]=e[0]),!isFinite(t[1])\&\&(t[1]=e[1]),wl(t,0,e),wl(t,1,e),t[0]>t[1]\&\&(t[0]=t[1])}function Sl(t,e,i,n){var o=[];if(!t)return o;e[0]<i[0]\&\&o.push(e[0]);for(var a=i[0];a<=i[1]\&\&(o.push(a),(a=lA(a+t,n))!==o[o.length-1]);)if(o.length>1e4)return[];return e[1]>(o.length?o[o.length-1]:i[1])\&\&o.push(e[1]),o}function Ml(t){return t.get(\"stack\")||cA+t.seriesIndex}function Il(t){return t.dim+t.index}function Tl(t){var e=[],i=t.axis;if(\"category\"===i.type){for(var n=i.getBandWidth(),o=0;o<t.count;o++)e.push(r({bandWidth:n,axisKey:\"axis0\",stackId:cA+o},t));for(var a=Cl(e),s=[],o=0;o<t.count;o++){var l=a.axis0[cA+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function Al(t,e){var i=[];return e.eachSeriesByType(t,function(t){Pl(t)\&\&!Nl(t)\&\&i.push(t)}),i}function Dl(t){var e=[];return d(t,function(t){var i=t.getData(),n=t.coordinateSystem.getBaseAxis(),o=n.getExtent(),a=\"category\"===n.type?n.getBandWidth():Math.abs(o[1]-o[0])/i.count(),r=Ro(t.get(\"barWidth\"),a),s=Ro(t.get(\"barMaxWidth\"),a),l=t.get(\"barGap\"),u=t.get(\"barCategoryGap\");e.push({bandWidth:a,barWidth:r,barMaxWidth:s,barGap:l,barCategoryGap:u,axisKey:Il(n),stackId:Ml(t)})}),Cl(e)}function Cl(t){var e={};d(t,function(t,i){var n=t.axisKey,o=t.bandWidth,a=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},r=a.stacks;e[n]=a;var s=t.stackId;r[s]||a.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=t.barWidth;l\&\&!r[s].width\&\&(r[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var u=t.barMaxWidth;u\&\&(r[s].maxWidth=u);var h=t.barGap;null!=h\&\&(a.gap=h);var c=t.barCategoryGap;null!=c\&\&(a.categoryGap=c)});var i={};return d(e,function(t,e){i[e]={};var n=t.stacks,o=t.bandWidth,a=Ro(t.categoryGap,o),r=Ro(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-a)/(l+(l-1)*r);u=Math.max(u,0),d(n,function(t,e){var i=t.maxWidth;i\&\&i<u\&\&(i=Math.min(i,s),t.width\&\&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),u=(s-a)/(l+(l-1)*r),u=Math.max(u,0);var h,c=0;d(n,function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+r)}),h\&\&(c-=h.width*r);var f=-c/2;d(n,function(t,n){i[e][n]=i[e][n]||{offset:f,width:t.width},f+=t.width*(1+r)})}),i}function Ll(t,e,i){if(t\&\&e){var n=t[Il(e)];return null!=n\&\&null!=i\&\&(n=n[Ml(i)]),n}}function kl(t,e){var i=Al(t,e),n=Dl(i),o={};d(i,function(t){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),r=Ml(t),s=n[Il(a)][r],l=s.offset,u=s.width,h=i.getOtherAxis(a),c=t.get(\"barMinHeight\")||0;o[r]=o[r]||[],e.setLayout({offset:l,size:u});for(var d=e.mapDimension(h.dim),f=e.mapDimension(a.dim),p=hl(e,d),g=h.isHorizontal(),m=Ol(a,h,p),v=0,y=e.count();v<y;v++){var x=e.get(d,v),_=e.get(f,v);if(!isNaN(x)){var w=x>=0?\"p\":\"n\",b=m;p\&\&(o[r][_]||(o[r][_]={p:m,n:m}),b=o[r][_][w]);var S,M,I,T;if(g)S=b,M=(A=i.dataToPoint([x,_]))[1]+l,I=A[0]-m,T=u,Math.abs(I)<c\&\&(I=(I<0?-1:1)*c),p\&\&(o[r][_][w]+=I);else{var A=i.dataToPoint([_,x]);S=A[0]+l,M=b,I=u,T=A[1]-m,Math.abs(T)<c\&\&(T=(T<=0?-1:1)*c),p\&\&(o[r][_][w]+=T)}e.setItemLayout(v,{x:S,y:M,width:I,height:T})}}},this)}function Pl(t){return t.coordinateSystem\&\&\"cartesian2d\"===t.coordinateSystem.type}function Nl(t){return t.pipelineContext\&\&t.pipelineContext.large}function Ol(t,e,i){var n,o,a=e.getGlobalExtent();a[0]>a[1]?(n=a[1],o=a[0]):(n=a[0],o=a[1]);var r=e.toGlobalCoord(e.dataToCoord(0));return r<n\&\&(r=n),r>o\&\&(r=o),r}function El(t,e){return SA(t,bA(e))}function Rl(t,e){var i,n,o,a=t.type,r=e.getMin(),s=e.getMax(),l=null!=r,u=null!=s,h=t.getExtent();\"ordinal\"===a?i=e.getCategories().length:(y(n=e.get(\"boundaryGap\"))||(n=[n||0,n||0]),\"boolean\"==typeof n[0]\&\&(n=[0,0]),n[0]=Ro(n[0],1),n[1]=Ro(n[1],1),o=h[1]-h[0]||Math.abs(h[0])),null==r\&\&(r=\"ordinal\"===a?i?0:NaN:h[0]-n[0]*o),null==s\&\&(s=\"ordinal\"===a?i?i-1:NaN:h[1]+n[1]*o),\"dataMin\"===r?r=h[0]:\"function\"==typeof r\&\&(r=r({min:h[0],max:h[1]})),\"dataMax\"===s?s=h[1]:\"function\"==typeof s\&\&(s=s({min:h[0],max:h[1]})),(null==r||!isFinite(r))\&\&(r=NaN),(null==s||!isFinite(s))\&\&(s=NaN),t.setBlank(I(r)||I(s)||\"ordinal\"===a\&\&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()\&\&(r>0\&\&s>0\&\&!l\&\&(r=0),r<0\&\&s<0\&\&!u\&\&(s=0));var c=e.ecModel;if(c\&\&\"time\"===a){var f,p=Al(\"bar\",c);if(d(p,function(t){f|=t.getBaseAxis()===e.axis}),f){var g=Dl(p),m=zl(r,s,e,g);r=m.min,s=m.max}}return[r,s]}function zl(t,e,i,n){var o=i.axis.getExtent(),a=o[1]-o[0],r=Ll(n,i.axis);if(void 0===r)return{min:t,max:e};var s=1/0;d(r,function(t){s=Math.min(t.offset,s)});var l=-1/0;d(r,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/a)-h;return e+=c*(l/u),t-=c*(s/u),{min:t,max:e}}function Bl(t,e){var i=Rl(t,e),n=null!=e.getMin(),o=null!=e.getMax(),a=e.get(\"splitNumber\");\"log\"===t.type\&\&(t.base=e.get(\"logBase\"));var r=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:a,fixMin:n,fixMax:o,minInterval:\"interval\"===r||\"time\"===r?e.get(\"minInterval\"):null,maxInterval:\"interval\"===r||\"time\"===r?e.get(\"maxInterval\"):null});var s=e.get(\"interval\");null!=s\&\&t.setInterval\&\&t.setInterval(s)}function Vl(t,e){if(e=e||t.get(\"type\"))switch(e){case\"category\":return new sA(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case\"value\":return new hA;default:return(gl.getClass(e)||hA).create(t)}}function Gl(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0\&\&n>0||i<0\&\&n<0)}function Fl(t){var e=t.getLabelModel().get(\"formatter\"),i=\"category\"===t.type?t.scale.getExtent()[0]:null;return\"string\"==typeof e?e=function(e){return function(i){return i=t.scale.getLabel(i),e.replace(\"{value}\",null!=i?i:\"\")}}(e):\"function\"==typeof e?function(n,o){return null!=i\&\&(o=n-i),e(Wl(t,n),o)}:function(e){return t.scale.getLabel(e)}}function Wl(t,e){return\"category\"===t.type?t.scale.getLabel(e):e}function Hl(t){var e=t.model,i=t.scale;if(e.get(\"axisLabel.show\")\&\&!i.isBlank()){var n,o,a=\"category\"===t.type,r=i.getExtent();o=a?i.count():(n=i.getTicks()).length;var s,l=t.getLabelModel(),u=Fl(t),h=1;o>40\&\&(h=Math.ceil(o/40));for(var c=0;c<o;c+=h){var d=u(n?n[c]:r[0]+c),f=Zl(l.getTextRect(d),l.get(\"rotate\")||0);s?s.union(f):s=f}return s}}function Zl(t,e){var i=e*Math.PI/180,n=t.plain(),o=n.width,a=n.height,r=o*Math.cos(i)+a*Math.sin(i),s=o*Math.sin(i)+a*Math.cos(i);return new ue(n.x,n.y,r,s)}function Ul(t,e){if(\"image\"!==this.type){var i=this.style,n=this.shape;n\&\&\"line\"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||\"#fff\"):(i.fill\&\&(i.fill=t),i.stroke\&\&(i.stroke=t)),this.dirty(!1)}}function Xl(t,e,i,n,o,a,r){var s=0===t.indexOf(\"empty\");s\&\&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf(\"image://\")?Hn(t.slice(8),new ue(e,i,n,o),r?\"center\":\"cover\"):0===t.indexOf(\"path://\")?Wn(t.slice(7),{},new ue(e,i,n,o),r?\"center\":\"cover\"):new RA({shape:{symbolType:t,x:e,y:i,width:n,height:o}}),l.__isEmptyBrush=s,l.setColor=Ul,l.setColor(a),l}function jl(t,e){return Math.abs(t-e)<VA}function Yl(t,e,i){var n=0,o=t[0];if(!o)return!1;for(var a=1;a<t.length;a++){var r=t[a];n+=bn(o[0],o[1],r[0],r[1],e,i),o=r}var s=t[0];return jl(o[0],s[0])\&\&jl(o[1],s[1])||(n+=bn(o[0],o[1],s[0],s[1],e,i)),0!==n}function ql(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function Kl(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e\&\&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n].geometry,a=o.coordinates,r=o.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if(\"Polygon\"===o.type)a[s]=\$l(l,r[s],e);else if(\"MultiPolygon\"===o.type)for(var u=0;u<l.length;u++){var h=l[u];l[u]=\$l(h,r[s][u],e)}}return t.UTF8Encoding=!1,t}function \$l(t,e,i){for(var n=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=t.charCodeAt(r)-64,l=t.charCodeAt(r+1)-64;s=s>>1^-(1\&s),l=l>>1^-(1\&l),o=s+=o,a=l+=a,n.push([s/i,l/i])}return n}function Jl(t){return\"category\"===t.type?tu(t):nu(t)}function Ql(t,e){return\"category\"===t.type?iu(t,e):{ticks:t.scale.getTicks()}}function tu(t){var e=t.getLabelModel(),i=eu(t,e);return!e.get(\"show\")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function eu(t,e){var i=ou(t,\"labels\"),n=du(e),o=au(i,n);if(o)return o;var a,r;return a=x(n)?cu(t,n):hu(t,r=\"auto\"===n?su(t):n),ru(i,n,{labels:a,labelCategoryInterval:r})}function iu(t,e){var i=ou(t,\"ticks\"),n=du(e),o=au(i,n);if(o)return o;var a,r;if(e.get(\"show\")\&\&!t.scale.isBlank()||(a=[]),x(n))a=cu(t,n,!0);else if(\"auto\"===n){var s=eu(t,t.getLabelModel());r=s.labelCategoryInterval,a=f(s.labels,function(t){return t.tickValue})}else a=hu(t,r=n,!0);return ru(i,n,{ticks:a,tickCategoryInterval:r})}function nu(t){var e=t.scale.getTicks(),i=Fl(t);return{labels:f(e,function(e,n){return{formattedLabel:i(e,n),rawLabel:t.scale.getLabel(e),tickValue:e}})}}function ou(t,e){return FA(t)[e]||(FA(t)[e]=[])}function au(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function ru(t,e,i){return t.push({key:e,value:i}),i}function su(t){var e=FA(t).autoInterval;return null!=e?e:FA(t).autoInterval=t.calculateCategoryInterval()}function lu(t){var e=uu(t),i=Fl(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),r=o.count();if(a[1]-a[0]<1)return 0;var s=1;r>40\&\&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(n)),c=Math.abs(u*Math.sin(n)),d=0,f=0;l<=a[1];l+=s){var p=0,g=0,m=De(i(l),e.font,\"center\",\"top\");p=1.3*m.width,g=1.3*m.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var v=d/h,y=f/c;isNaN(v)\&\&(v=1/0),isNaN(y)\&\&(y=1/0);var x=Math.max(0,Math.floor(Math.min(v,y))),_=FA(t.model),w=_.lastAutoInterval,b=_.lastTickCount;return null!=w\&\&null!=b\&\&Math.abs(w-x)<=1\&\&Math.abs(b-r)<=1\&\&w>x?x=w:(_.lastTickCount=r,_.lastAutoInterval=x),x}function uu(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal\&\&!t.isHorizontal()?90:0,labelRotate:e.get(\"rotate\")||0,font:e.getFont()}}function hu(t,e,i){function n(t){l.push(i?t:{formattedLabel:o(t),rawLabel:a.getLabel(t),tickValue:t})}var o=Fl(t),a=t.scale,r=a.getExtent(),s=t.getLabelModel(),l=[],u=Math.max((e||0)+1,1),h=r[0],c=a.count();0!==h\&\&u>1\&\&c/u>2\&\&(h=Math.round(Math.ceil(h/u)*u));var d={min:s.get(\"showMinLabel\"),max:s.get(\"showMaxLabel\")};d.min\&\&h!==r[0]\&\&n(r[0]);for(var f=h;f<=r[1];f+=u)n(f);return d.max\&\&f!==r[1]\&\&n(r[1]),l}function cu(t,e,i){var n=t.scale,o=Fl(t),a=[];return d(n.getTicks(),function(t){var r=n.getLabel(t);e(t,r)\&\&a.push(i?t:{formattedLabel:o(t),rawLabel:r,tickValue:t})}),a}function du(t){var e=t.get(\"interval\");return null==e?\"auto\":e}function fu(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}function pu(t,e,i,n,o){function a(t,e){return h?t>e:t<e}var r=e.length;if(t.onBand\&\&!n\&\&r){var s,l=t.getExtent();if(1===r)e[0].coord=l[0],s=e[1]={coord:l[0]};else{var u=e[1].coord-e[0].coord;d(e,function(t){t.coord-=u/2;var e=e||0;e%2>0\&\&(t.coord-=u/(2*(e+1)))}),s={coord:e[r-1].coord+u},e.push(s)}var h=l[0]>l[1];a(e[0].coord,l[0])\&\&(o?e[0].coord=l[0]:e.shift()),o\&\&a(l[0],e[0].coord)\&\&e.unshift({coord:l[0]}),a(l[1],s.coord)\&\&(o?s.coord=l[1]:e.pop()),o\&\&a(s.coord,l[1])\&\&e.push({coord:l[1]})}}function gu(t,e){var i=t.mapDimension(\"defaultedLabel\",!0),n=i.length;if(1===n)return hr(t,e,i[0]);if(n){for(var o=[],a=0;a<i.length;a++){var r=hr(t,e,i[a]);o.push(r)}return o.join(\" \")}}function mu(t,e,i){Zw.call(this),this.updateData(t,e,i)}function vu(t){return[t[0]/2,t[1]/2]}function yu(t,e){this.parent.drift(t,e)}function xu(){!oo(this)\&\&wu.call(this)}function _u(){!oo(this)\&\&bu.call(this)}function wu(){if(!this.incremental\&\&!this.useHoverLayer){var t=this.__symbolOriginalScale,e=t[1]/t[0];this.animateTo({scale:[Math.max(1.1*t[0],t[0]+3),Math.max(1.1*t[1],t[1]+3*e)]},400,\"elasticOut\")}}function bu(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,\"elasticOut\")}function Su(t){this.group=new Zw,this._symbolCtor=t||mu}function Mu(t,e,i,n){return e\&\&!isNaN(e[0])\&\&!isNaN(e[1])\&\&!(n.isIgnore\&\&n.isIgnore(i))\&\&!(n.clipShape\&\&!n.clipShape.contain(e[0],e[1]))\&\&\"none\"!==t.getItemVisual(i,\"symbol\")}function Iu(t){return null==t||w(t)||(t={isIgnore:t}),t||{}}function Tu(t){var e=t.hostModel;return{itemStyle:e.getModel(\"itemStyle\").getItemStyle([\"color\"]),hoverItemStyle:e.getModel(\"emphasis.itemStyle\").getItemStyle(),symbolRotate:e.get(\"symbolRotate\"),symbolOffset:e.get(\"symbolOffset\"),hoverAnimation:e.get(\"hoverAnimation\"),labelModel:e.getModel(\"label\"),hoverLabelModel:e.getModel(\"emphasis.label\"),cursorStyle:e.get(\"cursor\")}}function Au(t,e,i){var n,o=t.getBaseAxis(),a=t.getOtherAxis(o),r=Du(a,i),s=o.dim,l=a.dim,u=e.mapDimension(l),h=e.mapDimension(s),c=\"x\"===l||\"radius\"===l?1:0,d=f(t.dimensions,function(t){return e.mapDimension(t)}),p=e.getCalculationInfo(\"stackResultDimension\");return(n|=hl(e,d[0]))\&\&(d[0]=p),(n|=hl(e,d[1]))\&\&(d[1]=p),{dataDimsForPoint:d,valueStart:r,valueAxisDim:l,baseAxisDim:s,stacked:!!n,valueDim:u,baseDim:h,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo(\"stackedOverDimension\")}}function Du(t,e){var i=0,n=t.scale.getExtent();return\"start\"===e?i=n[0]:\"end\"===e?i=n[1]:n[0]>0?i=n[0]:n[1]<0\&\&(i=n[1]),i}function Cu(t,e,i,n){var o=NaN;t.stacked\&\&(o=i.get(i.getCalculationInfo(\"stackedOverDimension\"),n)),isNaN(o)\&\&(o=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=i.get(t.baseDim,n),r[1-a]=o,e.dataToPoint(r)}function Lu(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:\"+\",idx:t})}).update(function(t,e){i.push({cmd:\"=\",idx:e,idx1:t})}).remove(function(t){i.push({cmd:\"-\",idx:t})}).execute(),i}function ku(t){return isNaN(t[0])||isNaN(t[1])}function Pu(t,e,i,n,o,a,r,s,l,u,h){return\"none\"!==u\&\&u?Nu.apply(this,arguments):Ou.apply(this,arguments)}function Nu(t,e,i,n,o,a,r,s,l,u,h){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(d>=o||d<0)break;if(ku(p)){if(h){d+=a;continue}break}if(d===i)t[a>0?\"moveTo\":\"lineTo\"](p[0],p[1]);else if(l>0){var g=e[c],m=\"y\"===u?1:0,v=(p[m]-g[m])*l;oD(rD,g),rD[m]=g[m]+v,oD(sD,p),sD[m]=p[m]-v,t.bezierCurveTo(rD[0],rD[1],sD[0],sD[1],p[0],p[1])}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}function Ou(t,e,i,n,o,a,r,s,l,u,h){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(d>=o||d<0)break;if(ku(p)){if(h){d+=a;continue}break}if(d===i)t[a>0?\"moveTo\":\"lineTo\"](p[0],p[1]),oD(rD,p);else if(l>0){var g=d+a,m=e[g];if(h)for(;m\&\&ku(e[g]);)m=e[g+=a];var v=.5,y=e[c];if(!(m=e[g])||ku(m))oD(sD,p);else{ku(m)\&\&!h\&\&(m=p),U(aD,m,y);var x,_;if(\"x\"===u||\"y\"===u){var w=\"x\"===u?0:1;x=Math.abs(p[w]-y[w]),_=Math.abs(p[w]-m[w])}else x=ew(p,y),_=ew(p,m);nD(sD,p,aD,-l*(1-(v=_/(_+x))))}eD(rD,rD,s),iD(rD,rD,r),eD(sD,sD,s),iD(sD,sD,r),t.bezierCurveTo(rD[0],rD[1],sD[0],sD[1],p[0],p[1]),nD(rD,p,aD,l*v)}else t.lineTo(p[0],p[1]);c=d,d+=a}return f}function Eu(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<i[0]\&\&(i[0]=a[0]),a[1]<i[1]\&\&(i[1]=a[1]),a[0]>n[0]\&\&(n[0]=a[0]),a[1]>n[1]\&\&(n[1]=a[1])}return{min:e?i:n,max:e?n:i}}function Ru(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function zu(t){return\"number\"==typeof t?t:t?.5:0}function Bu(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function Vu(t,e,i){if(!i.valueDim)return[];for(var n=[],o=0,a=e.count();o<a;o++)n.push(Cu(i,t,e,o));return n}function Gu(t,e,i,n){var o=Bu(t.getAxis(\"x\")),a=Bu(t.getAxis(\"y\")),r=t.getBaseAxis().isHorizontal(),s=Math.min(o[0],o[1]),l=Math.min(a[0],a[1]),u=Math.max(o[0],o[1])-s,h=Math.max(a[0],a[1])-l;if(i)s-=.5,u+=.5,l-=.5,h+=.5;else{var c=n.get(\"lineStyle.width\")||2,d=n.get(\"clipOverflow\")?c/2:Math.max(u,h);r?(l-=d,h+=2*d):(s-=d,u+=2*d)}var f=new aM({shape:{x:s,y:l,width:u,height:h}});return e\&\&(f.shape[r?\"width\":\"height\"]=0,So(f,{shape:{width:u,height:h}},n)),f}function Fu(t,e,i,n){var o=t.getAngleAxis(),a=t.getRadiusAxis().getExtent().slice();a[0]>a[1]\&\&a.reverse();var r=o.getExtent(),s=Math.PI/180;i\&\&(a[0]-=.5,a[1]+=.5);var l=new QS({shape:{cx:zo(t.cx,1),cy:zo(t.cy,1),r0:zo(a[0],1),r:zo(a[1],1),startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:o.inverse}});return e\&\&(l.shape.endAngle=-r[0]*s,So(l,{shape:{endAngle:-r[1]*s}},n)),l}function Wu(t,e,i,n){return\"polar\"===t.type?Fu(t,e,i,n):Gu(t,e,i,n)}function Hu(t,e,i){for(var n=e.getBaseAxis(),o=\"x\"===n.dim||\"radius\"===n.dim?0:1,a=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];a.push(l);var u=[];switch(i){case\"end\":u[o]=s[o],u[1-o]=l[1-o],a.push(u);break;case\"middle\":var h=(l[o]+s[o])/2,c=[];u[o]=c[o]=h,u[1-o]=l[1-o],c[1-o]=s[1-o],a.push(u),a.push(c);break;default:u[o]=l[o],u[1-o]=s[1-o],a.push(u)}}return t[r]\&\&a.push(t[r]),a}function Zu(t,e){var i=t.getVisual(\"visualMeta\");if(i\&\&i.length\&\&t.count()\&\&\"cartesian2d\"===e.type){for(var n,o,a=i.length-1;a>=0;a--){var r=i[a].dimension,s=t.dimensions[r],l=t.getDimensionInfo(s);if(\"x\"===(n=l\&\&l.coordDim)||\"y\"===n){o=i[a];break}}if(o){var u=e.getAxis(n),h=f(o.stops,function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}}),c=h.length,p=o.outerColors.slice();c\&\&h[0].coord>h[c-1].coord\&\&(h.reverse(),p.reverse());var g=h[0].coord-10,m=h[c-1].coord+10,v=m-g;if(v<.001)return\"transparent\";d(h,function(t){t.offset=(t.coord-g)/v}),h.push({offset:c?h[c-1].offset:.5,color:p[1]||\"transparent\"}),h.unshift({offset:c?h[0].offset:.5,color:p[0]||\"transparent\"});var y=new dM(0,0,0,0,h,!0);return y[n]=g,y[n+\"2\"]=m,y}}}function Uu(t,e,i){var n=t.get(\"showAllSymbol\"),o=\"auto\"===n;if(!n||o){var a=i.getAxesByScale(\"ordinal\")[0];if(a\&\&(!o||!Xu(a,e))){var r=e.mapDimension(a.dim),s={};return d(a.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(r,t))}}}}function Xu(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)\&\&(n=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*mu.getSymbolSize(e,r)[t.isHorizontal()?1:0]>n)return!1;return!0}function ju(t){return this._axes[t]}function Yu(t){pD.call(this,t)}function qu(t,e){return e.type||(e.data?\"category\":\"value\")}function Ku(t,e,i){return t.getCoordSysModel()===e}function \$u(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function Ju(t,e,i,n){function o(t){return t.dim+\"_\"+t.index}i.getAxesOnZeroOf=function(){return a?[a]:[]};var a,r=t[e],s=i.model,l=s.get(\"axisLine.onZero\"),u=s.get(\"axisLine.onZeroAxisIndex\");if(l){if(null!=u)Qu(r[u])\&\&(a=r[u]);else for(var h in r)if(r.hasOwnProperty(h)\&\&Qu(r[h])\&\&!n[o(r[h])]){a=r[h];break}a\&\&(n[o(a)]=!0)}}function Qu(t){return t\&\&\"category\"!==t.type\&\&\"time\"!==t.type\&\&Gl(t)}function th(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord=\"x\"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=\"x\"===t.dim?function(t){return t-e}:function(t){return n-t+e}}function eh(t,e){return f(SD,function(e){return t.getReferringComponents(e)[0]})}function ih(t){return\"cartesian2d\"===t.get(\"coordinateSystem\")}function nh(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+\"Index\"]=t.componentIndex,e}function oh(t,e,i,n){var o,a,r=Ho(i-t.rotation),s=n[0]>n[1],l=\"start\"===e\&\&!s||\"start\"!==e\&\&s;return Zo(r-MD/2)?(a=l?\"bottom\":\"top\",o=\"center\"):Zo(r-1.5*MD)?(a=l?\"top\":\"bottom\",o=\"center\"):(a=\"middle\",o=r<1.5*MD\&\&r>MD/2?l?\"left\":\"right\":l?\"right\":\"left\"),{rotation:r,textAlign:o,textVerticalAlign:a}}function ah(t){var e=t.get(\"tooltip\");return t.get(\"silent\")||!(t.get(\"triggerEvent\")||e\&\&e.show)}function rh(t,e,i){var n=t.get(\"axisLabel.showMinLabel\"),o=t.get(\"axisLabel.showMaxLabel\");e=e||[],i=i||[];var a=e[0],r=e[1],s=e[e.length-1],l=e[e.length-2],u=i[0],h=i[1],c=i[i.length-1],d=i[i.length-2];!1===n?(sh(a),sh(u)):lh(a,r)\&\&(n?(sh(r),sh(h)):(sh(a),sh(u))),!1===o?(sh(s),sh(c)):lh(l,s)\&\&(o?(sh(l),sh(d)):(sh(s),sh(c)))}function sh(t){t\&\&(t.ignore=!0)}function lh(t,e,i){var n=t\&\&t.getBoundingRect().clone(),o=e\&\&e.getBoundingRect().clone();if(n\&\&o){var a=vt([]);return wt(a,a,-t.rotation),n.applyTransform(xt([],a,t.getLocalTransform())),o.applyTransform(xt([],a,e.getLocalTransform())),n.intersect(o)}}function uh(t){return\"middle\"===t||\"center\"===t}function hh(t,e,i){var n=e.axis;if(e.get(\"axisTick.show\")\&\&!n.scale.isBlank()){for(var o=e.getModel(\"axisTick\"),a=o.getModel(\"lineStyle\"),s=o.get(\"length\"),l=n.getTicksCoords(),u=[],h=[],c=t._transform,d=[],f=0;f<l.length;f++){var p=l[f].coord;u[0]=p,u[1]=0,h[0]=p,h[1]=i.tickDirection*s,c\&\&(Q(u,u,c),Q(h,h,c));var g=new rM(Xn({anid:\"tick_\"+l[f].tickValue,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:r(a.getLineStyle(),{stroke:e.get(\"axisLine.lineStyle.color\")}),z2:2,silent:!0}));t.group.add(g),d.push(g)}return d}}function ch(t,e,i){var n=e.axis;if(T(i.axisLabelShow,e.get(\"axisLabel.show\"))\&\&!n.scale.isBlank()){var o=e.getModel(\"axisLabel\"),a=o.get(\"margin\"),r=n.getViewLabels(),s=(T(i.labelRotate,o.get(\"rotate\"))||0)*MD/180,l=AD(i.rotation,s,i.labelDirection),u=e.getCategories(!0),h=[],c=ah(e),f=e.get(\"triggerEvent\");return d(r,function(r,s){var d=r.tickValue,p=r.formattedLabel,g=r.rawLabel,m=o;u\&\&u[d]\&\&u[d].textStyle\&\&(m=new Lo(u[d].textStyle,o,e.ecModel));var v=m.getTextColor()||e.get(\"axisLine.lineStyle.color\"),y=[n.dataToCoord(d),i.labelOffset+i.labelDirection*a],x=new qS({anid:\"label_\"+d,position:y,rotation:l.rotation,silent:c,z2:10});fo(x.style,m,{text:p,textAlign:m.getShallow(\"align\",!0)||l.textAlign,textVerticalAlign:m.getShallow(\"verticalAlign\",!0)||m.getShallow(\"baseline\",!0)||l.textVerticalAlign,textFill:\"function\"==typeof v?v(\"category\"===n.type?g:\"value\"===n.type?d+\"\":d,s):v}),f\&\&(x.eventData=nh(e),x.eventData.targetType=\"axisLabel\",x.eventData.value=g),t._dumbGroup.add(x),x.updateTransform(),h.push(x),t.group.add(x),x.decomposeTransform()}),h}}function dh(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return fh(i,t,e),i.seriesInvolved\&\&gh(i,t),i}function fh(t,e,i){var n=e.getComponent(\"tooltip\"),o=e.getComponent(\"axisPointer\"),a=o.get(\"link\",!0)||[],r=[];DD(i.getCoordinateSystems(),function(i){function s(n,s,l){var c=l.model.getModel(\"axisPointer\",o),d=c.get(\"show\");if(d\&\&(\"auto\"!==d||n||wh(c))){null==s\&\&(s=c.get(\"triggerTooltip\"));var f=(c=n?ph(l,h,o,e,n,s):c).get(\"snap\"),p=bh(l.model),g=s||f||\"category\"===l.type,m=t.axesInfo[p]={key:p,axis:l,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:f,useHandle:wh(c),seriesModels:[]};u[p]=m,t.seriesInvolved|=g;var v=mh(a,l);if(null!=v){var y=r[v]||(r[v]={axesInfo:{}});y.axesInfo[p]=m,y.mapper=a[v].mapper,m.linkGroup=y}}}if(i.axisPointerEnabled){var l=bh(i.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=i;var h=i.model.getModel(\"tooltip\",n);if(DD(i.getAxes(),CD(s,!1,null)),i.getTooltipAxes\&\&n\&\&h.get(\"show\")){var c=\"axis\"===h.get(\"trigger\"),d=\"cross\"===h.get(\"axisPointer.type\"),f=i.getTooltipAxes(h.get(\"axisPointer.axis\"));(c||d)\&\&DD(f.baseAxes,CD(s,!d||\"cross\",c)),d\&\&DD(f.otherAxes,CD(s,\"cross\",!1))}}})}function ph(t,e,n,o,a,s){var l=e.getModel(\"axisPointer\"),u={};DD([\"type\",\"snap\",\"lineStyle\",\"shadowStyle\",\"label\",\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\",\"z\"],function(t){u[t]=i(l.get(t))}),u.snap=\"category\"!==t.type\&\&!!s,\"cross\"===l.get(\"type\")\&\&(u.type=\"line\");var h=u.label||(u.label={});if(null==h.show\&\&(h.show=!1),\"cross\"===a){var c=l.get(\"label.show\");if(h.show=null==c||c,!s){var d=u.lineStyle=l.get(\"crossStyle\");d\&\&r(h,d.textStyle)}}return t.model.getModel(\"axisPointer\",new Lo(u,n,o))}function gh(t,e){e.eachSeries(function(e){var i=e.coordinateSystem,n=e.get(\"tooltip.trigger\",!0),o=e.get(\"tooltip.show\",!0);i\&\&\"none\"!==n\&\&!1!==n\&\&\"item\"!==n\&\&!1!==o\&\&!1!==e.get(\"axisPointer.show\",!0)\&\&DD(t.coordSysAxesInfo[bh(i.model)],function(t){var n=t.axis;i.getAxis(n.dim)===n\&\&(t.seriesModels.push(e),null==t.seriesDataCount\&\&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}function mh(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(vh(a[n+\"AxisId\"],i.id)||vh(a[n+\"AxisIndex\"],i.componentIndex)||vh(a[n+\"AxisName\"],i.name))return o}}function vh(t,e){return\"all\"===t||y(t)\&\&l(t,e)>=0||t===e}function yh(t){var e=xh(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,a=i.get(\"status\"),r=i.get(\"value\");null!=r\&\&(r=n.parse(r));var s=wh(i);null==a\&\&(o.status=s?\"show\":\"hide\");var l=n.getExtent().slice();l[0]>l[1]\&\&l.reverse(),(null==r||r>l[1])\&\&(r=l[1]),r<l[0]\&\&(r=l[0]),o.value=r,s\&\&(o.status=e.axis.scale.isBlank()?\"hide\":\"show\")}}function xh(t){var e=(t.ecModel.getComponent(\"axisPointer\")||{}).coordSysAxesInfo;return e\&\&e.axesInfo[bh(t)]}function _h(t){var e=xh(t);return e\&\&e.axisPointerModel}function wh(t){return!!t.get(\"handle.show\")}function bh(t){return t.type+\"||\"+t.id}function Sh(t,e,i,n,o,a){var r=LD.getAxisPointerClass(t.axisPointerClass);if(r){var s=_h(e);s?(t._axisPointer||(t._axisPointer=new r)).render(e,s,n,a):Mh(t,n)}}function Mh(t,e,i){var n=t._axisPointer;n\&\&n.dispose(e,i),t._axisPointer=null}function Ih(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,l=r?\"onZero\":s,u=o.dim,h=n.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get(\"offset\")||0,p=\"x\"===u?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(r){var g=r.toGlobalCoord(r.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=[\"y\"===u?p[d[l]]:c[0],\"x\"===u?p[d[l]]:c[3]],a.rotation=Math.PI/2*(\"x\"===u?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=r?p[d[s]]-p[d.onZero]:0,e.get(\"axisTick.inside\")\&\&(a.tickDirection=-a.tickDirection),T(i.labelInside,e.get(\"axisLabel.inside\"))\&\&(a.labelDirection=-a.labelDirection);var v=e.get(\"axisLabel.rotate\");return a.labelRotate=\"top\"===l?-v:v,a.z2=1,a}function Th(t,e,i,n,o,a,r){co(t,e,i.getModel(\"label\"),i.getModel(\"emphasis.label\"),{labelFetcher:o,labelDataIndex:a,defaultText:gu(o.getData(),a),isRectText:!0,autoColor:n}),Ah(t),Ah(e)}function Ah(t,e){\"outside\"===t.textPosition\&\&(t.textPosition=e)}function Dh(t,e,i){i.style.text=null,bo(i,{shape:{width:0}},e,t,function(){i.parent\&\&i.parent.remove(i)})}function Ch(t,e,i){i.style.text=null,bo(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent\&\&i.parent.remove(i)})}function Lh(t,e,i,n,o,a,s,l){var u=e.getItemVisual(i,\"color\"),h=e.getItemVisual(i,\"opacity\"),c=n.getModel(\"itemStyle\"),d=n.getModel(\"emphasis.itemStyle\").getBarItemStyle();l||t.setShape(\"r\",c.get(\"barBorderRadius\")||0),t.useStyle(r({fill:u,opacity:h},c.getBarItemStyle()));var f=n.getShallow(\"cursor\");f\&\&t.attr(\"cursor\",f);var p=s?o.height>0?\"bottom\":\"top\":o.width>0?\"left\":\"right\";l||Th(t.style,d,n,u,a,i,p),uo(t,d)}function kh(t,e){var i=t.get(BD)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}function Ph(t,e,i){var n=t.getData(),o=[],a=n.getLayout(\"valueAxisHorizontal\")?1:0;o[1-a]=n.getLayout(\"valueAxisStart\");var r=new FD({shape:{points:n.getLayout(\"largePoints\")},incremental:!!i,__startPoint:o,__valueIdx:a});e.add(r),Nh(r,t,n)}function Nh(t,e,i){var n=i.getVisual(\"borderColor\")||i.getVisual(\"color\"),o=e.getModel(\"itemStyle\").getItemStyle([\"color\",\"borderColor\"]);t.useStyle(o),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout(\"barWidth\")}function Oh(t,e,i,n){var o=e.getData(),a=this.dataIndex,r=o.getName(a),s=e.get(\"selectedOffset\");n.dispatchAction({type:\"pieToggleSelect\",from:t,name:r,seriesId:e.id}),o.each(function(t){Eh(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),s,i)})}function Eh(t,e,i,n,o){var a=(e.startAngle+e.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=i?n:0,u=[r*l,s*l];o?t.animate().when(200,{position:u}).start(\"bounceOut\"):t.attr(\"position\",u)}function Rh(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}Zw.call(this);var o=new QS({z2:2}),a=new oM,r=new qS;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on(\"emphasis\",i).on(\"normal\",n).on(\"mouseover\",i).on(\"mouseout\",n)}function zh(t,e,i,n,o,a,r){function s(e,i){for(var n=e;n>=0\&\&(t[n].y-=i,!(n>0\&\&t[n].y>t[n-1].y+t[n-1].height));n--);}function l(t,e,i,n,o,a){for(var r=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if(\"center\"!==t[s].position){var u=Math.abs(t[s].y-n),h=t[s].len,c=t[s].len2,d=u<o+h?Math.sqrt((o+h+c)*(o+h+c)-u*u):Math.abs(t[s].x-i);e\&\&d>=r\&\&(d=r-10),!e\&\&d<=r\&\&(d=r+10),t[s].x=i+d*a,r=d}}t.sort(function(t,e){return t.y-e.y});for(var u,h=0,c=t.length,d=[],f=[],p=0;p<c;p++)(u=t[p].y-h)<0\&\&function(e,i,n,o){for(var a=e;a<i;a++)if(t[a].y+=n,a>e\&\&a+1<i\&\&t[a+1].y>t[a].y+t[a].height)return void s(a,n/2);s(i-1,n/2)}(p,c,-u),h=t[p].y+t[p].height;r-h<0\&\&s(c-1,h-r);for(p=0;p<c;p++)t[p].y>=i?f.push(t[p]):d.push(t[p]);l(d,!1,e,i,n,o),l(f,!0,e,i,n,o)}function Bh(t,e,i,n,o,a){for(var r=[],s=[],l=0;l<t.length;l++)t[l].x<e?r.push(t[l]):s.push(t[l]);zh(s,e,i,n,1,o,a),zh(r,e,i,n,-1,o,a);for(l=0;l<t.length;l++){var u=t[l].linePoints;if(u){var h=u[1][0]-u[2][0];t[l].x<e?u[2][0]=t[l].x+3:u[2][0]=t[l].x-3,u[1][1]=u[2][1]=t[l].y,u[1][0]=u[2][0]+h}}}function Vh(){this.group=new Zw}function Gh(t,e,i){HA.call(this,t,e,i),this.type=\"value\",this.angle=0,this.name=\"\",this.model}function Fh(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=f(t.getIndicatorModels(),function(t,e){var i=\"indicator_\"+e,n=new Gh(i,new hA);return n.name=t.get(\"name\"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.r0,this.startAngle}function Wh(t,e){return r({show:e},t)}function Hh(t){return y(t)||(t=[+t,+t]),t}function Zh(){mw.call(this)}function Uh(t){this.name=t,this.zoomLimit,mw.call(this),this._roamTransformable=new Zh,this._rawTransformable=new Zh,this._center,this._zoom}function Xh(t,e,i,n){var o=i.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[t](n):null}function jh(t){for(var e,i=0;i<t.length;i++){var n=t[i].getBoundingRect();(e=e||n.clone()).union(n)}return e}function Yh(t,e){var i,n,o=t.svgXML;try{k(null!=(n=(i=o\&\&ns(o,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root))}catch(t){throw new Error(\"Invalid svg format\\n\"+t.message)}var a=i.width,r=i.height,s=i.viewBoxRect;if(e||(e=null==a||null==r?n.getBoundingRect():new ue(0,0,0,0),null!=a\&\&(e.width=a),null!=r\&\&(e.height=r)),s){var l=is(s,e.width,e.height),u=n;(n=new Zw).add(u),u.scale=l.scale,u.position=l.position}return n.setClipPath(new aM({shape:e.plain()})),{root:n,boundingRect:e}}function qh(t){return function(e,i){var n=[];return d(Kh(e),function(o){var a=yC[o.type][t];a\&\&n.push(a(e,o,i))}),n}}function Kh(t){return pT.retrieveMap(t)||[]}function \$h(t,e,i,n){Uh.call(this,t),this.map=e;var o=xC.load(e,i);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.nameCoordMap,this._invertLongitute=null==n||n,this.regions=o.regions,this._rect=o.boundingRect}function Jh(t,e,i,n){var o=i.geoModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents(\"geo\")[0]||{}).coordinateSystem:null;return r===this?r[t](n):null}function Qh(t,e){var i=t.get(\"boundingCoords\");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var a,r=this.getBoundingRect(),s=t.get(\"layoutCenter\"),l=t.get(\"layoutSize\"),u=e.getWidth(),h=e.getHeight(),c=r.width/r.height*this.aspectScale,d=!1;s\&\&l\&\&(s=[Ro(s[0],u),Ro(s[1],h)],l=Ro(l,Math.min(u,h)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(d=!0));if(d){var f={};c>1?(f.width=l,f.height=l/c):(f.height=l,f.width=l*c),f.y=s[1]-f.height/2,f.x=s[0]-f.width/2}else(a=t.getBoxLayoutParams()).aspect=c,f=la(a,{width:u,height:h});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get(\"center\")),this.setZoom(t.get(\"zoom\"))}function tc(t,e){d(e.get(\"geoCoord\"),function(e,i){t.addGeoCoord(i,e)})}function ec(t,e,i){oc(t)[e]=i}function ic(t,e,i){var n=oc(t);n[e]===i\&\&(n[e]=null)}function nc(t,e){return!!oc(t)[e]}function oc(t){return t[bC]||(t[bC]={})}function ac(t){this.pointerChecker,this._zr=t,this._opt={};var e=m,n=e(rc,this),o=e(sc,this),a=e(lc,this),s=e(uc,this),l=e(hc,this);aw.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,u){this.disable(),this._opt=r(i(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e\&\&(e=!0),!0!==e\&\&\"move\"!==e\&\&\"pan\"!==e||(t.on(\"mousedown\",n),t.on(\"mousemove\",o),t.on(\"mouseup\",a)),!0!==e\&\&\"scale\"!==e\&\&\"zoom\"!==e||(t.on(\"mousewheel\",s),t.on(\"pinch\",l))},this.disable=function(){t.off(\"mousedown\",n),t.off(\"mousemove\",o),t.off(\"mouseup\",a),t.off(\"mousewheel\",s),t.off(\"pinch\",l)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function rc(t){if(!(ct(t)||t.target\&\&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker\&\&this.pointerChecker(t,e,i)\&\&(this._x=e,this._y=i,this._dragging=!0)}}function sc(t){if(!ct(t)\&\&fc(\"moveOnMouseMove\",t,this._opt)\&\&this._dragging\&\&\"pinch\"!==t.gestureEvent\&\&!nc(this._zr,\"globalPan\")){var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,a=e-n,r=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove\&\&lw(t.event),dc(this,\"pan\",\"moveOnMouseMove\",t,{dx:a,dy:r,oldX:n,oldY:o,newX:e,newY:i})}}function lc(t){ct(t)||(this._dragging=!1)}function uc(t){var e=fc(\"zoomOnMouseWheel\",t,this._opt),i=fc(\"moveOnMouseWheel\",t,this._opt),n=t.wheelDelta,o=Math.abs(n),a=t.offsetX,r=t.offsetY;if(0!==n\&\&(e||i)){if(e){var s=o>3?1.4:o>1?1.2:1.1;cc(this,\"zoom\",\"zoomOnMouseWheel\",t,{scale:n>0?s:1/s,originX:a,originY:r})}if(i){var l=Math.abs(n);cc(this,\"scrollMove\",\"moveOnMouseWheel\",t,{scrollDelta:(n>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:a,originY:r})}}}function hc(t){nc(this._zr,\"globalPan\")||cc(this,\"zoom\",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function cc(t,e,i,n,o){t.pointerChecker\&\&t.pointerChecker(n,o.originX,o.originY)\&\&(lw(n.event),dc(t,e,i,n,o))}function dc(t,e,i,n,o){o.isAvailableBehavior=m(fc,null,i,n),t.trigger(e,o)}function fc(t,e,i){var n=i[t];return!t||n\&\&(!_(n)||e.event[n+\"Key\"])}function pc(t,e,i){var n=t.target,o=n.position;o[0]+=e,o[1]+=i,n.dirty()}function gc(t,e,i,n){var o=t.target,a=t.zoomLimit,r=o.position,s=o.scale,l=t.zoom=t.zoom||1;if(l*=e,a){var u=a.min||0,h=a.max||1/0;l=Math.max(Math.min(h,l),u)}var c=l/t.zoom;t.zoom=l,r[0]-=(i-r[0])*(c-1),r[1]-=(n-r[1])*(c-1),s[0]*=c,s[1]*=c,o.dirty()}function mc(t,e,i){var n=e.getComponentByElement(t.topTarget),o=n\&\&n.coordinateSystem;return n\&\&n!==i\&\&!SC[n.mainType]\&\&o\&\&o.model!==i}function vc(t,e){var i=t.getItemStyle(),n=t.get(\"areaColor\");return null!=n\&\&(i.fill=n),i}function yc(t,e,i,n,o){i.off(\"click\"),i.off(\"mousedown\"),e.get(\"selectedMode\")\&\&(i.on(\"mousedown\",function(){t._mouseDownFlag=!0}),i.on(\"click\",function(a){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var r=a.target;!r.__regions;)r=r.parent;if(r){var s={type:(\"geo\"===e.mainType?\"geo\":\"map\")+\"ToggleSelect\",batch:f(r.__regions,function(t){return{name:t.name,from:o.uid}})};s[e.mainType+\"Id\"]=e.id,n.dispatchAction(s),xc(e,i)}}}))}function xc(t,e){e.eachChild(function(e){d(e.__regions,function(i){e.trigger(t.isSelected(i.name)?\"emphasis\":\"normal\")})})}function _c(t,e){var i=new Zw;this.uid=No(\"ec_map_draw\"),this._controller=new ac(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,i.add(this._regionsGroup=new Zw),i.add(this._backgroundGroup=new Zw)}function wc(t,e,i){var n=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx\&\&null!=e.dy){r[0]-=e.dx,r[1]-=e.dy;o=t.pointToData(r);t.setCenter(o)}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}t.scale[0]*=a,t.scale[1]*=a;var u=t.position,h=(e.originX-u[0])*(a-1),c=(e.originY-u[1])*(a-1);u[0]-=h,u[1]-=c,t.updateTransform();o=t.pointToData(r);t.setCenter(o),t.setZoom(a*n)}return{center:t.getCenter(),zoom:t.getZoom()}}function bc(t,e){var i={};return d(t,function(t){t.each(t.mapDimension(\"value\"),function(e,n){var o=\"ec-\"+t.getName(n);i[o]=i[o]||[],isNaN(e)||i[o].push(e)})}),t[0].map(t[0].mapDimension(\"value\"),function(n,o){for(var a=\"ec-\"+t[0].getName(o),r=0,s=1/0,l=-1/0,u=i[a].length,h=0;h<u;h++)s=Math.min(s,i[a][h]),l=Math.max(l,i[a][h]),r+=i[a][h];var c;return c=\"min\"===e?s:\"max\"===e?l:\"average\"===e?r/u:r,0===u?NaN:c})}function Sc(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:\"data\"}),t.datas=t.mainData=null,Cc(e,i,t),MC(i,function(i){MC(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,v(Mc,t))})}),e.wrapMethod(\"cloneShallow\",v(Tc,t)),MC(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,v(Ic,t))}),k(i[e.dataType]===e)}function Mc(t,e){if(Dc(this)){var i=a({},this[IC]);i[this.dataType]=e,Cc(e,i,t)}else Lc(e,this.dataType,this[TC],t);return e}function Ic(t,e){return t.struct\&\&t.struct.update(this),e}function Tc(t,e){return MC(e[IC],function(i,n){i!==e\&\&Lc(i.cloneShallow(),n,e,t)}),e}function Ac(t){var e=this[TC];return null==t||null==e?e:e[IC][t]}function Dc(t){return t[TC]===t}function Cc(t,e,i){t[IC]={},MC(e,function(e,n){Lc(e,n,t,i)})}function Lc(t,e,i,n){i[IC][e]=t,t[TC]=i,t.dataType=e,n.struct\&\&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=Ac}function kc(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=f(e||[],function(e){return new Lo(e,t,t.ecModel)}),this.leavesModel=new Lo(i||{},t,t.ecModel)}function Pc(t,e){var i=e.children;t.parentNode!==e\&\&(i.push(t),t.parentNode=e)}function Nc(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,n=[t];e=n.pop();)if(i=e.children,e.isExpand\&\&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(a)}}function Oc(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,o=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){Vc(t);var a=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else o\&\&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=Gc(t,o,t.parentNode.hierNode.defaultAncestor||n[0],e)}function Ec(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Rc(t){return arguments.length?t:Uc}function zc(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i}function Bc(t,e){return la(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Vc(t){for(var e=t.children,i=e.length,n=0,o=0;--i>=0;){var a=e[i];a.hierNode.prelim+=n,a.hierNode.modifier+=n,o+=a.hierNode.change,n+=a.hierNode.shift+o}}function Gc(t,e,i,n){if(e){for(var o=t,a=t,r=a.parentNode.children[0],s=e,l=o.hierNode.modifier,u=a.hierNode.modifier,h=r.hierNode.modifier,c=s.hierNode.modifier;s=Fc(s),a=Wc(a),s\&\&a;){o=Fc(o),r=Wc(r),o.hierNode.ancestor=t;var d=s.hierNode.prelim+c-a.hierNode.prelim-u+n(s,a);d>0\&\&(Zc(Hc(s,t,i),t,d),u+=d,l+=d),c+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=o.hierNode.modifier,h+=r.hierNode.modifier}s\&\&!Fc(o)\&\&(o.hierNode.thread=s,o.hierNode.modifier+=c-l),a\&\&!Wc(r)\&\&(r.hierNode.thread=a,r.hierNode.modifier+=u-h,i=t)}return i}function Fc(t){var e=t.children;return e.length\&\&t.isExpand?e[e.length-1]:t.hierNode.thread}function Wc(t){var e=t.children;return e.length\&\&t.isExpand?e[0]:t.hierNode.thread}function Hc(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function Zc(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function Uc(t,e){return t.parentNode===e.parentNode?1:2}function Xc(t,e){var i=t.getItemLayout(e);return i\&\&!isNaN(i.x)\&\&!isNaN(i.y)\&\&\"none\"!==t.getItemVisual(e,\"symbol\")}function jc(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel(\"itemStyle\").getItemStyle(),i.hoverItemStyle=e.getModel(\"emphasis.itemStyle\").getItemStyle(),i.lineStyle=e.getModel(\"lineStyle\").getLineStyle(),i.labelModel=e.getModel(\"label\"),i.hoverLabelModel=e.getModel(\"emphasis.label\"),!1===t.isExpand\&\&0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor=\"#fff\",i}function Yc(t,e,i,n,o,a){var s=!i,l=t.tree.getNodeByDataIndex(e),a=jc(l,l.getModel(),a),u=t.tree.root,h=l.parentNode===u?l:l.parentNode||l,c=t.getItemGraphicEl(h.dataIndex),d=h.getLayout(),f=c?{x:c.position[0],y:c.position[1],rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:d,p=l.getLayout();s?(i=new mu(t,e,a)).attr(\"position\",[f.x,f.y]):i.updateData(t,e,a),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=p.rawX,i.__radialRawY=p.rawY,n.add(i),t.setItemGraphicEl(e,i),bo(i,{position:[p.x,p.y]},o);var g=i.getSymbolPath();if(\"radial\"===a.layout){var m,v,y=u.children[0],x=y.getLayout(),_=y.children.length;if(p.x===x.x\&\&!0===l.isExpand){var w={};w.x=(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,w.y=(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2,(m=Math.atan2(w.y-x.y,w.x-x.x))<0\&\&(m=2*Math.PI+m),(v=w.x<x.x)\&\&(m-=Math.PI)}else(m=Math.atan2(p.y-x.y,p.x-x.x))<0\&\&(m=2*Math.PI+m),0===l.children.length||0!==l.children.length\&\&!1===l.isExpand?(v=p.x<x.x)\&\&(m-=Math.PI):(v=p.x>x.x)||(m-=Math.PI);var b=v?\"left\":\"right\";g.setStyle({textPosition:b,textRotation:-m,textOrigin:\"center\",verticalAlign:\"middle\"})}if(l.parentNode\&\&l.parentNode!==u){var S=i.__edge;S||(S=i.__edge=new lM({shape:Kc(a,f,f),style:r({opacity:0,strokeNoScale:!0},a.lineStyle)})),bo(S,{shape:Kc(a,d,p),style:{opacity:1}},o),n.add(S)}}function qc(t,e,i,n,o,a){for(var r,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,a=jc(s,s.getModel(),a),u=s.parentNode===l?s:s.parentNode||s;null==(r=u.getLayout());)u=u.parentNode===l?u:u.parentNode||u;bo(i,{position:[r.x+1,r.y+1]},o,function(){n.remove(i),t.setItemGraphicEl(e,null)}),i.fadeOut(null,{keepLabel:!0});var h=i.__edge;h\&\&bo(h,{shape:Kc(a,r,r),style:{opacity:0}},o,function(){n.remove(h)})}function Kc(t,e,i){var n,o,a,r,s,l,u,h,c=t.orient;if(\"radial\"===t.layout){s=e.rawX,u=e.rawY,l=i.rawX,h=i.rawY;var d=zc(s,u),f=zc(s,u+(h-u)*t.curvature),p=zc(l,h+(u-h)*t.curvature),g=zc(l,h);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:p.x,cpy2:p.y}}return s=e.x,u=e.y,l=i.x,h=i.y,\"LR\"!==c\&\&\"RL\"!==c||(n=s+(l-s)*t.curvature,o=u,a=l+(s-l)*t.curvature,r=h),\"TB\"!==c\&\&\"BT\"!==c||(n=s,o=u+(h-u)*t.curvature,a=l,r=h+(u-h)*t.curvature),{x1:s,y1:u,x2:l,y2:h,cpx1:n,cpy1:o,cpx2:a,cpy2:r}}function \$c(t,e,i){for(var n,o=[t],a=[];n=o.pop();)if(a.push(n),n.isExpand){var r=n.children;if(r.length)for(var s=0;s<r.length;s++)o.push(r[s])}for(;n=a.pop();)e(n,i)}function Jc(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var a=o.length-1;a>=0;a--)n.push(o[a])}}function Qc(t,e){var i=Bc(t,e);t.layoutInfo=i;var n=t.get(\"layout\"),o=0,a=0,r=null;\"radial\"===n?(o=2*Math.PI,a=Math.min(i.height,i.width)/2,r=Rc(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=i.width,a=i.height,r=Rc());var s=t.getData().tree.root,l=s.children[0];if(l){Nc(s),\$c(l,Oc,r),s.hierNode.modifier=-l.hierNode.prelim,Jc(l,Ec);var u=l,h=l,c=l;Jc(l,function(t){var e=t.getLayout().x;e<u.getLayout().x\&\&(u=t),e>h.getLayout().x\&\&(h=t),t.depth>c.depth\&\&(c=t)});var d=u===h?1:r(u,h)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;if(\"radial\"===n)p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),Jc(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=zc(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)});else{var y=t.getOrient();\"RL\"===y||\"LR\"===y?(g=a/(h.getLayout().x+d+f),p=o/(c.depth-1||1),Jc(l,function(t){v=(t.getLayout().x+f)*g,m=\"LR\"===y?(t.depth-1)*p:o-(t.depth-1)*p,t.setLayout({x:m,y:v},!0)})):\"TB\"!==y\&\&\"BT\"!==y||(p=o/(h.getLayout().x+d+f),g=a/(c.depth-1||1),Jc(l,function(t){m=(t.getLayout().x+f)*p,v=\"TB\"===y?(t.depth-1)*g:a-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)}))}}}function td(t,e,i){if(t\&\&l(e,t.type)>=0){var n=i.getData().tree.root,o=t.targetNode;if(\"string\"==typeof o\&\&(o=n.getNodeById(o)),o\&\&n.contains(o))return{node:o};var a=t.targetNodeId;if(null!=a\&\&(o=n.getNodeById(a)))return{node:o}}}function ed(t){for(var e=[];t;)(t=t.parentNode)\&\&e.push(t);return e.reverse()}function id(t,e){return l(ed(t),e)>=0}function nd(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}function od(t){var e=0;d(t.children,function(t){od(t);var i=t.value;y(i)\&\&(i=i[0]),e+=i});var i=t.value;y(i)\&\&(i=i[0]),(null==i||isNaN(i))\&\&(i=e),i<0\&\&(i=0),y(t.value)?t.value[0]=i:t.value=i}function ad(t,e){var i=e.get(\"color\");if(i){var n;return d(t=t||[],function(t){var e=new Lo(t),i=e.get(\"color\");(e.get(\"itemStyle.color\")||i\&\&\"none\"!==i)\&\&(n=!0)}),n||((t[0]||(t[0]={})).color=i.slice()),t}}function rd(t){this.group=new Zw,t.add(this.group)}function sd(t,e,i,n,o,a){var r=[[o?t:t-DC,e],[t+i,e],[t+i,e+n],[o?t:t-DC,e+n]];return!a\&\&r.splice(2,0,[t+i+DC,e+n/2]),!o\&\&r.push([t,e+n/2]),r}function ld(t,e,i){t.eventData={componentType:\"series\",componentSubType:\"treemap\",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:\"treemap\",selfType:\"breadcrumb\",nodeData:{dataIndex:i\&\&i.dataIndex,name:i\&\&i.name},treePathInfo:i\&\&nd(i,e)}}function ud(){var t,e=[],i={};return{add:function(t,n,o,a,r){return _(a)\&\&(r=a,a=0),!i[t.id]\&\&(i[t.id]=1,e.push({el:t,target:n,time:o,delay:a,easing:r}),!0)},done:function(e){return t=e,this},start:function(){for(var n=e.length,o=0,a=e.length;o<a;o++){var r=e[o];r.el.animateTo(r.target,r.time,r.delay,r.easing,function(){--n||(e.length=0,i={},t\&\&t())})}return this}}}function hd(t,e,n,o,r,s,l,u,h,c){function d(t,e){w?!t.invisible\&\&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,n,o,a,r,s){var u=l.getModel(),h=T(t.getFormattedLabel(l.dataIndex,\"normal\",null,null,s?\"upperLabel\":\"label\"),u.get(\"name\"));if(!s\&\&v.isLeafRoot){var c=t.get(\"drillDownIcon\",!0);h=c?c+\" \"+h:h}var d=u.getModel(s?EC:NC),f=u.getModel(s?RC:OC),p=d.getShallow(\"show\");co(e,n,d,f,{defaultText:p?h:null,autoColor:o,isRectText:!0}),s\&\&(e.textRect=i(s)),e.truncate=p\&\&d.get(\"ellipsis\")?{outerWidth:a,outerHeight:r,minChar:2}:null}function p(t,i,o,a){var s=null!=S\&\&n[t][S],l=r[t];return s?(n[t][S]=null,g(l,s,t)):w||((s=new i({z:cd(o,a)})).__tmDepth=o,s.__tmStorageName=t,m(l,s,t)),e[t][b]=s}function g(t,e,i){(t[b]={}).old=\"nodeGroup\"===i?e.position.slice():a({},e.shape)}function m(t,e,i){var n=t[b]={},a=l.parentNode;if(a\&\&(!o||\"drillDown\"===o.direction)){var s=0,u=0,h=r.background[a.getRawIndex()];!o\&\&h\&\&h.old\&\&(s=h.old.width,u=h.old.height),n.old=\"nodeGroup\"===i?[0,u]:{x:s,y:u,width:0,height:0}}n.fadein=\"nodeGroup\"!==i}if(l){var v=l.getLayout();if(v\&\&v.isInView){var y=v.width,x=v.height,_=v.borderWidth,w=v.invisible,b=l.getRawIndex(),S=u\&\&u.getRawIndex(),M=l.viewChildren,I=v.upperHeight,A=M\&\&M.length,D=l.getModel(\"itemStyle\"),C=l.getModel(\"emphasis.itemStyle\"),L=p(\"nodeGroup\",LC);if(L){if(h.add(L),L.attr(\"position\",[v.x||0,v.y||0]),L.__tmNodeWidth=y,L.__tmNodeHeight=x,v.isAboveViewRoot)return L;var k=p(\"background\",kC,c,BC);if(k\&\&function(e,i,n){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:y,height:x});var o=l.getVisual(\"borderColor\",!0),a=C.get(\"borderColor\");d(i,function(){var t=FC(D);t.fill=o;var e=GC(C);if(e.fill=a,n){var r=y-2*_;f(t,e,o,r,I,{x:_,y:0,width:r,height:I})}else t.text=e.text=null;i.setStyle(t),uo(i,e)}),e.add(i)}(L,k,A\&\&v.upperHeight),!A){var P=p(\"content\",kC,c,VC);P\&\&function(e,i){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex;var n=Math.max(y-2*_,0),o=Math.max(x-2*_,0);i.culling=!0,i.setShape({x:_,y:_,width:n,height:o});var a=l.getVisual(\"color\",!0);d(i,function(){var t=FC(D);t.fill=a;var e=GC(C);f(t,e,a,n,o),i.setStyle(t),uo(i,e)}),e.add(i)}(L,P)}return L}}}}function cd(t,e){var i=t*zC+e;return(i-1)/i}function dd(t){var e=t.pieceList;t.hasSpecialVisual=!1,d(e,function(e,i){e.originIndex=i,null!=e.visual\&\&(t.hasSpecialVisual=!0)})}function fd(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(ZC(e,function(t,e){n[t]=e}),!y(i)){var o=[];w(i)?ZC(i,function(t,e){var i=n[e];o[null!=i?i:XC]=t}):o[XC]=i,i=bd(t,o)}for(var a=e.length-1;a>=0;a--)null==i[a]\&\&(delete n[e[a]],e.pop())}function pd(t,e){var i=t.visual,n=[];w(i)?ZC(i,function(t){n.push(t)}):null!=i\&\&n.push(i);var o={color:1,symbol:1};e||1!==n.length||o.hasOwnProperty(t.type)||(n[1]=n[0]),bd(t,n)}function gd(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n(\"color\",t(i(\"color\"),e))},_doMap:_d([0,1])}}function md(t){var e=this.option.visual;return e[Math.round(Eo(t,[0,1],[0,e.length-1],!0))]||{}}function vd(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function yd(t){var e=this.option.visual;return e[this.option.loop\&\&t!==XC?t%e.length:t]}function xd(){return this.option.visual[0]}function _d(t){return{linear:function(e){return Eo(e,t,this.option.visual,!0)},category:yd,piecewise:function(e,i){var n=wd.call(this,i);return null==n\&\&(n=Eo(e,t,this.option.visual,!0)),n},fixed:xd}}function wd(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=i[jC.findPieceIndex(t,i)];if(n\&\&n.visual)return n.visual[this.type]}}function bd(t,e){return t.visual=e,\"color\"===t.type\&\&(t.parsedVisual=f(e,function(t){return zt(t)})),e}function Sd(t,e,i){return t?e<=i:e<i}function Md(t,e,i,n,o,a){var r=t.getModel(),s=t.getLayout();if(s\&\&!s.invisible\&\&s.isInView){var l,u=t.getModel(\$C),h=Id(u,e,i[t.depth],n),c=u.get(\"borderColor\"),f=u.get(\"borderColorSaturation\");null!=f\&\&(c=Ad(f,l=Td(h))),t.setVisual(\"borderColor\",c);var p=t.viewChildren;if(p\&\&p.length){var g=Cd(t,r,s,u,h,p);d(p,function(t,e){(t.depth>=o.length||t===o[t.depth])\&\&Md(t,kd(r,h,t,e,g,a),i,n,o,a)})}else l=Td(h),t.setVisual(\"color\",l)}}function Id(t,e,i,n){var o=a({},e);return d([\"color\",\"colorAlpha\",\"colorSaturation\"],function(a){var r=t.get(a,!0);null==r\&\&i\&\&(r=i[a]),null==r\&\&(r=e[a]),null==r\&\&(r=n.get(a)),null!=r\&\&(o[a]=r)}),o}function Td(t){var e=Dd(t,\"color\");if(e){var i=Dd(t,\"colorAlpha\"),n=Dd(t,\"colorSaturation\");return n\&\&(e=Zt(e,null,null,n)),i\&\&(e=Ut(e,i)),e}}function Ad(t,e){return null!=e?Zt(e,null,null,t):null}function Dd(t,e){var i=t[e];if(null!=i\&\&\"none\"!==i)return i}function Cd(t,e,i,n,o,a){if(a\&\&a.length){var r=Ld(e,\"color\")||null!=o.color\&\&\"none\"!==o.color\&\&(Ld(e,\"colorAlpha\")||Ld(e,\"colorSaturation\"));if(r){var s=e.get(\"visualMin\"),l=e.get(\"visualMax\"),u=i.dataExtent.slice();null!=s\&\&s<u[0]\&\&(u[0]=s),null!=l\&\&l>u[1]\&\&(u[1]=l);var h=e.get(\"colorMappingBy\"),c={type:r.name,dataExtent:u,visual:r.range};\"color\"!==c.type||\"index\"!==h\&\&\"id\"!==h?c.mappingMethod=\"linear\":(c.mappingMethod=\"category\",c.loop=!0);var d=new jC(c);return d.__drColorMappingBy=h,d}}}function Ld(t,e){var i=t.get(e);return KC(i)\&\&i.length?{name:e,range:i}:null}function kd(t,e,i,n,o,r){var s=a({},e);if(o){var l=o.type,u=\"color\"===l\&\&o.__drColorMappingBy,h=\"index\"===u?n:\"id\"===u?r.mapIdToIndex(i.getId()):i.getValue(t.get(\"visualDimension\"));s[l]=o.mapValueToVisual(h)}return s}function Pd(t,e,i,n){var o,a;if(!t.isRemoved()){var r=t.getLayout();o=r.width,a=r.height;var s=(f=t.getModel()).get(nL),l=f.get(oL)/2,u=Wd(f),h=Math.max(s,u),c=s-l,d=h-l,f=t.getModel();t.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:u},!0);var p=(o=QC(o-2*c,0))*(a=QC(a-c-d,0)),g=Nd(t,f,p,e,i,n);if(g.length){var m={x:c,y:d,width:o,height:a},v=tL(o,a),y=1/0,x=[];x.area=0;for(var _=0,w=g.length;_<w;){var b=g[_];x.push(b),x.area+=b.getLayout().area;var S=zd(x,v,e.squareRatio);S<=y?(_++,y=S):(x.area-=x.pop().getLayout().area,Bd(x,v,m,l,!1),v=tL(m.width,m.height),x.length=x.area=0,y=1/0)}if(x.length\&\&Bd(x,v,m,l,!0),!i){var M=f.get(\"childrenVisibleMin\");null!=M\&\&p<M\&\&(i=!0)}for(var _=0,w=g.length;_<w;_++)Pd(g[_],e,i,n+1)}}}function Nd(t,e,i,n,o,a){var r=t.children||[],s=n.sort;\"asc\"!==s\&\&\"desc\"!==s\&\&(s=null);var l=null!=n.leafDepth\&\&n.leafDepth<=a;if(o\&\&!l)return t.viewChildren=[];Ed(r=g(r,function(t){return!t.isRemoved()}),s);var u=Rd(e,r,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=Od(e,i,u.sum,s,r),0===u.sum)return t.viewChildren=[];for(var h=0,c=r.length;h<c;h++){var d=r[h].getValue()/u.sum*i;r[h].setLayout({area:d})}return l\&\&(r.length\&\&t.setLayout({isLeafRoot:!0},!0),r.length=0),t.viewChildren=r,t.setLayout({dataExtent:u.dataExtent},!0),r}function Od(t,e,i,n,o){if(!n)return i;for(var a=t.get(\"visibleMin\"),r=o.length,s=r,l=r-1;l>=0;l--){var u=o[\"asc\"===n?r-l-1:l].getValue();u/i*e<a\&\&(s=l,i-=u)}return\"asc\"===n?o.splice(0,r-s):o.splice(s,r-s),i}function Ed(t,e){return e\&\&t.sort(function(t,i){var n=\"asc\"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?\"asc\"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n}),t}function Rd(t,e,i){for(var n=0,o=0,a=e.length;o<a;o++)n+=e[o].getValue();var r=t.get(\"visualDimension\");if(e\&\&e.length)if(\"value\"===r\&\&i)s=[e[e.length-1].getValue(),e[0].getValue()],\"asc\"===i\&\&s.reverse();else{var s=[1/0,-1/0];iL(e,function(t){var e=t.getValue(r);e<s[0]\&\&(s[0]=e),e>s[1]\&\&(s[1]=e)})}else s=[NaN,NaN];return{sum:n,dataExtent:s}}function zd(t,e,i){for(var n,o=0,a=1/0,r=0,s=t.length;r<s;r++)(n=t[r].getLayout().area)\&\&(n<a\&\&(a=n),n>o\&\&(o=n));var l=t.area*t.area,u=e*e*i;return l?QC(u*o/l,l/(u*a)):1/0}function Bd(t,e,i,n,o){var a=e===i.width?0:1,r=1-a,s=[\"x\",\"y\"],l=[\"width\",\"height\"],u=i[s[a]],h=e?t.area/e:0;(o||h>i[l[r]])\&\&(h=i[l[r]]);for(var c=0,d=t.length;c<d;c++){var f=t[c],p={},g=h?f.getLayout().area/h:0,m=p[l[r]]=QC(h-2*n,0),v=i[s[a]]+i[l[a]]-u,y=c===d-1||v<g?v:g,x=p[l[a]]=QC(y-2*n,0);p[s[r]]=i[s[r]]+tL(n,m/2),p[s[a]]=u+tL(n,x/2),u+=y,f.setLayout(p,!0)}i[s[r]]+=h,i[l[r]]-=h}function Vd(t,e,i,n,o){var a=(e||{}).node,r=[n,o];if(!a||a===i)return r;for(var s,l=n*o,u=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var h=0,c=s.children,d=0,f=c.length;d<f;d++)h+=c[d].getValue();var p=a.getValue();if(0===p)return r;u*=h/p;var g=s.getModel(),m=g.get(nL);(u+=4*m*m+(3*m+Math.max(m,Wd(g)))*Math.pow(u,.5))>kM\&\&(u=kM),a=s}u<l\&\&(u=l);var v=Math.pow(u/l,.5);return[n*v,o*v]}function Gd(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,a=o.getLayout();if(!a)return n;for(var r=[a.width/2,a.height/2],s=o;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}function Fd(t,e,i,n,o){var a=t.getLayout(),r=i[o],s=r\&\&r===t;if(!(r\&\&!s||o===i.length\&\&t!==n)){t.setLayout({isInView:!0,invisible:!s\&\&!e.intersect(a),isAboveViewRoot:s},!0);var l=new ue(e.x-a.x,e.y-a.y,e.width,e.height);iL(t.viewChildren||[],function(t){Fd(t,l,i,n,o+1)})}}function Wd(t){return t.get(aL)?t.get(rL):0}function Hd(t){return\"_EC_\"+t}function Zd(t,e){this.id=null==t?\"\":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Ud(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}function Xd(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function jd(t){return\"_\"+t+\"Type\"}function Yd(t,e,i){var n=e.getItemVisual(i,\"color\"),o=e.getItemVisual(i,t),a=e.getItemVisual(i,t+\"Size\");if(o\&\&\"none\"!==o){y(a)||(a=[a,a]);var r=Xl(o,-a[0]/2,-a[1]/2,a[0],a[1],n);return r.name=t,r}}function qd(t){var e=new gL({name:\"line\"});return Kd(e.shape,t),e}function Kd(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function \$d(t,e,i){Zw.call(this),this._createLine(t,e,i)}function Jd(t){this._ctor=t||\$d,this.group=new Zw}function Qd(t,e,i,n){if(of(e.getItemLayout(i))){var o=new t._ctor(e,i,n);e.setItemGraphicEl(i,o),t.group.add(o)}}function tf(t,e,i,n,o,a){var r=e.getItemGraphicEl(n);of(i.getItemLayout(o))?(r?r.updateData(i,o,a):r=new t._ctor(i,o,a),i.setItemGraphicEl(o,r),t.group.add(r)):t.group.remove(r)}function ef(t){var e=t.hostModel;return{lineStyle:e.getModel(\"lineStyle\").getLineStyle(),hoverLineStyle:e.getModel(\"emphasis.lineStyle\").getLineStyle(),labelModel:e.getModel(\"label\"),hoverLabelModel:e.getModel(\"emphasis.label\")}}function nf(t){return isNaN(t[0])||isNaN(t[1])}function of(t){return!nf(t[0])\&\&!nf(t[1])}function af(t,e,i){for(var n,o=t[0],a=t[1],r=t[2],s=1/0,l=i*i,u=.1,h=.1;h<=.9;h+=.1)xL[0]=bL(o[0],a[0],r[0],h),xL[1]=bL(o[1],a[1],r[1],h),(f=ML(SL(xL,e)-l))<s\&\&(s=f,n=h);for(var c=0;c<32;c++){var d=n+u;_L[0]=bL(o[0],a[0],r[0],n),_L[1]=bL(o[1],a[1],r[1],n),wL[0]=bL(o[0],a[0],r[0],d),wL[1]=bL(o[1],a[1],r[1],d);var f=SL(_L,e)-l;if(ML(f)<.01)break;var p=SL(wL,e)-l;u/=2,f<0?p>=0?n+=u:n-=u:p>=0?n-=u:n+=u}return n}function rf(t,e){return t.getVisual(\"opacity\")||t.getModel().get(e)}function sf(t,e,i){var n=t.getGraphicEl(),o=rf(t,e);null!=i\&\&(null==o\&\&(o=1),o*=i),n.downplay\&\&n.downplay(),n.traverse(function(t){\"group\"!==t.type\&\&t.setStyle(\"opacity\",o)})}function lf(t,e){var i=rf(t,e),n=t.getGraphicEl();n.highlight\&\&n.highlight(),n.traverse(function(t){\"group\"!==t.type\&\&t.setStyle(\"opacity\",i)})}function uf(t){return t instanceof Array||(t=[t,t]),t}function hf(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get(\"x\"),+e.get(\"y\")])}),cf(i)}}function cf(t){t.eachEdge(function(t){var e=t.getModel().get(\"lineStyle.curveness\")||0,i=F(t.node1.getLayout()),n=F(t.node2.getLayout()),o=[i,n];+e\&\&o.push([(i[0]+n[0])/2-(i[1]-n[1])*e,(i[1]+n[1])/2-(n[0]-i[0])*e]),t.setLayout(o)})}function df(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type){var i=e.getBoundingRect(),n=t.getData(),o=n.graph,a=0,r=n.getSum(\"value\"),s=2*Math.PI/(r||n.count()),l=i.width/2+i.x,u=i.height/2+i.y,h=Math.min(i.width,i.height)/2;o.eachNode(function(t){var e=t.getValue(\"value\");a+=s*(r?e:1)/2,t.setLayout([h*Math.cos(a)+l,h*Math.sin(a)+u]),a+=s*(r?e:1)/2}),n.setLayout({cx:l,cy:u}),o.eachEdge(function(t){var e,i=t.getModel().get(\"lineStyle.curveness\")||0,n=F(t.node1.getLayout()),o=F(t.node2.getLayout()),a=(n[0]+o[0])/2,r=(n[1]+o[1])/2;+i\&\&(e=[l*(i*=3)+a*(1-i),u*i+r*(1-i)]),t.setLayout([n,o,e])})}}function ff(t,e,i){for(var n=i.rect,o=n.width,a=n.height,r=[n.x+o/2,n.y+a/2],s=null==i.gravity?.1:i.gravity,l=0;l<t.length;l++){var u=t[l];u.p||(u.p=V(o*(Math.random()-.5)+r[0],a*(Math.random()-.5)+r[1])),u.pp=F(u.p),u.edges=null}var h=.6;return{warmUp:function(){h=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var n=[],o=t.length,a=0;a<e.length;a++){var l=e[a],u=l.n1;U(n,(p=l.n2).p,u.p);var c=X(n)-l.d,d=p.w/(u.w+p.w);isNaN(d)\&\&(d=0),q(n,n),!u.fixed\&\&DL(u.p,u.p,n,d*c*h),!p.fixed\&\&DL(p.p,p.p,n,-(1-d)*c*h)}for(a=0;a<o;a++)(v=t[a]).fixed||(U(n,r,v.p),DL(v.p,v.p,n,s*h));for(a=0;a<o;a++)for(var u=t[a],f=a+1;f<o;f++){var p=t[f];U(n,p.p,u.p),0===(c=X(n))\&\&(W(n,Math.random()-.5,Math.random()-.5),c=1);var g=(u.rep+p.rep)/c/c;!u.fixed\&\&DL(u.pp,u.pp,n,g),!p.fixed\&\&DL(p.pp,p.pp,n,-g)}for(var m=[],a=0;a<o;a++){var v=t[a];v.fixed||(U(m,v.p,v.pp),DL(v.p,v.p,m,h),G(v.pp,v.p))}h*=.992,i\&\&i(t,e,h<.01)}}}function pf(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,la(n,{width:e.getWidth(),height:e.getHeight()})}function gf(t,e){var i=t.get(\"center\"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o);return{cx:Ro(i[0],e.getWidth()),cy:Ro(i[1],e.getHeight()),r:Ro(t.get(\"radius\"),a/2)}}function mf(t,e){return e\&\&(\"string\"==typeof e?t=e.replace(\"{value}\",null!=t?t:\"\"):\"function\"==typeof e\&\&(t=e(t))),t}function vf(t,e){function i(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function n(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}Zw.call(this);var o=new nM,a=new oM,r=new qS;this.add(o),this.add(a),this.add(r),this.updateData(t,e,!0),this.on(\"emphasis\",i).on(\"normal\",n).on(\"mouseover\",i).on(\"mouseout\",n)}function yf(t,e){return la(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function xf(t,e){for(var i=t.mapDimension(\"value\"),n=t.mapArray(i,function(t){return t}),o=[],a=\"ascending\"===e,r=0,s=t.count();r<s;r++)o[r]=r;return\"function\"==typeof e?o.sort(e):\"none\"!==e\&\&o.sort(function(t,e){return a?n[t]-n[e]:n[e]-n[t]}),o}function _f(t){t.each(function(e){var i,n,o,a,r=t.getItemModel(e),s=r.getModel(\"label\").get(\"position\"),l=r.getModel(\"labelLine\"),u=t.getItemLayout(e),h=u.points,c=\"inner\"===s||\"inside\"===s||\"center\"===s;if(c)i=\"center\",a=[[n=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4],[n,o]];else{var d,f,p,g=l.get(\"length\");\"left\"===s?(d=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,n=(p=d-g)-5,i=\"right\"):(d=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,n=(p=d+g)+5,i=\"left\");var m=f;a=[[d,f],[p,m]],o=m}u.label={linePoints:a,x:n,y:o,verticalAlign:\"middle\",textAlign:i,inside:c}})}function wf(t){if(!t.parallel){var e=!1;d(t.series,function(t){t\&\&\"parallel\"===t.type\&\&(e=!0)}),e\&\&(t.parallel=[{}])}}function bf(t){d(Di(t.parallelAxis),function(e){if(w(e)){var i=e.parallelIndex||0,o=Di(t.parallel)[i];o\&\&o.parallelAxisDefault\&\&n(e,o.parallelAxisDefault,!1)}})}function Sf(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function Mf(t,e){return Math.min(e[1],Math.max(e[0],t))}function If(t,e,i){this._axesMap=R(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function Tf(t,e){return zL(BL(t,e[0]),e[1])}function Af(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function Df(t,e){var i,n,o=e.layoutLength,a=e.axisExpandWidth,r=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;return t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],u=a,h=!0):(i=o-(r-1-t)*s,n=s),{position:i,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:n}}function Cf(t){aw.call(this),this._zr=t,this.group=new Zw,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid=\"brushController_\"+ok++,this._handlers={},XL(ak,function(t,e){this._handlers[e]=m(t,this)},this)}function Lf(t,e){var o=t._zr;t._enableGlobalPan||ec(o,tk,t._uid),XL(t._handlers,function(t,e){o.on(e,t)}),t._brushType=e.brushType,t._brushOption=n(i(nk),e,!0)}function kf(t){var e=t._zr;ic(e,tk,t._uid),XL(t._handlers,function(t,i){e.off(i,t)}),t._brushType=t._brushOption=null}function Pf(t,e){var i=rk[e.brushType].createCover(t,e);return i.__brushOption=e,Ef(i,e),t.group.add(i),i}function Nf(t,e){var i=zf(e);return i.endCreating\&\&(i.endCreating(t,e),Ef(e,e.__brushOption)),e}function Of(t,e){var i=e.__brushOption;zf(e).updateCoverShape(t,e,i.range,i)}function Ef(t,e){var i=e.z;null==i\&\&(i=\$L),t.traverse(function(t){t.z=i,t.z2=i})}function Rf(t,e){zf(e).updateCommon(t,e),Of(t,e)}function zf(t){return rk[t.__brushOption.brushType]}function Bf(t,e,i){var n=t._panels;if(!n)return!0;var o,a=t._transform;return XL(n,function(t){t.isTargetByCursor(e,i,a)\&\&(o=t)}),o}function Vf(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function Gf(t){var e=t._covers,i=e.length;return XL(e,function(e){t.group.remove(e)},t),e.length=0,!!i}function Ff(t,e){var n=jL(t._covers,function(t){var e=t.__brushOption,n=i(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger(\"brush\",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Wf(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],a=i[1]-n[1];return KL(o*o+a*a,.5)>JL}function Hf(t){var e=t.length-1;return e<0\&\&(e=0),[t[0],t[e]]}function Zf(t,e,i,n){var o=new Zw;return o.add(new aM({name:\"main\",style:Yf(i),silent:!0,draggable:!0,cursor:\"move\",drift:UL(t,e,o,\"nswe\"),ondragend:UL(Ff,e,{isEnd:!0})})),XL(n,function(i){o.add(new aM({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:UL(t,e,o,i),ondragend:UL(Ff,e,{isEnd:!0})}))}),o}function Uf(t,e,i,n){var o=n.brushStyle.lineWidth||0,a=qL(o,QL),r=i[0][0],s=i[1][0],l=r-o/2,u=s-o/2,h=i[0][1],c=i[1][1],d=h-a+o/2,f=c-a+o/2,p=h-r,g=c-s,m=p+o,v=g+o;jf(t,e,\"main\",r,s,p,g),n.transformable\&\&(jf(t,e,\"w\",l,u,a,v),jf(t,e,\"e\",d,u,a,v),jf(t,e,\"n\",l,u,m,a),jf(t,e,\"s\",l,f,m,a),jf(t,e,\"nw\",l,u,a,a),jf(t,e,\"ne\",d,u,a,a),jf(t,e,\"sw\",l,f,a,a),jf(t,e,\"se\",d,f,a,a))}function Xf(t,e){var i=e.__brushOption,n=i.transformable,o=e.childAt(0);o.useStyle(Yf(i)),o.attr({silent:!n,cursor:n?\"move\":\"default\"}),XL([\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"],function(i){var o=e.childOfName(i),a=\$f(t,i);o\&\&o.attr({silent:!n,invisible:!n,cursor:n?ik[a]+\"-resize\":null})})}function jf(t,e,i,n,o,a,r){var s=e.childOfName(i);s\&\&s.setShape(ip(ep(t,e,[[n,o],[n+a,o+r]])))}function Yf(t){return r({strokeNoScale:!0},t.brushStyle)}function qf(t,e,i,n){var o=[YL(t,i),YL(e,n)],a=[qL(t,i),qL(e,n)];return[[o[0],a[0]],[o[1],a[1]]]}function Kf(t){return Mo(t.group)}function \$f(t,e){if(e.length>1)return(\"e\"===(n=[\$f(t,(e=e.split(\"\"))[0]),\$f(t,e[1])])[0]||\"w\"===n[0])\&\&n.reverse(),n.join(\"\");var i={left:\"w\",right:\"e\",top:\"n\",bottom:\"s\"},n=To({w:\"left\",e:\"right\",n:\"top\",s:\"bottom\"}[e],Kf(t));return i[n]}function Jf(t,e,i,n,o,a,r,s){var l=n.__brushOption,u=t(l.range),h=tp(i,a,r);XL(o.split(\"\"),function(t){var e=ek[t];u[e[0]][e[1]]+=h[e[0]]}),l.range=e(qf(u[0][0],u[1][0],u[0][1],u[1][1])),Rf(i,n),Ff(i,{isEnd:!1})}function Qf(t,e,i,n,o){var a=e.__brushOption.range,r=tp(t,i,n);XL(a,function(t){t[0]+=r[0],t[1]+=r[1]}),Rf(t,e),Ff(t,{isEnd:!1})}function tp(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),a=n.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function ep(t,e,n){var o=Vf(t,e);return o\&\&!0!==o?o.clipPath(n,t._transform):i(n)}function ip(t){var e=YL(t[0][0],t[1][0]),i=YL(t[0][1],t[1][1]);return{x:e,y:i,width:qL(t[0][0],t[1][0])-e,height:qL(t[0][1],t[1][1])-i}}function np(t,e,i){if(t._brushType){var n=t._zr,o=t._covers,a=Bf(t,e,i);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a\&\&(!0===a||s.panelId===a.panelId)\&\&rk[s.brushType].contain(o[r],i[0],i[1]))return}a\&\&n.setCursorStyle(\"crosshair\")}}function op(t){var e=t.event;e.preventDefault\&\&e.preventDefault()}function ap(t,e,i){return t.childOfName(\"main\").contain(e,i)}function rp(t,e,n,o){var a,r=t._creatingCover,s=t._creatingPanel,l=t._brushOption;if(t._track.push(n.slice()),Wf(t)||r){if(s\&\&!r){\"single\"===l.brushMode\&\&Gf(t);var u=i(l);u.brushType=sp(u.brushType,s),u.panelId=!0===s?null:s.panelId,r=t._creatingCover=Pf(t,u),t._covers.push(r)}if(r){var h=rk[sp(t._brushType,s)];r.__brushOption.range=h.getCreatingRange(ep(t,r,t._track)),o\&\&(Nf(t,r),h.updateCommon(t,r)),Of(t,r),a={isEnd:o}}}else o\&\&\"single\"===l.brushMode\&\&l.removeOnClick\&\&Bf(t,e,n)\&\&Gf(t)\&\&(a={isEnd:o,removeOnClick:!0});return a}function sp(t,e){return\"auto\"===t?e.defaultBrushType:t}function lp(t){if(this._dragging){op(t);var e=rp(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e\&\&Ff(this,e)}}function up(t){return{createCover:function(e,i){return Zf(UL(Jf,function(e){var i=[e,[0,100]];return t\&\&i.reverse(),i},function(e){return e[t]}),e,i,[[\"w\",\"e\"],[\"n\",\"s\"]][t])},getCreatingRange:function(e){var i=Hf(e);return[YL(i[0][t],i[1][t]),qL(i[0][t],i[1][t])]},updateCoverShape:function(e,i,n,o){var a,r=Vf(e,i);if(!0!==r\&\&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,a];t\&\&l.reverse(),Uf(e,i,l,o)},updateCommon:Xf,contain:ap}}function hp(t){return t=fp(t),function(e,i){return Do(e,t)}}function cp(t,e){return t=fp(t),function(i){var n=null!=e?e:i,o=n?t.width:t.height,a=n?t.x:t.y;return[a,a+(o||0)]}}function dp(t,e,i){return t=fp(t),function(n,o,a){return t.contain(o[0],o[1])\&\&!mc(n,e,i)}}function fp(t){return ue.create(t)}function pp(t,e,i){return i\&\&\"axisAreaSelect\"===i.type\&\&e.findComponents({mainType:\"parallelAxis\",query:i})[0]===t}function gp(t){var e=t.axis;return f(t.activeIntervals,function(t){return{brushType:\"lineX\",panelId:\"pl\",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function mp(t,e){return e.getComponent(\"parallel\",t.get(\"parallelIndex\"))}function vp(t,e){var i=t._model;return i.get(\"axisExpandable\")\&\&i.get(\"axisExpandTriggerOn\")===e}function yp(t,e){if(!t.encodeDefine){var i=e.ecModel.getComponent(\"parallel\",e.get(\"parallelIndex\"));if(i){var n=t.encodeDefine=R();d(i.dimensions,function(t){var e=xp(t);n.set(t,e)})}}}function xp(t){return+t.replace(\"dim\",\"\")}function _p(t,e,i){var n=t.model,o=t.getRect(),a=new aM({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),r=\"horizontal\"===n.get(\"layout\")?\"width\":\"height\";return a.setShape(r,0),So(a,{shape:{width:o.width,height:o.height}},e,i),a}function wp(t,e,i,n){for(var o=[],a=0;a<i.length;a++){var r=i[a],s=t.get(t.mapDimension(r),e);Ip(s,n.getAxis(r).type)||o.push(n.dataToPoint(s,r))}return o}function bp(t,e,i,n,o){var a=wp(t,i,n,o),r=new oM({shape:{points:a},silent:!0,z2:10});return e.add(r),t.setItemGraphicEl(i,r),r}function Sp(t){var e=t.get(\"smooth\",!0);return!0===e\&\&(e=hk),{lineStyle:t.getModel(\"lineStyle\").getLineStyle(),smooth:null!=e?e:hk}}function Mp(t,e,i,n){var o=n.lineStyle;e.hasItemOption\&\&(o=e.getItemModel(i).getModel(\"lineStyle\").getLineStyle()),t.useStyle(o);var a=t.style;a.fill=null,a.stroke=e.getItemVisual(i,\"color\"),a.opacity=e.getItemVisual(i,\"opacity\"),n.smooth\&\&(t.shape.smooth=n.smooth)}function Ip(t,e){return\"category\"===e?null==t:null==t||isNaN(t)}function Tp(t,e){return t.getVisual(\"opacity\")||t.getModel().get(e)}function Ap(t,e,i){var n=t.getGraphicEl(),o=Tp(t,e);null!=i\&\&(null==o\&\&(o=1),o*=i),n.downplay\&\&n.downplay(),n.traverse(function(t){\"group\"!==t.type\&\&t.setStyle(\"opacity\",o)})}function Dp(t,e){var i=Tp(t,e),n=t.getGraphicEl();n.highlight\&\&n.highlight(),n.traverse(function(t){\"group\"!==t.type\&\&t.setStyle(\"opacity\",i)})}function Cp(t,e,i){var n=new aM({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return So(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}function Lp(){function t(e,n){if(n>=i.length)return e;for(var o=-1,a=e.length,r=i[n++],s={},l={};++o<a;){var u=r(e[o]),h=l[u];h?h.push(e[o]):l[u]=[e[o]]}return d(l,function(e,i){s[i]=t(e,n)}),s}function e(t,o){if(o>=i.length)return t;var a=[],r=n[o++];return d(t,function(t,i){a.push({key:i,values:e(t,o)})}),r?a.sort(function(t,e){return r(t.key,e.key)}):a}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}function kp(t,e){return la(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Pp(t,e,i,n,o,a,r,s){Op(t,e,i,o,a,s),zp(t,e,a,o,n,r,s),Yp(t,s)}function Np(t){d(t,function(t){var e=Xp(t.outEdges,Up),i=Xp(t.inEdges,Up),n=Math.max(e,i);t.setLayout({value:n},!0)})}function Op(t,e,i,n,o,a){for(var r=[],s=[],l=[],u=[],h=0,c=0;c<e.length;c++)r[c]=1;for(c=0;c<t.length;c++)s[c]=t[c].inEdges.length,0===s[c]\&\&l.push(t[c]);for(;l.length;){for(var d=0;d<l.length;d++){var f=l[d];\"vertical\"===a?(f.setLayout({y:h},!0),f.setLayout({dy:i},!0)):(f.setLayout({x:h},!0),f.setLayout({dx:i},!0));for(var p=0;p<f.outEdges.length;p++){var g=f.outEdges[p];r[e.indexOf(g)]=0;var m=g.node2;0==--s[t.indexOf(m)]\&\&u.push(m)}}++h,l=u,u=[]}for(c=0;c<r.length;c++);Ep(t,h,a),Rp(t,\"vertical\"===a?(o-i)/(h-1):(n-i)/(h-1),a)}function Ep(t,e,i){d(t,function(t){t.outEdges.length||(\"vertical\"===i?t.setLayout({y:e-1},!0):t.setLayout({x:e-1},!0))})}function Rp(t,e,i){d(t,function(t){if(\"vertical\"===i){var n=t.getLayout().y*e;t.setLayout({y:n},!0)}else{var o=t.getLayout().x*e;t.setLayout({x:o},!0)}})}function zp(t,e,i,n,o,a,r){var s=Lp().key(Bp(r)).sortKeys(function(t,e){return t-e}).entries(t).map(function(t){return t.values});Vp(t,s,e,i,n,o,r),Gp(s,o,i,n,r);for(var l=1;a>0;a--)Fp(s,l*=.99,r),Gp(s,o,i,n,r),jp(s,l,r),Gp(s,o,i,n,r)}function Bp(t){return\"vertical\"===t?function(t){return t.getLayout().y}:function(t){return t.getLayout().x}}function Vp(t,e,i,n,o,a,r){var s=[];d(e,function(t){var e=t.length,i=0,l=0;d(t,function(t){i+=t.getLayout().value}),l=\"vertical\"===r?(o-(e-1)*a)/i:(n-(e-1)*a)/i,s.push(l)}),s.sort(function(t,e){return t-e});var l=s[0];d(e,function(t){d(t,function(t,e){var i=t.getLayout().value*l;\"vertical\"===r?(t.setLayout({x:e},!0),t.setLayout({dx:i},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:i},!0))})}),d(i,function(t){var e=+t.getValue()*l;t.setLayout({dy:e},!0)})}function Gp(t,e,i,n,o){d(t,function(t){var a,r,s,l=0,u=t.length;if(\"vertical\"===o){var h;for(t.sort(function(t,e){return t.getLayout().x-e.getLayout().x}),s=0;s<u;s++)(r=l-(a=t[s]).getLayout().x)>0\&\&(h=a.getLayout().x+r,a.setLayout({x:h},!0)),l=a.getLayout().x+a.getLayout().dx+e;if((r=l-e-n)>0)for(h=a.getLayout().x-r,a.setLayout({x:h},!0),l=h,s=u-2;s>=0;--s)(r=(a=t[s]).getLayout().x+a.getLayout().dx+e-l)>0\&\&(h=a.getLayout().x-r,a.setLayout({x:h},!0)),l=a.getLayout().x}else{var c;for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),s=0;s<u;s++)(r=l-(a=t[s]).getLayout().y)>0\&\&(c=a.getLayout().y+r,a.setLayout({y:c},!0)),l=a.getLayout().y+a.getLayout().dy+e;if((r=l-e-i)>0)for(c=a.getLayout().y-r,a.setLayout({y:c},!0),l=c,s=u-2;s>=0;--s)(r=(a=t[s]).getLayout().y+a.getLayout().dy+e-l)>0\&\&(c=a.getLayout().y-r,a.setLayout({y:c},!0)),l=a.getLayout().y}})}function Fp(t,e,i){d(t.slice().reverse(),function(t){d(t,function(t){if(t.outEdges.length){var n=Xp(t.outEdges,Wp,i)/Xp(t.outEdges,Up,i);if(\"vertical\"===i){var o=t.getLayout().x+(n-Zp(t,i))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(n-Zp(t,i))*e;t.setLayout({y:a},!0)}}})})}function Wp(t,e){return Zp(t.node2,e)*t.getValue()}function Hp(t,e){return Zp(t.node1,e)*t.getValue()}function Zp(t,e){return\"vertical\"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Up(t){return t.getValue()}function Xp(t,e,i){for(var n=0,o=t.length,a=-1;++a<o;){var r=+e.call(t,t[a],i);isNaN(r)||(n+=r)}return n}function jp(t,e,i){d(t,function(t){d(t,function(t){if(t.inEdges.length){var n=Xp(t.inEdges,Hp,i)/Xp(t.inEdges,Up,i);if(\"vertical\"===i){var o=t.getLayout().x+(n-Zp(t,i))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(n-Zp(t,i))*e;t.setLayout({y:a},!0)}}})})}function Yp(t,e){d(t,function(t){\"vertical\"===e?(t.outEdges.sort(function(t,e){return t.node2.getLayout().x-e.node2.getLayout().x}),t.inEdges.sort(function(t,e){return t.node1.getLayout().x-e.node1.getLayout().x})):(t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}))}),d(t,function(t){var e=0,i=0;d(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),d(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}function qp(t,e,i,n,o){var a=t.ends,r=new xk({shape:{points:o?\$p(a,n,t):a}});return Kp(t,r,e,i,o),r}function Kp(t,e,i,n,o){var a=i.hostModel;(0,bM[o?\"initProps\":\"updateProps\"])(e,{shape:{points:t.ends}},a,n);var r=i.getItemModel(n),s=r.getModel(vk),l=i.getItemVisual(n,\"color\"),u=s.getItemStyle([\"borderColor\"]);u.stroke=l,u.strokeNoScale=!0,e.useStyle(u),e.z2=100,uo(e,r.getModel(yk).getItemStyle())}function \$p(t,e,i){return f(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function Jp(t){var e=[],i=[];return t.eachSeriesByType(\"boxplot\",function(t){var n=t.getBaseAxis(),o=l(i,n);o<0\&\&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)}),e}function Qp(t){var e,i,n=t.axis,o=t.seriesModels,a=o.length,r=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if(\"category\"===n.type)i=n.getBandWidth();else{var u=0;wk(o,function(t){u=Math.max(u,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])}wk(o,function(t){var e=t.get(\"boxWidth\");y(e)||(e=[e,e]),l.push([Ro(e[0],i)||0,Ro(e[1],i)||0])});var h=.8*i-2,c=h/a*.3,d=(h-c*(a-1))/a,f=d/2-h/2;wk(o,function(t,e){s.push(f),f+=c+d,r.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}function tg(t,e,i){function n(t,i,n){var o=s.get(i,n),a=[];a[u]=t,a[h]=o;var l;return isNaN(t)||isNaN(o)?l=[NaN,NaN]:(l=r.dataToPoint(a))[u]+=e,l}function o(t,e,i){var n=e.slice(),o=e.slice();n[u]+=l,o[u]-=l,i?t.push(n,o):t.push(o,n)}function a(t,e){var i=e.slice(),n=e.slice();i[u]-=l,n[u]+=l,t.push(i,n)}var r=t.coordinateSystem,s=t.getData(),l=i/2,u=\"horizontal\"===t.get(\"layout\")?0:1,h=1-u,c=[\"x\",\"y\"],d=s.mapDimension(c[u]),f=s.mapDimension(c[h],!0);if(!(null==d||f.length<5))for(var p=0;p<s.count();p++){var g=s.get(d,p),m=n(g,f[2],p),v=n(g,f[0],p),y=n(g,f[1],p),x=n(g,f[3],p),_=n(g,f[4],p),w=[];o(w,y,0),o(w,x,1),w.push(v,y,_,x),a(w,v),a(w,_),a(w,m),s.setItemLayout(p,{initBaseline:m[h],ends:w})}}function eg(t,e,i){var n=t.ends;return new Ik({shape:{points:i?ng(n,t):n},z2:100})}function ig(t,e,i,n){var o=e.getItemModel(i),a=o.getModel(bk),r=e.getItemVisual(i,\"color\"),s=e.getItemVisual(i,\"borderColor\")||r,l=a.getItemStyle(Mk);t.useStyle(l),t.style.strokeNoScale=!0,t.style.fill=r,t.style.stroke=s,t.__simpleBox=n,uo(t,o.getModel(Sk).getItemStyle())}function ng(t,e){return f(t,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}function og(t,e,i){var n=t.getData(),o=n.getLayout(\"largePoints\"),a=new Tk({shape:{points:o},__sign:1});e.add(a);var r=new Tk({shape:{points:o},__sign:-1});e.add(r),ag(1,a,t,n),ag(-1,r,t,n),i\&\&(a.incremental=!0,r.incremental=!0)}function ag(t,e,i,n){var o=t>0?\"P\":\"N\",a=n.getVisual(\"borderColor\"+o)||n.getVisual(\"color\"+o),r=i.getModel(bk).getItemStyle(Mk);e.useStyle(r),e.style.fill=null,e.style.stroke=a}function rg(t,e,i,n,o){return i>n?-1:i<n?1:e>0?t.get(o,e-1)<=n?1:-1:1}function sg(t,e){var i,n=t.getBaseAxis(),o=\"category\"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=Ro(A(t.get(\"barMaxWidth\"),o),o),r=Ro(A(t.get(\"barMinWidth\"),1),o),s=t.get(\"barWidth\");return null!=s?Ro(s,o):Math.max(Math.min(o/2,a),r)}function lg(t){return y(t)||(t=[+t,+t]),t}function ug(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:\"stroke\"===e.brushType?e.color:null,fill:\"fill\"===e.brushType?e.color:null}})})}function hg(t,e){Zw.call(this);var i=new mu(t,e),n=new Zw;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}function cg(t){var e=t.data;e\&\&e[0]\&\&e[0][0]\&\&e[0][0].coord\&\&(t.data=f(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name\&\&(e.fromName=t[0].name),t[1].name\&\&(e.toName=t[1].name),o([e,t[0],t[1]])}))}function dg(t,e,i){Zw.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}function fg(t,e,i){Zw.call(this),this._createPolyline(t,e,i)}function pg(t,e,i){dg.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}function gg(){this.group=new Zw}function mg(t){return t instanceof Array||(t=[t,t]),t}function vg(){var t=Y_();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function yg(t,e,i){var n=t[1]-t[0],o=(e=f(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}})).length,a=0;return function(t){for(n=a;n<o;n++)if((r=e[n].interval)[0]<=t\&\&t<=r[1]){a=n;break}if(n===o)for(var n=a-1;n>=0;n--){var r=e[n].interval;if(r[0]<=t\&\&t<=r[1]){a=n;break}}return n>=0\&\&n<o\&\&i[n]}}function xg(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]\&\&t<=e[1]}}function _g(t){var e=t.dimensions;return\"lng\"===e[0]\&\&\"lat\"===e[1]}function wg(t,e,i,n){var o=t.getItemLayout(e),a=i.get(\"symbolRepeat\"),r=i.get(\"symbolClip\"),s=i.get(\"symbolPosition\")||\"start\",l=(i.get(\"symbolRotate\")||0)*Math.PI/180||0,u=i.get(\"symbolPatternSize\")||2,h=i.isAnimationEnabled(),c={dataIndex:e,layout:o,itemModel:i,symbolType:t.getItemVisual(e,\"symbol\")||\"circle\",color:t.getItemVisual(e,\"color\"),symbolClip:r,symbolRepeat:a,symbolRepeatDirection:i.get(\"symbolRepeatDirection\"),symbolPatternSize:u,rotation:l,animationModel:h?i:null,hoverAnimation:h\&\&i.get(\"hoverAnimation\"),z2:i.getShallow(\"z\",!0)||0};bg(i,a,o,n,c),Mg(t,e,o,a,r,c.boundingLength,c.pxSign,u,n,c),Ig(i,c.symbolScale,l,n,c);var d=c.symbolSize,f=i.get(\"symbolOffset\");return y(f)\&\&(f=[Ro(f[0],d[0]),Ro(f[1],d[1])]),Tg(i,d,o,a,r,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,n,c),c}function bg(t,e,i,n,o){var a,r=n.valueDim,s=t.get(\"symbolBoundingData\"),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(i[r.wh]<=0);if(y(s)){var c=[Sg(l,s[0])-u,Sg(l,s[1])-u];c[1]<c[0]\&\&c.reverse(),a=c[h]}else a=null!=s?Sg(l,s)-u:e?n.coordSysExtent[r.index][h]-u:i[r.wh];o.boundingLength=a,e\&\&(o.repeatCutLength=i[r.wh]),o.pxSign=a>0?1:a<0?-1:0}function Sg(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function Mg(t,e,i,n,o,a,r,s,l,u){var h=l.valueDim,c=l.categoryDim,d=Math.abs(i[c.wh]),f=t.getItemVisual(e,\"symbolSize\");y(f)?f=f.slice():(null==f\&\&(f=\"100%\"),f=[f,f]),f[c.index]=Ro(f[c.index],d),f[h.index]=Ro(f[h.index],n?d:Math.abs(a)),u.symbolSize=f,(u.symbolScale=[f[0]/s,f[1]/s])[h.index]*=(l.isHorizontal?-1:1)*r}function Ig(t,e,i,n,o){var a=t.get(jk)||0;a\&\&(qk.attr({scale:e.slice(),rotation:i}),qk.updateTransform(),a/=qk.getLineScale(),a*=e[n.valueDim.index]),o.valueLineWidth=a}function Tg(t,e,i,n,o,r,s,l,u,h,c,d){var f=c.categoryDim,p=c.valueDim,g=d.pxSign,m=Math.max(e[p.index]+l,0),v=m;if(n){var y=Math.abs(u),x=T(t.get(\"symbolMargin\"),\"15%\")+\"\",_=!1;x.lastIndexOf(\"!\")===x.length-1\&\&(_=!0,x=x.slice(0,x.length-1)),x=Ro(x,e[p.index]);var w=Math.max(m+2*x,0),b=_?0:2*x,S=Ko(n),M=S?n:Hg((y+b)/w);w=m+2*(x=(y-M*m)/2/(_?M:M-1)),b=_?0:2*x,S||\"fixed\"===n||(M=h?Hg((Math.abs(h)+b)/w):0),v=M*w-b,d.repeatTimes=M,d.symbolMargin=x}var I=g*(v/2),A=d.pathPosition=[];A[f.index]=i[f.wh]/2,A[p.index]=\"start\"===s?I:\"end\"===s?u-I:u/2,r\&\&(A[0]+=r[0],A[1]+=r[1]);var D=d.bundlePosition=[];D[f.index]=i[f.xy],D[p.index]=i[p.xy];var C=d.barRectShape=a({},i);C[p.wh]=g*Math.max(Math.abs(i[p.wh]),Math.abs(A[p.index]+I)),C[f.wh]=i[f.wh];var L=d.clipShape={};L[f.xy]=-i[f.xy],L[f.wh]=c.ecSize[f.wh],L[p.xy]=0,L[p.wh]=i[p.wh]}function Ag(t){var e=t.symbolPatternSize,i=Xl(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),\"image\"!==i.type\&\&i.setStyle({strokeNoScale:!0}),i}function Dg(t,e,i,n){function o(t){var e=l.slice(),n=i.pxSign,o=t;return(\"start\"===i.symbolRepeatDirection?n>0:n<0)\&\&(o=h-1-t),e[u.index]=d*(o-h/2+.5)+l[u.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation}}var a=t.__pictorialBundle,r=i.symbolSize,s=i.valueLineWidth,l=i.pathPosition,u=e.valueDim,h=i.repeatTimes||0,c=0,d=r[e.valueDim.index]+s+2*i.symbolMargin;for(Gg(t,function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=h,c<h?Fg(t,null,o(c),i,n):Fg(t,null,{scale:[0,0]},i,n,function(){a.remove(t)}),Eg(t,i),c++});c<h;c++){var f=Ag(i);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=h,a.add(f);var p=o(c);Fg(f,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},i,n),f.on(\"mouseover\",function(){Gg(t,function(t){t.trigger(\"emphasis\")})}).on(\"mouseout\",function(){Gg(t,function(t){t.trigger(\"normal\")})}),Eg(f,i)}}function Cg(t,e,i,n){var o=t.__pictorialBundle,a=t.__pictorialMainPath;a?Fg(a,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(a=t.__pictorialMainPath=Ag(i),o.add(a),Fg(a,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),a.on(\"mouseover\",function(){this.trigger(\"emphasis\")}).on(\"mouseout\",function(){this.trigger(\"normal\")})),Eg(a,i)}function Lg(t,e,i){var n=a({},e.barRectShape),o=t.__pictorialBarRect;o?Fg(o,null,{shape:n},e,i):(o=t.__pictorialBarRect=new aM({z2:2,shape:n,silent:!0,style:{stroke:\"transparent\",fill:\"transparent\",lineWidth:0}}),t.add(o))}function kg(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,r=a({},i.clipShape),s=e.valueDim,l=i.animationModel,u=i.dataIndex;if(o)bo(o,{shape:r},l,u);else{r[s.wh]=0,o=new aM({shape:r}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var h={};h[s.wh]=i.clipShape[s.wh],bM[n?\"updateProps\":\"initProps\"](o,{shape:h},l,u)}}}function Pg(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=Ng,i.isAnimationEnabled=Og,i}function Ng(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function Og(){return this.parentModel.isAnimationEnabled()\&\&!!this.getShallow(\"animation\")}function Eg(t,e){t.off(\"emphasis\").off(\"normal\");var i=e.symbolScale.slice();e.hoverAnimation\&\&t.on(\"emphasis\",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,\"elasticOut\")}).on(\"normal\",function(){this.animateTo({scale:i.slice()},400,\"elasticOut\")})}function Rg(t,e,i,n){var o=new Zw,a=new Zw;return o.add(a),o.__pictorialBundle=a,a.attr(\"position\",i.bundlePosition.slice()),i.symbolRepeat?Dg(o,e,i):Cg(o,e,i),Lg(o,i,n),kg(o,e,i,n),o.__pictorialShapeStr=Vg(t,i),o.__pictorialSymbolMeta=i,o}function zg(t,e,i){var n=i.animationModel,o=i.dataIndex;bo(t.__pictorialBundle,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?Dg(t,e,i,!0):Cg(t,e,i,!0),Lg(t,i,!0),kg(t,e,i,!0)}function Bg(t,e,i,n){var o=n.__pictorialBarRect;o\&\&(o.style.text=null);var a=[];Gg(n,function(t){a.push(t)}),n.__pictorialMainPath\&\&a.push(n.__pictorialMainPath),n.__pictorialClipPath\&\&(i=null),d(a,function(t){bo(t,{scale:[0,0]},i,e,function(){n.parent\&\&n.parent.remove(n)})}),t.setItemGraphicEl(e,null)}function Vg(t,e){return[t.getItemVisual(e.dataIndex,\"symbol\")||\"none\",!!e.symbolRepeat,!!e.symbolClip].join(\":\")}function Gg(t,e,i){d(t.__pictorialBundle.children(),function(n){n!==t.__pictorialBarRect\&\&e.call(i,n)})}function Fg(t,e,i,n,o,a){e\&\&t.attr(e),n.symbolClip\&\&!o?i\&\&t.attr(i):i\&\&bM[o?\"updateProps\":\"initProps\"](t,i,n.animationModel,n.dataIndex,a)}function Wg(t,e,i){var n=i.color,o=i.dataIndex,a=i.itemModel,s=a.getModel(\"itemStyle\").getItemStyle([\"color\"]),l=a.getModel(\"emphasis.itemStyle\").getItemStyle(),u=a.getShallow(\"cursor\");Gg(t,function(t){t.setColor(n),t.setStyle(r({fill:n,opacity:i.opacity},s)),uo(t,l),u\&\&(t.cursor=u),t.z2=i.z2});var h={},c=e.valueDim.posDesc[+(i.boundingLength>0)],d=t.__pictorialBarRect;Th(d.style,h,a,n,e.seriesModel,o,c),uo(d,h)}function Hg(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function Zg(t,e,i){this.dimension=\"single\",this.dimensions=[\"single\"],this._axis=null,this._rect,this._init(t,e,i),this.model=t}function Ug(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,o={},a=n.position,r=n.orient,s=i.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=[\"vertical\"===r?u.vertical[a]:l[0],\"horizontal\"===r?u.horizontal[a]:l[3]];var h={horizontal:0,vertical:1};o.rotation=Math.PI/2*h[r];var c={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=c[a],t.get(\"axisTick.inside\")\&\&(o.tickDirection=-o.tickDirection),T(e.labelInside,t.get(\"axisLabel.inside\"))\&\&(o.labelDirection=-o.labelDirection);var d=e.rotate;return null==d\&\&(d=t.get(\"axisLabel.rotate\")),o.labelRotation=\"top\"===a?-d:d,o.z2=1,o}function Xg(t,e,i,n,o){var r=t.axis;if(!r.scale.isBlank()\&\&r.containData(e))if(t.involveSeries){var s=jg(e,t),l=s.payloadBatch,u=s.snapToValue;l[0]\&\&null==o.seriesIndex\&\&a(o,l[0]),!n\&\&t.snap\&\&r.containData(u)\&\&null!=u\&\&(e=u),i.showPointer(t,e,l,o),i.showTooltip(t,s,u)}else i.showPointer(t,e)}function jg(t,e){var i=e.axis,n=i.dim,o=t,a=[],r=Number.MAX_VALUE,s=-1;return iP(e.seriesModels,function(e,l){var u,h,c=e.getData().mapDimension(n,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,i);h=d.dataIndices,u=d.nestestValue}else{if(!(h=e.getData().indicesOfNearest(c[0],t,\"category\"===i.type?.5:null)).length)return;u=e.getData().get(c[0],h[0])}if(null!=u\&\&isFinite(u)){var f=t-u,p=Math.abs(f);p<=r\&\&((p<r||f>=0\&\&s<0)\&\&(r=p,s=f,o=u,a.length=0),iP(h,function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:a,snapToValue:o}}function Yg(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function qg(t,e,i,n){var o=i.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip\&\&o.length){var l=e.coordSys.model,u=bh(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get(\"label.precision\"),formatter:s.get(\"label.formatter\")},seriesDataIndices:o.slice()})}}function Kg(t,e,i){var n=i.axesInfo=[];iP(e,function(e,i){var o=e.axisPointerModel.option,a=t[i];a?(!e.useHandle\&\&(o.status=\"show\"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle\&\&(o.status=\"hide\"),\"show\"===o.status\&\&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})})}function \$g(t,e,i,n){if(!em(e)\&\&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:\"showTip\",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else n({type:\"hideTip\"})}function Jg(t,e,i){var n=i.getZr(),o=oP(n).axisPointerLastHighlights||{},a=oP(n).axisPointerLastHighlights={};iP(t,function(t,e){var i=t.axisPointerModel.option;\"show\"===i.status\&\&iP(i.seriesDataIndices,function(t){var e=t.seriesIndex+\" | \"+t.dataIndex;a[e]=t})});var r=[],s=[];d(o,function(t,e){!a[e]\&\&s.push(t)}),d(a,function(t,e){!o[e]\&\&r.push(t)}),s.length\&\&i.dispatchAction({type:\"downplay\",escapeConnect:!0,batch:s}),r.length\&\&i.dispatchAction({type:\"highlight\",escapeConnect:!0,batch:r})}function Qg(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim\&\&e.axis.model.componentIndex===n.axisIndex)return n}}function tm(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+\"AxisIndex\"]=e.componentIndex,i.axisName=i[n+\"AxisName\"]=e.name,i.axisId=i[n+\"AxisId\"]=e.id,i}function em(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function im(t,e,i){if(!z_.node){var n=e.getZr();aP(n).records||(aP(n).records={}),nm(n,e),(aP(n).records[t]||(aP(n).records[t]={})).handler=i}}function nm(t,e){function i(i,n){t.on(i,function(i){var o=sm(e);rP(aP(t).records,function(t){t\&\&n(t,i,o.dispatchAction)}),om(o.pendings,e)})}aP(t).initialized||(aP(t).initialized=!0,i(\"click\",v(rm,\"click\")),i(\"mousemove\",v(rm,\"mousemove\")),i(\"globalout\",am))}function om(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o\&\&(i=t.hideTip[o-1]),i\&\&(i.dispatchAction=null,e.dispatchAction(i))}function am(t,e,i){t.handler(\"leave\",null,i)}function rm(t,e,i,n){e.handler(t,i,n)}function sm(t){var e={showTip:[],hideTip:[]},i=function(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}function lm(t,e){if(!z_.node){var i=e.getZr();(aP(i).records||{})[t]\&\&(aP(i).records[t]=null)}}function um(){}function hm(t,e,i,n){cm(lP(i).lastProp,n)||(lP(i).lastProp=n,e?bo(i,n,t):(i.stopAnimation(),i.attr(n)))}function cm(t,e){if(w(t)\&\&w(e)){var i=!0;return d(e,function(e,n){i=i\&\&cm(t[n],e)}),!!i}return t===e}function dm(t,e){t[e.get(\"label.show\")?\"show\":\"hide\"]()}function fm(t){return{position:t.position.slice(),rotation:t.rotation||0}}function pm(t,e,i){var n=e.get(\"z\"),o=e.get(\"zlevel\");t\&\&t.traverse(function(t){\"group\"!==t.type\&\&(null!=n\&\&(t.z=n),null!=o\&\&(t.zlevel=o),t.silent=i)})}function gm(t){var e,i=t.get(\"type\"),n=t.getModel(i+\"Style\");return\"line\"===i?(e=n.getLineStyle()).fill=null:\"shadow\"===i\&\&((e=n.getAreaStyle()).stroke=null),e}function mm(t,e,i,n,o){var a=ym(i.get(\"value\"),e.axis,e.ecModel,i.get(\"seriesDataIndices\"),{precision:i.get(\"label.precision\"),formatter:i.get(\"label.formatter\")}),r=i.getModel(\"label\"),s=OM(r.get(\"padding\")||0),l=r.getFont(),u=De(a,l),h=o.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=o.align;\"right\"===f\&\&(h[0]-=c),\"center\"===f\&\&(h[0]-=c/2);var p=o.verticalAlign;\"bottom\"===p\&\&(h[1]-=d),\"middle\"===p\&\&(h[1]-=d/2),vm(h,c,d,n);var g=r.get(\"backgroundColor\");g\&\&\"auto\"!==g||(g=e.get(\"axisLine.lineStyle.color\")),t.label={shape:{x:0,y:0,width:c,height:d,r:r.get(\"borderRadius\")},position:h.slice(),style:{text:a,textFont:l,textFill:r.getTextColor(),textPosition:\"inside\",fill:g,stroke:r.get(\"borderColor\")||\"transparent\",lineWidth:r.get(\"borderWidth\")||0,shadowBlur:r.get(\"shadowBlur\"),shadowColor:r.get(\"shadowColor\"),shadowOffsetX:r.get(\"shadowOffsetX\"),shadowOffsetY:r.get(\"shadowOffsetY\")},z2:10}}function vm(t,e,i,n){var o=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function ym(t,e,i,n,o){t=e.scale.parse(t);var a=e.scale.getLabel(t,{precision:o.precision}),r=o.formatter;if(r){var s={value:Wl(e,t),seriesData:[]};d(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e\&\&e.getDataParams(n);o\&\&s.seriesData.push(o)}),_(r)?a=r.replace(\"{value}\",a):x(r)\&\&(a=r(s))}return a}function xm(t,e,i){var n=mt();return wt(n,n,i.rotation),_t(n,n,i.position),Io([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function _m(t,e,i,n,o,a){var r=ID.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get(\"label.margin\"),mm(e,n,o,a,{position:xm(n.axis,t,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function wm(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}}function bm(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}function Sm(t,e,i,n,o,a){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}function Mm(t,e){var i={};return i[e.dim+\"AxisIndex\"]=e.index,t.getCartesian(i)}function Im(t){return\"x\"===t.dim?0:1}function Tm(t){return t.isHorizontal()?0:1}function Am(t,e){var i=t.getRect();return[i[fP[e]],i[fP[e]]+i[pP[e]]]}function Dm(t,e,i){var n=new aM({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return So(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}function Cm(t,e,i){if(t.count())for(var n,o=e.coordinateSystem,a=e.getLayerSeries(),r=t.mapDimension(\"single\"),s=t.mapDimension(\"value\"),l=f(a,function(e){return f(e.indices,function(e){var i=o.dataToPoint(t.get(r,e));return i[1]=t.get(s,e),i})}),u=Lm(l),h=u.y0,c=i/u.max,d=a.length,p=a[0].indices.length,g=0;g<p;++g){n=h[g]*c,t.setItemLayout(a[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:n,y:l[0][g][1]*c});for(var m=1;m<d;++m)n+=l[m-1][g][1]*c,t.setItemLayout(a[m].indices[g],{layerIndex:m,x:l[m][g][0],y0:n,y:l[m][g][1]*c})}}function Lm(t){for(var e=t.length,i=t[0].length,n=[],o=[],a=0,r={},s=0;s<i;++s){for(var l=0,u=0;l<e;++l)u+=t[l][s][1];u>a\&\&(a=u),n.push(u)}for(var h=0;h<i;++h)o[h]=(a-n[h])/2;a=0;for(var c=0;c<i;++c){var d=n[c]+o[c];d>a\&\&(a=d)}return r.y0=o,r.max=a,r}function km(t){var e=0;d(t.children,function(t){km(t);var i=t.value;y(i)\&\&(i=i[0]),e+=i});var i=t.value;y(i)\&\&(i=i[0]),(null==i||isNaN(i))\&\&(i=e),i<0\&\&(i=0),y(t.value)?t.value[0]=i:t.value=i}function Pm(t,e,i){function n(){r.ignore=r.hoverIgnore}function o(){r.ignore=r.normalIgnore}Zw.call(this);var a=new QS({z2:xP});a.seriesIndex=e.seriesIndex;var r=new qS({z2:_P,silent:t.getModel(\"label\").get(\"silent\")});this.add(a),this.add(r),this.updateData(!0,t,\"normal\",e,i),this.on(\"emphasis\",n).on(\"normal\",o).on(\"mouseover\",n).on(\"mouseout\",o)}function Nm(t,e,i){var n=t.getVisual(\"color\"),o=t.getVisual(\"visualMeta\");o\&\&0!==o.length||(n=null);var a=t.getModel(\"itemStyle\").get(\"color\");if(a)return a;if(n)return n;if(0===t.depth)return i.option.color[0];var r=i.option.color.length;return a=i.option.color[Om(t)%r]}function Om(t){for(var e=t;e.depth>1;)e=e.parentNode;return l(t.getAncestors()[0].children,e)}function Em(t,e,i){return i!==yP.NONE\&\&(i===yP.SELF?t===e:i===yP.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}function Rm(t,e){var i=t.children||[];t.children=zm(i,e),i.length\&\&d(t.children,function(t){Rm(t,e)})}function zm(t,e){if(\"function\"==typeof e)return t.sort(e);var i=\"asc\"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})}function Bm(t,e){return e=e||[0,0],f([\"x\",\"y\"],function(i,n){var o=this.getAxis(i),a=e[n],r=t[n]/2;return\"category\"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r))},this)}function Vm(t,e){return e=e||[0,0],f([0,1],function(i){var n=e[i],o=t[i]/2,a=[],r=[];return a[i]=n-o,r[i]=n+o,a[1-i]=r[1-i]=e[1-i],Math.abs(this.dataToPoint(a)[i]-this.dataToPoint(r)[i])},this)}function Gm(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return\"category\"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function Fm(t,e){return f([\"Radius\",\"Angle\"],function(i,n){var o=this[\"get\"+i+\"Axis\"](),a=e[n],r=t[n]/2,s=\"dataTo\"+i,l=\"category\"===o.type?o.getBandWidth():Math.abs(o[s](a-r)-o[s](a+r));return\"Angle\"===i\&\&(l=l*Math.PI/180),l},this)}function Wm(t){var e,i=t.type;if(\"path\"===i){var n=t.shape,o=null!=n.width\&\&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=tv(n);(e=Wn(a,null,o,n.layout||\"center\")).__customPathData=a}else\"image\"===i?(e=new hi({})).__customImagePath=t.style.image:\"text\"===i?(e=new qS({})).__customText=t.style.text:e=new(0,bM[i.charAt(0).toUpperCase()+i.slice(1)]);return e.__customGraphicType=i,e.name=t.name,e}function Hm(t,e,n,o,a,r,s){var l={},u=n.style||{};if(n.shape\&\&(l.shape=i(n.shape)),n.position\&\&(l.position=n.position.slice()),n.scale\&\&(l.scale=n.scale.slice()),n.origin\&\&(l.origin=n.origin.slice()),n.rotation\&\&(l.rotation=n.rotation),\"image\"===t.type\&\&n.style){h=l.style={};d([\"x\",\"y\",\"width\",\"height\"],function(e){Zm(e,h,u,t.style,r)})}if(\"text\"===t.type\&\&n.style){var h=l.style={};d([\"x\",\"y\"],function(e){Zm(e,h,u,t.style,r)}),!u.hasOwnProperty(\"textFill\")\&\&u.fill\&\&(u.textFill=u.fill),!u.hasOwnProperty(\"textStroke\")\&\&u.stroke\&\&(u.textStroke=u.stroke)}if(\"group\"!==t.type\&\&(t.useStyle(u),r)){t.style.opacity=0;var c=u.opacity;null==c\&\&(c=1),So(t,{style:{opacity:c}},o,e)}r?t.attr(l):bo(t,l,o,e),n.hasOwnProperty(\"z2\")\&\&t.attr(\"z2\",n.z2||0),n.hasOwnProperty(\"silent\")\&\&t.attr(\"silent\",n.silent),n.hasOwnProperty(\"invisible\")\&\&t.attr(\"invisible\",n.invisible),n.hasOwnProperty(\"ignore\")\&\&t.attr(\"ignore\",n.ignore),n.hasOwnProperty(\"info\")\&\&t.attr(\"info\",n.info);var f=n.styleEmphasis,p=!1===f;t.__cusHasEmphStl\&\&null==f||!t.__cusHasEmphStl\&\&p||(no(t,f),t.__cusHasEmphStl=!p),s\&\&ho(t,!p)}function Zm(t,e,i,n,o){null==i[t]||o||(e[t]=i[t],i[t]=n[t])}function Um(t,e,i,n){function o(t){null==t\&\&(t=h),v\&\&(c=e.getItemModel(t),d=c.getModel(AP),f=c.getModel(DP),p=e.getItemVisual(t,\"color\"),v=!1)}var s=t.get(\"renderItem\"),l=t.coordinateSystem,u={};l\&\&(u=l.prepareCustoms?l.prepareCustoms():LP[l.type](l));var h,c,d,f,p,g=r({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,i){return null==i\&\&(i=h),e.get(e.getDimension(t||0),i)},style:function(i,n){null==n\&\&(n=h),o(n);var r=c.getModel(IP).getItemStyle();null!=p\&\&(r.fill=p);var s=e.getItemVisual(n,\"opacity\");return null!=s\&\&(r.opacity=s),fo(r,d,null,{autoColor:p,isRectText:!0}),r.text=d.getShallow(\"show\")?A(t.getFormattedLabel(n,\"normal\"),gu(e,n)):null,i\&\&a(r,i),r},styleEmphasis:function(i,n){null==n\&\&(n=h),o(n);var r=c.getModel(TP).getItemStyle();return fo(r,f,null,{isRectText:!0},!0),r.text=f.getShallow(\"show\")?D(t.getFormattedLabel(n,\"emphasis\"),t.getFormattedLabel(n,\"normal\"),gu(e,n)):null,i\&\&a(r,i),r},visual:function(t,i){return null==i\&\&(i=h),e.getItemVisual(i,t)},barLayout:function(t){if(l.getBaseAxis)return Tl(r({axis:l.getBaseAxis()},t),n)},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return _o(t,i)}},u.api||{}),m={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:u.coordSys,dataInsideLength:e.count(),encode:Xm(t.getData())},v=!0;return function(t,i){return h=t,v=!0,s\&\&s(r({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:i?i.type:null},m),g)}}function Xm(t){var e={};return d(t.dimensions,function(i,n){var o=t.getDimensionInfo(i);if(!o.isExtraCoord){var a=o.coordDim;(e[a]=e[a]||[])[o.coordDimIndex]=n}}),e}function jm(t,e,i,n,o,a){return(t=Ym(t,e,i,n,o,a,!0))\&\&a.setItemGraphicEl(e,t),t}function Ym(t,e,i,n,o,a,r){var s=!i,l=(i=i||{}).type,u=i.shape,h=i.style;if(t\&\&(s||null!=l\&\&l!==t.__customGraphicType||\"path\"===l\&\&ev(u)\&\&tv(u)!==t.__customPathData||\"image\"===l\&\&iv(h,\"image\")\&\&h.image!==t.__customImagePath||\"text\"===l\&\&iv(u,\"text\")\&\&h.text!==t.__customText)\&\&(o.remove(t),t=null),!s){var c=!t;return!t\&\&(t=Wm(i)),Hm(t,e,i,n,a,c,r),\"group\"===l\&\&qm(t,e,i,n,a),o.add(t),t}}function qm(t,e,i,n,o){var a=i.children,r=a?a.length:0,s=i.\$mergeChildren,l=\"byName\"===s||i.diffChildrenByName,u=!1===s;if(r||l||u)if(l)Km({oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,animatableModel:n,group:t,data:o});else{u\&\&t.removeAll();for(var h=0;h<r;h++)a[h]\&\&Ym(t.childAt(h),e,a[h],n,t,o)}}function Km(t){new Hs(t.oldChildren,t.newChildren,\$m,\$m,t).add(Jm).update(Jm).remove(Qm).execute()}function \$m(t,e){var i=t\&\&t.name;return null!=i?i:CP+e}function Jm(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null;Ym(null!=e?i.oldChildren[e]:null,i.dataIndex,n,i.animatableModel,i.group,i.data)}function Qm(t){var e=this.context,i=e.oldChildren[t];i\&\&e.group.remove(i)}function tv(t){return t\&\&(t.pathData||t.d)}function ev(t){return t\&\&(t.hasOwnProperty(\"pathData\")||t.hasOwnProperty(\"d\"))}function iv(t,e){return t\&\&t.hasOwnProperty(e)}function nv(t,e,i,n){var o=i.type,a=new(0,bM[o.charAt(0).toUpperCase()+o.slice(1)])(i);e.add(a),n.set(t,a),a.__ecGraphicId=t}function ov(t,e){var i=t\&\&t.parent;i\&\&(\"group\"===t.type\&\&t.traverse(function(t){ov(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function av(t){return t=a({},t),d([\"id\",\"parentId\",\"\$action\",\"hv\",\"bounding\"].concat(HM),function(e){delete t[e]}),t}function rv(t,e){var i;return d(e,function(e){null!=t[e]\&\&\"auto\"!==t[e]\&\&(i=!0)}),i}function sv(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type\&\&i\&\&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i\&\&(e.parentId=i.parentId)}e.parentOption=null}function lv(t,e,i){var o=a({},i),r=t[e],s=i.\$action||\"merge\";\"merge\"===s?r?(n(r,o,!0),ca(r,o,{ignoreSize:!0}),fa(i,r)):t[e]=o:\"replace\"===s?t[e]=o:\"remove\"===s\&\&r\&\&(t[e]=null)}function uv(t,e){t\&\&(t.hv=e.hv=[rv(e,[\"left\",\"right\"]),rv(e,[\"top\",\"bottom\"])],\"group\"===t.type\&\&(null==t.width\&\&(t.width=e.width=0),null==t.height\&\&(t.height=e.height=0)))}function hv(t,e,i){var n=t.eventData;t.silent||t.ignore||n||(n=t.eventData={componentType:\"graphic\",componentIndex:e.componentIndex,name:t.name}),n\&\&(n.info=t.info)}function cv(t,e,i){var n,o={},a=\"toggleSelected\"===t;return i.eachComponent(\"legend\",function(i){a\&\&null!=n?i[n?\"select\":\"unSelect\"](e.name):(i[t](e.name),n=i.isSelected(e.name)),d(i.getData(),function(t){var e=t.get(\"name\");if(\"\\n\"!==e\&\&\"\"!==e){var n=i.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]\&\&n:o[e]=n}})}),{name:e.name,selected:o}}function dv(t,e,i){var n=e.getBoxLayoutParams(),o=e.get(\"padding\"),a={width:i.getWidth(),height:i.getHeight()},r=la(n,a,o);UM(e.get(\"orient\"),t,e.get(\"itemGap\"),r.width,r.height),ua(t,n,a,o)}function fv(t,e){var i=OM(e.get(\"padding\")),n=e.getItemStyle([\"color\",\"opacity\"]);return n.fill=e.get(\"backgroundColor\"),t=new aM({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get(\"borderRadius\")},style:n,silent:!0,z2:-1})}function pv(t,e){e.dispatchAction({type:\"legendToggleSelect\",name:t})}function gv(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o\&\&o.useHoverLayer||i.dispatchAction({type:\"highlight\",seriesName:t,name:e,excludeSeriesId:n})}function mv(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o\&\&o.useHoverLayer||i.dispatchAction({type:\"downplay\",seriesName:t,name:e,excludeSeriesId:n})}function vv(t,e,i){var n=[1,1];n[t.getOrient().index]=0,ca(e,i,{type:\"box\",ignoreSize:n})}function yv(t){var e=\"left \"+t+\"s cubic-bezier(0.23, 1, 0.32, 1),top \"+t+\"s cubic-bezier(0.23, 1, 0.32, 1)\";return f(ZP,function(t){return t+\"transition:\"+e}).join(\";\")}function xv(t){var e=[],i=t.get(\"fontSize\"),n=t.getTextColor();return n\&\&e.push(\"color:\"+n),e.push(\"font:\"+t.getFont()),i\&\&e.push(\"line-height:\"+Math.round(3*i/2)+\"px\"),WP([\"decoration\",\"align\"],function(i){var n=t.get(i);n\&\&e.push(\"text-\"+i+\":\"+n)}),e.join(\";\")}function _v(t){var e=[],i=t.get(\"transitionDuration\"),n=t.get(\"backgroundColor\"),o=t.getModel(\"textStyle\"),a=t.get(\"padding\");return i\&\&e.push(yv(i)),n\&\&(z_.canvasSupported?e.push(\"background-Color:\"+n):(e.push(\"background-Color:#\"+Ft(n)),e.push(\"filter:alpha(opacity=70)\"))),WP([\"width\",\"color\",\"radius\"],function(i){var n=\"border-\"+i,o=HP(n),a=t.get(o);null!=a\&\&e.push(n+\":\"+a+(\"color\"===i?\"\":\"px\"))}),e.push(xv(o)),null!=a\&\&e.push(\"padding:\"+OM(a).join(\"px \")+\"px\"),e.join(\";\")+\";\"}function wv(t,e){if(z_.wxa)return null;var i=document.createElement(\"div\"),n=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o._enterable\&\&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!o._enterable){var i=n.handler;lt(t,e,!0),i.dispatch(\"mousemove\",e)}},i.onmouseleave=function(){o._enterable\&\&o._show\&\&o.hideLater(o._hideDelay),o._inContent=!1}}function bv(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}function Sv(t){for(var e=t.pop();t.length;){var i=t.pop();i\&\&(Lo.isInstance(i)\&\&(i=i.get(\"tooltip\",!0)),\"string\"==typeof i\&\&(i={formatter:i}),e=new Lo(i,e,e.ecModel))}return e}function Mv(t,e){return t.dispatchAction||m(e.dispatchAction,e)}function Iv(t,e,i,n,o,a,r){var s=i.getOuterSize(),l=s.width,u=s.height;return null!=a\&\&(t+l+a>n?t-=l+a:t+=a),null!=r\&\&(e+u+r>o?e-=u+r:e+=r),[t,e]}function Tv(t,e,i,n,o){var a=i.getOuterSize(),r=a.width,s=a.height;return t=Math.min(t+r,n)-r,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Av(t,e,i){var n=i[0],o=i[1],a=0,r=0,s=e.width,l=e.height;switch(t){case\"inside\":a=e.x+s/2-n/2,r=e.y+l/2-o/2;break;case\"top\":a=e.x+s/2-n/2,r=e.y-o-5;break;case\"bottom\":a=e.x+s/2-n/2,r=e.y+l+5;break;case\"left\":a=e.x-n-5,r=e.y+l/2-o/2;break;case\"right\":a=e.x+s+5,r=e.y+l/2-o/2}return[a,r]}function Dv(t){return\"center\"===t||\"middle\"===t}function Cv(t){return t.get(\"stack\")||\"__ec_stack_\"+t.seriesIndex}function Lv(t){return t.dim}function kv(t,e){var i={};d(t,function(t,e){var n=t.getData(),o=t.coordinateSystem.getBaseAxis(),a=o.getExtent(),r=\"category\"===o.type?o.getBandWidth():Math.abs(a[1]-a[0])/n.count(),s=i[Lv(o)]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},l=s.stacks;i[Lv(o)]=s;var u=Cv(t);l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=Ro(t.get(\"barWidth\"),r),c=Ro(t.get(\"barMaxWidth\"),r),d=t.get(\"barGap\"),f=t.get(\"barCategoryGap\");h\&\&!l[u].width\&\&(h=Math.min(s.remainedWidth,h),l[u].width=h,s.remainedWidth-=h),c\&\&(l[u].maxWidth=c),null!=d\&\&(s.gap=d),null!=f\&\&(s.categoryGap=f)});var n={};return d(i,function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,a=Ro(t.categoryGap,o),r=Ro(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-a)/(l+(l-1)*r);u=Math.max(u,0),d(i,function(t,e){var i=t.maxWidth;i\&\&i<u\&\&(i=Math.min(i,s),t.width\&\&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),u=(s-a)/(l+(l-1)*r),u=Math.max(u,0);var h,c=0;d(i,function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+r)}),h\&\&(c-=h.width*r);var f=-c/2;d(i,function(t,i){n[e][i]=n[e][i]||{offset:f,width:t.width},f+=t.width*(1+r)})}),n}function Pv(t,e){HA.call(this,\"radius\",t,e),this.type=\"category\"}function Nv(t,e){e=e||[0,360],HA.call(this,\"angle\",t,e),this.type=\"category\"}function Ov(t,e){return e.type||(e.data?\"category\":\"value\")}function Ev(t,e,i){var n=e.get(\"center\"),o=i.getWidth(),a=i.getHeight();t.cx=Ro(n[0],o),t.cy=Ro(n[1],a);var r=t.getRadiusAxis(),s=Math.min(o,a)/2,l=Ro(e.get(\"radius\"),s);r.inverse?r.setExtent(l,0):r.setExtent(0,l)}function Rv(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();d(e.mapDimension(\"radius\",!0),function(t){o.scale.unionExtentFromData(e,cl(e,t))}),d(e.mapDimension(\"angle\",!0),function(t){n.scale.unionExtentFromData(e,cl(e,t))})}}),Bl(n.scale,n.model),Bl(o.scale,o.model),\"category\"===n.type\&\&!n.onBand){var a=n.getExtent(),r=360/n.scale.count();n.inverse?a[1]+=r:a[1]-=r,n.setExtent(a[0],a[1])}}function zv(t,e){if(t.type=e.get(\"type\"),t.scale=Vl(e),t.onBand=e.get(\"boundaryGap\")\&\&\"category\"===t.type,t.inverse=e.get(\"inverse\"),\"angleAxis\"===e.mainType){t.inverse^=e.get(\"clockwise\");var i=e.get(\"startAngle\");t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}function Bv(t,e,i){e[1]>e[0]\&\&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function Vv(t){return t.getRadiusAxis().inverse?0:1}function Gv(t){var e=t[0],i=t[t.length-1];e\&\&i\&\&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4\&\&t.pop()}function Fv(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel(\"axisLabel\").get(\"rotate\"),z2:1}}function Wv(t,e,i,n,o){var a=e.axis,r=a.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=n.getRadiusAxis().getExtent();if(\"radius\"===a.dim){var d=mt();wt(d,d,s),_t(d,d,[n.cx,n.cy]),l=Io([r,-o],d);var f=e.getModel(\"axisLabel\").get(\"rotate\")||0,p=ID.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,h=p.textVerticalAlign}else{var g=c[1];l=n.coordToPoint([g+o,r]);var m=n.cx,v=n.cy;u=Math.abs(l[0]-m)/g<.3?\"center\":l[0]>m?\"left\":\"right\",h=Math.abs(l[1]-v)/g<.3?\"middle\":l[1]>v?\"top\":\"bottom\"}return{position:l,align:u,verticalAlign:h}}function Hv(t,e){e.update=\"updateView\",Ps(e,function(e,i){var n={};return i.eachComponent({mainType:\"geo\",query:e},function(i){i[t](e.name),d(i.coordinateSystem.regions,function(t){n[t.name]=i.isSelected(t.name)||!1})}),{selected:n,name:e.name}})}function Zv(t){var e={};d(t,function(t){e[t]=1}),t.length=0,d(e,function(e,i){t.push(i)})}function Uv(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Xv(t,e,n){function o(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}var a={};return rN(e,function(e){var r=a[e]=o();rN(t[e],function(t,o){if(jC.isValidType(o)){var a={type:o,visual:t};n\&\&n(a,e),r[o]=new jC(a),\"opacity\"===o\&\&((a=i(a)).type=\"colorAlpha\",r.__hidden.__alphaForOpacity=new jC(a))}})}),a}function jv(t,e,n){var o;d(n,function(t){e.hasOwnProperty(t)\&\&Uv(e[t])\&\&(o=!0)}),o\&\&d(n,function(n){e.hasOwnProperty(n)\&\&Uv(e[n])?t[n]=i(e[n]):delete t[n]})}function Yv(t,e,i,n,o,a){function r(t){return i.getItemVisual(h,t)}function s(t,e){i.setItemVisual(h,t,e)}function l(t,l){h=null==a?t:l;var c=i.getRawDataItem(h);if(!c||!1!==c.visualMap)for(var d=n.call(o,t),f=e[d],p=u[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]\&\&f[v].applyVisual(t,r,s)}}var u={};d(t,function(t){var i=jC.prepareVisualTypes(e[t]);u[t]=i});var h;null==a?i.each(l):i.each([a],l)}function qv(t,e,i,n){var o={};return d(t,function(t){var i=jC.prepareVisualTypes(e[t]);o[t]=i}),{progress:function(t,a){null!=n\&\&(n=a.getDimension(n));for(var r;null!=(r=t.next());){var s=a.getRawDataItem(r);if(s\&\&!1===s.visualMap)return;for(var l=null!=n?a.get(n,r,!0):r,u=i(l),h=e[u],c=o[u],d=0,f=c.length;d<f;d++){var p=c[d];h[p]\&\&h[p].applyVisual(l,function(t){return a.getItemVisual(r,t)},function(t,e){a.setItemVisual(r,t,e)})}}}}}function Kv(t){var e=[\"x\",\"y\"],i=[\"width\",\"height\"];return{point:function(e,i,n){if(e){var o=n.range;return \$v(e[t],o)}},rect:function(n,o,a){if(n){var r=a.range,s=[n[e[t]],n[e[t]]+n[i[t]]];return s[1]<s[0]\&\&s.reverse(),\$v(s[0],r)||\$v(s[1],r)||\$v(r[0],s)||\$v(r[1],s)}}}}function \$v(t,e){return e[0]<=t\&\&t<=e[1]}function Jv(t,e,i,n,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(Qv(t,e,i,n,s[0],s[1],r[0],r[1]))return!0;r=s}}function Qv(t,e,i,n,o,a,r,s){var l=ey(i-t,o-r,n-e,a-s);if(ty(l))return!1;var u=ey(o-t,o-r,a-e,a-s)/l;if(u<0||u>1)return!1;var h=ey(i-t,o-t,n-e,a-e)/l;return!(h<0||h>1)}function ty(t){return t<=1e-6\&\&t>=-1e-6}function ey(t,e,i,n){return t*n-e*i}function iy(t,e,i){var n=this._targetInfoList=[],o={},a=oy(e,t);lN(pN,function(t,e){(!i||!i.include||uN(i.include,e)>=0)\&\&t(a,n,o)})}function ny(t){return t[0]>t[1]\&\&t.reverse(),t}function oy(t,e){return Vi(t,e,{includeMainTypes:dN})}function ay(t,e,i,n){var o=i.getAxis([\"x\",\"y\"][t]),a=ny(f([0,1],function(t){return e?o.coordToData(o.toLocalCoord(n[t])):o.toGlobalCoord(o.dataToCoord(n[t]))})),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}function ry(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function sy(t,e){var i=ly(t),n=ly(e),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])\&\&(o[0]=1),isNaN(o[1])\&\&(o[1]=1),o}function ly(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function uy(t,e,i,n,o){if(o){var a=t.getZr();a[wN]||(a[_N]||(a[_N]=hy),Lr(a,_N,i,e)(t,n))}}function hy(t,e){if(!t.isDisposed()){var i=t.getZr();i[wN]=!0,t.dispatchAction({type:\"brushSelect\",batch:e}),i[wN]=!1}}function cy(t,e,i,n){for(var o=0,a=e.length;o<a;o++){var r=e[o];if(t[r.brushType](n,i,r.selectors,r))return!0}}function dy(t){var e=t.brushSelector;if(_(e)){var i=[];return d(sN,function(t,n){i[n]=function(i,n,o,a){var r=n.getItemLayout(i);return t[e](r,o,a)}}),i}if(x(e)){var n={};return d(sN,function(t,i){n[i]=e}),n}return e}function fy(t,e){var i=t.option.seriesIndex;return null!=i\&\&\"all\"!==i\&\&(y(i)?l(i,e)<0:e!==i)}function py(t){var e=t.selectors={};return d(sN[t.brushType],function(i,n){e[n]=function(n){return i(n,e,t)}}),t}function gy(t){return new ue(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function my(t,e){return n({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Lo(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function vy(t,e,i,n){(!n||n.\$from!==t.id)\&\&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function yy(t,e){IN[t]=e}function xy(t){return IN[t]}function _y(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}function wy(t,e,i){this._model=t}function by(t,e,i,n){var o=i.calendarModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem:null;return r===this?r[t](n):null}function Sy(t,e){var i=t.cellSize;y(i)?1===i.length\&\&(i[1]=i[0]):i=t.cellSize=[i,i];var n=f([0,1],function(t){return ha(e,t)\&\&(i[t]=\"auto\"),null!=i[t]\&\&\"auto\"!==i[t]});ca(t,e,{type:\"box\",ignoreSize:n})}function My(t){return l(kN,t)>=0}function Iy(t,e,i){function n(t,e){return l(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]\&\&(o=!0)})}),o}function a(t,n){n.nodes.push(t),e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){var r={nodes:[],records:{}};if(e(function(t){r.records[t.name]={}}),!i)return r;a(i,r);var s;do{s=!1,t(function(t){!n(t,r)\&\&o(t,r)\&\&(a(t,r),s=!0)})}while(s);return r}}function Ty(t,e,i){var n=[1/0,-1/0];return NN(i,function(t){var i=t.getData();i\&\&NN(i.mapDimension(e,!0),function(t){var e=i.getApproximateExtent(t);e[0]<n[0]\&\&(n[0]=e[0]),e[1]>n[1]\&\&(n[1]=e[1])})}),n[1]<n[0]\&\&(n=[NaN,NaN]),Ay(t,n),n}function Ay(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o=\"category\"===i.get(\"type\"),a=o\&\&i.getCategories().length;null!=n\&\&\"dataMin\"!==n\&\&\"function\"!=typeof n?e[0]=n:o\&\&(e[0]=a>0?0:NaN);var r=i.getMax(!0);return null!=r\&\&\"dataMax\"!==r\&\&\"function\"!=typeof r?e[1]=r:o\&\&(e[1]=a>0?a-1:NaN),i.get(\"scale\",!0)||(e[0]>0\&\&(e[0]=0),e[1]<0\&\&(e[1]=0)),e}function Dy(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var a=Fo(o,[0,500]);a=Math.min(a,20);var r=e||0===n[0]\&\&100===n[1];i.setRange(r?null:+o[0].toFixed(a),r?null:+o[1].toFixed(a))}}function Cy(t){var e=t._minMaxSpan={},i=t._dataZoomModel;NN([\"min\",\"max\"],function(n){e[n+\"Span\"]=i.get(n+\"Span\");var o=i.get(n+\"ValueSpan\");if(null!=o\&\&(e[n+\"ValueSpan\"]=o,null!=(o=t.getAxisModel().axis.scale.parse(o)))){var a=t._dataExtent;e[n+\"Span\"]=Eo(a[0]+o,a,[0,100],!0)}})}function Ly(t){var e={};return RN([\"start\",\"end\",\"startValue\",\"endValue\",\"throttle\"],function(i){t.hasOwnProperty(i)\&\&(e[i]=t[i])}),e}function ky(t,e){var i=t._rangePropMode,n=t.get(\"rangeMode\");RN([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t,o){var a=null!=e[t[0]],r=null!=e[t[1]];a\&\&!r?i[o]=\"percent\":!a\&\&r?i[o]=\"value\":n?i[o]=n[o]:a\&\&(i[o]=\"percent\")})}function Py(t){return{x:\"y\",y:\"x\",radius:\"angle\",angle:\"radius\"}[t]}function Ny(t){return\"vertical\"===t?\"ns-resize\":\"ew-resize\"}function Oy(t,e){var i=zy(t),n=e.dataZoomId,o=e.coordId;d(i,function(t,i){var a=t.dataZoomInfos;a[n]\&\&l(e.allCoordIds,o)<0\&\&(delete a[n],t.count--)}),Vy(i);var a=i[o];a||((a=i[o]={coordId:o,dataZoomInfos:{},count:0}).controller=By(t,a),a.dispatchAction=v(Gy,t)),!a.dataZoomInfos[n]\&\&a.count++,a.dataZoomInfos[n]=e;var r=Fy(a.dataZoomInfos);a.controller.enable(r.controlType,r.opt),a.controller.setPointerChecker(e.containsPoint),Lr(a,\"dispatchAction\",e.dataZoomModel.get(\"throttle\",!0),\"fixRate\")}function Ey(t,e){var i=zy(t);d(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]\&\&(delete i[e],t.count--)}),Vy(i)}function Ry(t){return t.type+\"\\0_\"+t.id}function zy(t){var e=t.getZr();return e[qN]||(e[qN]={})}function By(t,e){var i=new ac(t.getZr());return d([\"pan\",\"zoom\",\"scrollMove\"],function(t){i.on(t,function(i){var n=[];d(e.dataZoomInfos,function(o){if(i.isAvailableBehavior(o.dataZoomModel.option)){var a=(o.getRange||{})[t],r=a\&\&a(e.controller,i);!o.dataZoomModel.get(\"disabled\",!0)\&\&r\&\&n.push({dataZoomId:o.dataZoomId,start:r[0],end:r[1]})}}),n.length\&\&e.dispatchAction(n)})}),i}function Vy(t){d(t,function(e,i){e.count||(e.controller.dispose(),delete t[i])})}function Gy(t,e){t.dispatchAction({type:\"dataZoom\",batch:e})}function Fy(t){var e,i={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return d(t,function(t){var o=t.dataZoomModel,a=!o.get(\"disabled\",!0)\&\&(!o.get(\"zoomLock\",!0)||\"move\");i[\"type_\"+a]>i[\"type_\"+e]\&\&(e=a),n\&=o.get(\"preventDefaultMouseMove\",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function Wy(t){return function(e,i,n,o){var a=this._range,r=a.slice(),s=e.axisModels[0];if(s){var l=t(r,s,e,i,n,o);return EL(l,r,[0,100],\"all\"),this._range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}function Hy(t,e){return t\&\&t.hasOwnProperty\&\&t.hasOwnProperty(e)}function Zy(t,e,i,n){for(var o=e.targetVisuals[n],a=jC.prepareVisualTypes(o),r={color:t.getData().getVisual(\"color\")},s=0,l=a.length;s<l;s++){var u=a[s],h=o[\"opacity\"===u?\"__alphaForOpacity\":u];h\&\&h.applyVisual(i,function(t){return r[t]},function(t,e){r[t]=e})}return r.color}function Uy(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],a=[],r=0;r<=200\&\&o<i[1];r++)a.push(o),o+=n;return a.push(i[1]),a}function Xy(t,e,i){var n=t.option,o=n.align;if(null!=o\&\&\"auto\"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},r=\"horizontal\"===n.orient?1:0,s=[[\"left\",\"right\",\"width\"],[\"top\",\"bottom\",\"height\"]],l=s[r],u=[0,null,10],h={},c=0;c<3;c++)h[s[1-r][c]]=u[c],h[l[c]]=2===c?i[0]:n[l[c]];var d=[[\"x\",\"width\",3],[\"y\",\"height\",0]][r],f=la(h,a,n.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}function jy(t){return d(t||[],function(e){null!=t.dataIndex\&\&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}function Yy(t,e,i,n){return new nM({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){lw(t.event)},ondragend:n})}function qy(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function Ky(t,e,i,n){return t?[[0,-yO(e,xO(i,0))],[wO,0],[0,yO(e,xO(n-i,0))]]:[[0,0],[5,-5],[5,5]]}function \$y(t,e,i){var n=_O/2,o=t.get(\"hoverLinkDataSize\");return o\&\&(n=mO(o,e,i,!0)/2),n}function Jy(t){var e=t.get(\"hoverLinkOnHandle\");return!!(null==e?t.get(\"realtime\"):e)}function Qy(t){return\"vertical\"===t?\"ns-resize\":\"ew-resize\"}function tx(t,e){var i=t.inverse;(\"vertical\"===t.orient?!i:i)\&\&e.reverse()}function ex(t){Ci(t,\"label\",[\"show\"])}function ix(t){return!(isNaN(parseFloat(t.x))\&\&isNaN(parseFloat(t.y)))}function nx(t){return!isNaN(parseFloat(t.x))\&\&!isNaN(parseFloat(t.y))}function ox(t,e,i,n,o,a){var r=[],s=hl(e,n)?e.getCalculationInfo(\"stackResultDimension\"):n,l=hx(e,s,t),u=e.indicesOfNearest(s,l)[0];r[o]=e.get(i,u),r[a]=e.get(n,u);var h=Vo(e.get(n,u));return(h=Math.min(h,20))>=0\&\&(r[a]=+r[a].toFixed(h)),r}function ax(t,e){var n=t.getData(),o=t.coordinateSystem;if(e\&\&!nx(e)\&\&!y(e.coord)\&\&o){var a=o.dimensions,r=rx(e,n,o,t);if((e=i(e)).type\&\&LO[e.type]\&\&r.baseAxis\&\&r.valueAxis){var s=DO(a,r.baseAxis.dim),l=DO(a,r.valueAxis.dim);e.coord=LO[e.type](n,r.baseDataDim,r.valueDataDim,s,l),e.value=e.coord[l]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h<2;h++)LO[u[h]]\&\&(u[h]=hx(n,n.mapDimension(a[h]),u[h]));e.coord=u}}return e}function rx(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(sx(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function sx(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var o=0;o<n.length;o++){var a=i.getDimensionInfo(n[o]);if(a.name===e)return a.coordDim}}function lx(t,e){return!(t\&\&t.containData\&\&e.coord\&\&!ix(e))||t.containData(e.coord)}function ux(t,e,i,n){return n<2?t.coord\&\&t.coord[n]:t.value}function hx(t,e,i){if(\"average\"===i){var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++)}),n/o}return\"median\"===i?t.getMedian(e):t.getDataExtent(e,!0)[\"max\"===i?1:0]}function cx(t,e,i){var n=e.coordinateSystem;t.each(function(o){var a,r=t.getItemModel(o),s=Ro(r.get(\"x\"),i.getWidth()),l=Ro(r.get(\"y\"),i.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var u=t.get(n.dimensions[0],o),h=t.get(n.dimensions[1],o);a=n.dataToPoint([u,h])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),t.setItemLayout(o,a)})}function dx(t,e,i){var n;n=t?f(t\&\&t.dimensions,function(t){return r({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:\"value\",type:\"float\"}];var o=new eA(n,i),a=f(i.get(\"data\"),v(ax,e));return t\&\&(a=g(a,v(lx,t))),o.initData(a,null,t?ux:function(t){return t.value}),o}function fx(t){return!isNaN(t)\&\&!isFinite(t)}function px(t,e,i,n){var o=1-t,a=n.dimensions[t];return fx(e[o])\&\&fx(i[o])\&\&e[t]===i[t]\&\&n.getAxis(a).containData(e[t])}function gx(t,e){if(\"cartesian2d\"===t.type){var i=e[0].coord,n=e[1].coord;if(i\&\&n\&\&(px(1,i,n,t)||px(0,i,n,t)))return!0}return lx(t,e[0])\&\&lx(t,e[1])}function mx(t,e,i,n,o){var a,r=n.coordinateSystem,s=t.getItemModel(e),l=Ro(s.get(\"x\"),o.getWidth()),u=Ro(s.get(\"y\"),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=r.dimensions,c=t.get(h[0],e),d=t.get(h[1],e);a=r.dataToPoint([c,d])}if(\"cartesian2d\"===r.type){var f=r.getAxis(\"x\"),p=r.getAxis(\"y\"),h=r.dimensions;fx(t.get(h[0],e))?a[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):fx(t.get(h[1],e))\&\&(a[1]=p.toGlobalCoord(p.getExtent()[i?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];t.setItemLayout(e,a)}function vx(t,e,i){var n;n=t?f(t\&\&t.dimensions,function(t){return r({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:\"value\",type:\"float\"}];var o=new eA(n,i),a=new eA(n,i),s=new eA([],i),l=f(i.get(\"data\"),v(PO,e,t,i));t\&\&(l=g(l,v(gx,t)));var u=t?ux:function(t){return t.value};return o.initData(f(l,function(t){return t[0]}),null,u),a.initData(f(l,function(t){return t[1]}),null,u),s.initData(f(l,function(t){return t[2]})),s.hasItemOption=!0,{from:o,to:a,line:s}}function yx(t){return!isNaN(t)\&\&!isFinite(t)}function xx(t,e,i,n){var o=1-t;return yx(e[o])\&\&yx(i[o])}function _x(t,e){var i=e.coord[0],n=e.coord[1];return!(\"cartesian2d\"!==t.type||!i||!n||!xx(1,i,n,t)\&\&!xx(0,i,n,t))||(lx(t,{coord:i,x:e.x0,y:e.y0})||lx(t,{coord:n,x:e.x1,y:e.y1}))}function bx(t,e,i,n,o){var a,r=n.coordinateSystem,s=t.getItemModel(e),l=Ro(s.get(i[0]),o.getWidth()),u=Ro(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(i,e));else{var h=[f=t.get(i[0],e),p=t.get(i[1],e)];r.clampData\&\&r.clampData(h,h),a=r.dataToPoint(h,!0)}if(\"cartesian2d\"===r.type){var c=r.getAxis(\"x\"),d=r.getAxis(\"y\"),f=t.get(i[0],e),p=t.get(i[1],e);yx(f)?a[0]=c.toGlobalCoord(c.getExtent()[\"x0\"===i[0]?0:1]):yx(p)\&\&(a[1]=d.toGlobalCoord(d.getExtent()[\"y0\"===i[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];return a}function Sx(t,e,i){var n,o,a=[\"x0\",\"y0\",\"x1\",\"y1\"];t?(n=f(t\&\&t.dimensions,function(t){var i=e.getData();return r({name:t},i.getDimensionInfo(i.mapDimension(t))||{})}),o=new eA(f(a,function(t,e){return{name:t,type:n[e%2].type}}),i)):o=new eA(n=[{name:\"value\",type:\"float\"}],i);var s=f(i.get(\"data\"),v(NO,e,t,i));t\&\&(s=g(s,v(_x,t)));var l=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return o.initData(s,null,l),o.hasItemOption=!0,o}function Mx(t){var e=t.type,i={number:\"value\",time:\"time\"};if(i[e]\&\&(t.axisType=i[e],delete t.type),Ix(t),Tx(t,\"controlPosition\")){var n=t.controlStyle||(t.controlStyle={});Tx(n,\"position\")||(n.position=t.controlPosition),\"none\"!==n.position||Tx(n,\"show\")||(n.show=!1,delete n.position),delete t.controlPosition}d(t.data||[],function(t){w(t)\&\&!y(t)\&\&(!Tx(t,\"value\")\&\&Tx(t,\"name\")\&\&(t.value=t.name),Ix(t))})}function Ix(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),a={normal:1,emphasis:1};d(n,function(t,e){a[e]||Tx(o,e)||(o[e]=t)}),i.label\&\&!Tx(n,\"emphasis\")\&\&(n.emphasis=i.label,delete i.label)}function Tx(t,e){return t.hasOwnProperty(e)}function Ax(t,e){return la(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get(\"padding\"))}function Dx(t,e,n,o){return Wn(t.get(e).replace(/^path:\\/\\//,\"\"),i(o||{}),new ue(n[0],n[1],n[2],n[3]),\"center\")}function Cx(t,e,i,o,a,r){var s=e.get(\"color\");a?(a.setColor(s),i.add(a),r\&\&r.onUpdate(a)):((a=Xl(t.get(\"symbol\"),-1,-1,2,2,s)).setStyle(\"strokeNoScale\",!0),i.add(a),r\&\&r.onCreate(a));var l=e.getItemStyle([\"color\",\"symbol\",\"symbolSize\"]);a.setStyle(l),o=n({rectHover:!0,z2:100},o,!0);var u=t.get(\"symbolSize\");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,o.scale=u;var h=t.get(\"symbolOffset\");if(h){var c=o.position=o.position||[0,0];c[0]+=Ro(h[0],u[0]),c[1]+=Ro(h[1],u[1])}var d=t.get(\"symbolRotate\");return o.rotation=(d||0)*Math.PI/180||0,a.attr(o),a.updateTransform(),a}function Lx(t,e,i,n,o){if(!t.dragging){var a=n.getModel(\"checkpointStyle\"),r=i.dataToCoord(n.getData().get([\"value\"],e));o||!a.get(\"animation\",!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},a.get(\"animationDuration\",!0),a.get(\"animationEasing\",!0)))}}function kx(t){return 0===t.indexOf(\"my\")}function Px(t){this.model=t}function Nx(t){this.model=t}function Ox(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||\"cartesian2d\"!==o.type\&\&\"polar\"!==o.type)i.push(t);else{var a=o.getBaseAxis();if(\"category\"===a.type){var r=a.dim+\"_\"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},n.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function Ex(t){var e=[];return d(t,function(t,i){var n=t.categoryAxis,o=t.valueAxis.dim,a=[\" \"].concat(f(t.series,function(t){return t.name})),r=[n.model.getCategories()];d(t.series,function(t){r.push(t.getRawData().mapArray(o,function(t){return t}))});for(var s=[a.join(qO)],l=0;l<r[0].length;l++){for(var u=[],h=0;h<r.length;h++)u.push(r[h][l]);s.push(u.join(qO))}e.push(s.join(\"\\n\"))}),e.join(\"\\n\\n\"+YO+\"\\n\\n\")}function Rx(t){return f(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],a=e.getName(o),r=0;r<t-1;r++)n[r]=arguments[r];i.push((a?a+qO:\"\")+n.join(qO))}),i.join(\"\\n\")}).join(\"\\n\\n\"+YO+\"\\n\\n\")}function zx(t){var e=Ox(t);return{value:g([Ex(e.seriesGroupByCategoryAxis),Rx(e.other)],function(t){return t.replace(/[\\n\\t\\s]/g,\"\")}).join(\"\\n\\n\"+YO+\"\\n\\n\"),meta:e.meta}}function Bx(t){return t.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*\$/,\"\")}function Vx(t){if(t.slice(0,t.indexOf(\"\\n\")).indexOf(qO)>=0)return!0}function Gx(t){for(var e=t.split(/\\n+/g),i=[],n=f(Bx(e.shift()).split(KO),function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=Bx(e[o]).split(KO);i.push(a.shift());for(var r=0;r<a.length;r++)n[r]\&\&(n[r].data[o]=a[r])}return{series:n,categories:i}}function Fx(t){for(var e=t.split(/\\n+/g),i=Bx(e.shift()),n=[],o=0;o<e.length;o++){var a,r=Bx(e[o]).split(KO),s=\"\",l=!1;isNaN(r[0])?(l=!0,s=r[0],r=r.slice(1),n[o]={name:s,value:[]},a=n[o].value):a=n[o]=[];for(var u=0;u<r.length;u++)a.push(+r[u]);1===a.length\&\&(l?n[o].value=a[0]:n[o]=a[0])}return{name:i,data:n}}function Wx(t,e){var i={series:[]};return d(t.split(new RegExp(\"\\n*\"+YO+\"\\n*\",\"g\")),function(t,n){if(Vx(t)){var o=Gx(t),a=e[n],r=a.axisDim+\"Axis\";a\&\&(i[r]=i[r]||[],i[r][a.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else{o=Fx(t);i.series.push(o)}}),i}function Hx(t){this._dom=null,this.model=t}function Zx(t,e){return f(t,function(t,i){var n=e\&\&e[i];return w(n)\&\&!y(n)?(w(t)\&\&!y(t)\&\&(t=t.value),r({value:t},n)):t})}function Ux(t,e){var i=qx(t);\$O(e,function(e,n){for(var o=i.length-1;o>=0\&\&!i[o][n];o--);if(o<0){var a=t.queryComponents({mainType:\"dataZoom\",subType:\"select\",id:n})[0];if(a){var r=a.getPercentRange();i[0][n]={dataZoomId:n,start:r[0],end:r[1]}}}}),i.push(e)}function Xx(t){var e=qx(t),i=e[e.length-1];e.length>1\&\&e.pop();var n={};return \$O(i,function(t,i){for(var o=e.length-1;o>=0;o--)if(t=e[o][i]){n[i]=t;break}}),n}function jx(t){t[JO]=null}function Yx(t){return qx(t).length}function qx(t){var e=t[JO];return e||(e=t[JO]=[{}]),e}function Kx(t,e,i){(this._brushController=new Cf(i.getZr())).on(\"brush\",m(this._onBrush,this)).mount(),this._isZoomActive}function \$x(t){var e={};return d([\"xAxisIndex\",\"yAxisIndex\"],function(i){e[i]=t[i],null==e[i]\&\&(e[i]=\"all\"),(!1===e[i]||\"none\"===e[i])\&\&(e[i]=[])}),e}function Jx(t,e){t.setIconStatus(\"back\",Yx(e)>1?\"emphasis\":\"normal\")}function Qx(t,e,i,n,o){var a=i._isZoomActive;n\&\&\"takeGlobalCursor\"===n.type\&\&(a=\"dataZoomSelect\"===n.key\&\&n.dataZoomSelectActive),i._isZoomActive=a,t.setIconStatus(\"zoom\",a?\"emphasis\":\"normal\");var r=new iy(\$x(t.option),e,{include:[\"grid\"]});i._brushController.setPanels(r.makePanelOpts(o,function(t){return t.xAxisDeclared\&\&!t.yAxisDeclared?\"lineX\":!t.xAxisDeclared\&\&t.yAxisDeclared?\"lineY\":\"rect\"})).enableBrush(!!a\&\&{brushType:\"auto\",brushStyle:{lineWidth:0,fill:\"rgba(0,0,0,0.2)\"}})}function t_(t){this.model=t}function e_(t){return aE(t)}function i_(){if(!lE\&\&uE){lE=!0;var t=uE.styleSheets;t.length<31?uE.createStyleSheet().addRule(\".zrvml\",\"behavior:url(#default#VML)\"):t[0].addRule(\".zrvml\",\"behavior:url(#default#VML)\")}}function n_(t){return parseInt(t,10)}function o_(t,e){i_(),this.root=t,this.storage=e;var i=document.createElement(\"div\"),n=document.createElement(\"div\");i.style.cssText=\"display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;\",n.style.cssText=\"position:absolute;left:0;top:0;\",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t\&\&t.onRemove\&\&t.onRemove(n)},e.addToStorage=function(t){t.onAdd\&\&t.onAdd(n),a.call(e,t)},this._firstPaint=!0}function a_(t){return function(){Bw(\'In IE8.0 VML mode painter not support method \"\'+t+\'\"\')}}function r_(t){return document.createElementNS(HE,t)}function s_(t){return jE(1e4*t)/1e4}function l_(t){return t<QE\&\&t>-QE}function u_(t,e){var i=e?t.textFill:t.fill;return null!=i\&\&i!==XE}function h_(t,e){var i=e?t.textStroke:t.stroke;return null!=i\&\&i!==XE}function c_(t,e){e\&\&d_(t,\"transform\",\"matrix(\"+UE.call(e,\",\")+\")\")}function d_(t,e,i){(!i||\"linear\"!==i.type\&\&\"radial\"!==i.type)\&\&(\"string\"==typeof i\&\&i.indexOf(\"NaN\")>-1\&\&console.log(i),t.setAttribute(e,i))}function f_(t,e,i){t.setAttributeNS(\"http://www.w3.org/1999/xlink\",e,i)}function p_(t,e,i,n){if(u_(e,i)){var o=i?e.textFill:e.fill;o=\"transparent\"===o?XE:o,\"none\"!==t.getAttribute(\"clip-path\")\&\&o===XE\&\&(o=\"rgba(0, 0, 0, 0.002)\"),d_(t,\"fill\",o),d_(t,\"fill-opacity\",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else d_(t,\"fill\",XE);if(h_(e,i)){var a=i?e.textStroke:e.stroke;d_(t,\"stroke\",a=\"transparent\"===a?XE:a),d_(t,\"stroke-width\",(i?e.textStrokeWidth:e.lineWidth)/(!i\&\&e.strokeNoScale?n.getLineScale():1)),d_(t,\"paint-order\",i?\"stroke\":\"fill\"),d_(t,\"stroke-opacity\",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(d_(t,\"stroke-dasharray\",e.lineDash.join(\",\")),d_(t,\"stroke-dashoffset\",jE(e.lineDashOffset||0))):d_(t,\"stroke-dasharray\",\"\"),e.lineCap\&\&d_(t,\"stroke-linecap\",e.lineCap),e.lineJoin\&\&d_(t,\"stroke-linejoin\",e.lineJoin),e.miterLimit\&\&d_(t,\"stroke-miterlimit\",e.miterLimit)}else d_(t,\"stroke\",XE)}function g_(t){for(var e=[],i=t.data,n=t.len(),o=0;o<n;){var a=\"\",r=0;switch(i[o++]){case ZE.M:a=\"M\",r=2;break;case ZE.L:a=\"L\",r=2;break;case ZE.Q:a=\"Q\",r=4;break;case ZE.C:a=\"C\",r=6;break;case ZE.A:var s=i[o++],l=i[o++],u=i[o++],h=i[o++],c=i[o++],d=i[o++],f=i[o++],p=i[o++],g=Math.abs(d),m=l_(g-\$E)\&\&!l_(g),v=!1;v=g>=\$E||!l_(g)\&\&(d>-KE\&\&d<0||d>KE)==!!p;var y=s_(s+u*qE(c)),x=s_(l+h*YE(c));m\&\&(d=p?\$E-1e-4:1e-4-\$E,v=!0,9===o\&\&e.push(\"M\",y,x));var _=s_(s+u*qE(c+d)),w=s_(l+h*YE(c+d));e.push(\"A\",s_(u),s_(h),jE(f*JE),+v,+p,_,w);break;case ZE.Z:a=\"Z\";break;case ZE.R:var _=s_(i[o++]),w=s_(i[o++]),b=s_(i[o++]),S=s_(i[o++]);e.push(\"M\",_,w,\"L\",_+b,w,\"L\",_+b,w+S,\"L\",_,w+S,\"L\",_,w)}a\&\&e.push(a);for(var M=0;M<r;M++)e.push(s_(i[o++]))}return e.join(\" \")}function m_(t){return\"middle\"===t?\"middle\":\"bottom\"===t?\"after-edge\":\"hanging\"}function v_(){}function y_(t,e,i,n){for(var o=0,a=e.length,r=0,s=0;o<a;o++){var l=e[o];if(l.removed){for(var u=[],h=s;h<s+l.count;h++)u.push(h);l.indices=u,s+=l.count}else{for(var u=[],h=r;h<r+l.count;h++)u.push(h);l.indices=u,r+=l.count,l.added||(s+=l.count)}}return e}function x_(t){return{newPos:t.newPos,components:t.components.slice(0)}}function __(t,e,i,n,o){this._zrId=t,this._svgRoot=e,this._tagNames=\"string\"==typeof i?[i]:i,this._markLabel=n,this._domName=o||\"_dom\",this.nextId=0}function w_(t,e){__.call(this,t,e,[\"linearGradient\",\"radialGradient\"],\"__gradient_in_use__\")}function b_(t,e){__.call(this,t,e,\"clipPath\",\"__clippath_in_use__\")}function S_(t,e){__.call(this,t,e,[\"filter\"],\"__filter_in_use__\",\"_shadowDom\")}function M_(t){return t\&\&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function I_(t){return parseInt(t,10)}function T_(t){return t instanceof kn?tR:t instanceof hi?eR:t instanceof qS?iR:tR}function A_(t,e){return e\&\&t\&\&e.parentNode!==t}function D_(t,e,i){if(A_(t,e)\&\&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function C_(t,e){if(A_(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function L_(t,e){e\&\&t\&\&e.parentNode===t\&\&t.removeChild(e)}function k_(t){return t.__textSvgEl}function P_(t){return t.__svgEl}function N_(t){return function(){Bw(\'In SVG mode painter not support method \"\'+t+\'\"\')}}var O_=2311,E_=function(){return O_++},R_={},z_=R_=\"object\"==typeof wx\&\&\"function\"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:\"undefined\"==typeof document\&\&\"undefined\"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:\"undefined\"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i={},n=t.match(/Firefox\\/([\\d.]+)/),o=t.match(/MSIE\\s([\\d.]+)/)||t.match(/Trident\\/.+?rv:(([\\d.]+))/),a=t.match(/Edge\\/([\\d.]+)/),r=/micromessenger/i.test(t);return n\&\&(i.firefox=!0,i.version=n[1]),o\&\&(i.ie=!0,i.version=o[1]),a\&\&(i.edge=!0,i.version=a[1]),r\&\&(i.weChat=!0),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement(\"canvas\").getContext,svgSupported:\"undefined\"!=typeof SVGRect,touchEventsSupported:\"ontouchstart\"in window\&\&!i.ie\&\&!i.edge,pointerEventsSupported:\"onpointerdown\"in window\&\&(i.edge||i.ie\&\&i.version>=11),domSupported:\"undefined\"!=typeof document}}(navigator.userAgent),B_={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},V_={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},G_=Object.prototype.toString,F_=Array.prototype,W_=F_.forEach,H_=F_.filter,Z_=F_.slice,U_=F_.map,X_=F_.reduce,j_={},Y_=function(){return j_.createCanvas()};j_.createCanvas=function(){return document.createElement(\"canvas\")};var q_,K_=\"__ec_primitive__\";E.prototype={constructor:E,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){void 0!==e\&\&(t=m(t,e));for(var i in this.data)this.data.hasOwnProperty(i)\&\&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}};var \$_=(Object.freeze||Object)({\$override:e,clone:i,merge:n,mergeAll:o,extend:a,defaults:r,createCanvas:Y_,getContext:s,indexOf:l,inherits:u,mixin:h,isArrayLike:c,each:d,map:f,reduce:p,filter:g,find:function(t,e,i){if(t\&\&e)for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t))return t[n]},bind:m,curry:v,isArray:y,isFunction:x,isString:_,isObject:w,isBuiltInObject:b,isTypedArray:S,isDom:M,eqNaN:I,retrieve:T,retrieve2:A,retrieve3:D,slice:C,normalizeCssArray:L,assert:k,trim:P,setAsPrimitive:N,isPrimitive:O,createHashMap:R,concatArray:z,noop:B}),J_=\"undefined\"==typeof Float32Array?Array:Float32Array,Q_=X,tw=j,ew=K,iw=\$,nw=(Object.freeze||Object)({create:V,copy:G,clone:F,set:W,add:H,scaleAndAdd:Z,sub:U,len:X,length:Q_,lenSquare:j,lengthSquare:tw,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:Y,normalize:q,distance:K,dist:ew,distanceSquare:\$,distSquare:iw,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:J,applyTransform:Q,min:tt,max:et});it.prototype={constructor:it,_dragStart:function(t){var e=t.target;e\&\&e.draggable\&\&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(nt(e,t),\"dragstart\",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,a=n-this._y;this._x=i,this._y=n,e.drift(o,a,t),this.dispatchToElement(nt(e,t),\"drag\",t.event);var r=this.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=r,e!==r\&\&(s\&\&r!==s\&\&this.dispatchToElement(nt(s,t),\"dragleave\",t.event),r\&\&r!==s\&\&this.dispatchToElement(nt(r,t),\"dragenter\",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e\&\&(e.dragging=!1),this.dispatchToElement(nt(e,t),\"dragend\",t.event),this._dropTarget\&\&this.dispatchToElement(nt(this._dropTarget,t),\"drop\",t.event),this._draggingTarget=null,this._dropTarget=null}};var ow=Array.prototype.slice,aw=function(t){this._\$handlers={},this._\$eventProcessor=t};aw.prototype={constructor:aw,one:function(t,e,i,n){var o=this._\$handlers;if(\"function\"==typeof e\&\&(n=i,i=e,e=null),!i||!t)return this;e=ot(this,e),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===i)return this;return o[t].push({h:i,one:!0,query:e,ctx:n||this}),this},on:function(t,e,i,n){var o=this._\$handlers;if(\"function\"==typeof e\&\&(n=i,i=e,e=null),!i||!t)return this;e=ot(this,e),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===i)return this;return o[t].push({h:i,one:!1,query:e,ctx:n||this}),this},isSilent:function(t){var e=this._\$handlers;return e[t]\&\&e[t].length},off:function(t,e){var i=this._\$handlers;if(!t)return this._\$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e\&\&n.push(i[t][o]);i[t]=n}i[t]\&\&0===i[t].length\&\&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._\$handlers[t],i=this._\$eventProcessor;if(e){var n=arguments,o=n.length;o>3\&\&(n=ow.call(n,1));for(var a=e.length,r=0;r<a;){var s=e[r];if(i\&\&i.filter\&\&null!=s.query\&\&!i.filter(t,s.query))r++;else{switch(o){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,n[1]);break;case 3:s.h.call(s.ctx,n[1],n[2]);break;default:s.h.apply(s.ctx,n)}s.one?(e.splice(r,1),a--):r++}}}return i\&\&i.afterTrigger\&\&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._\$handlers[t],i=this._\$eventProcessor;if(e){var n=arguments,o=n.length;o>4\&\&(n=ow.call(n,1,n.length-1));for(var a=n[n.length-1],r=e.length,s=0;s<r;){var l=e[s];if(i\&\&i.filter\&\&null!=l.query\&\&!i.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(a);break;case 2:l.h.call(a,n[1]);break;case 3:l.h.call(a,n[1],n[2]);break;default:l.h.apply(a,n)}l.one?(e.splice(s,1),r--):s++}}}return i\&\&i.afterTrigger\&\&i.afterTrigger(t),this}};var rw=\"undefined\"!=typeof window\&\&!!window.addEventListener,sw=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lw=rw?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},uw=\"silent\";pt.prototype.dispose=function(){};var hw=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],cw=function(t,e,i,n){aw.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new pt,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,it.call(this),this.setHandlerProxy(i)};cw.prototype={constructor:cw,setHandlerProxy:function(t){this.proxy\&\&this.proxy.dispose(),t\&\&(d(hw,function(e){t.on\&\&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,o=n.target;o\&\&!o.__zr\&\&(o=(n=this.findHover(n.x,n.y)).target);var a=this._hovered=this.findHover(e,i),r=a.target,s=this.proxy;s.setCursor\&\&s.setCursor(r?r.cursor:\"default\"),o\&\&r!==o\&\&this.dispatchToElement(n,\"mouseout\",t),this.dispatchToElement(a,\"mousemove\",t),r\&\&r!==o\&\&this.dispatchToElement(a,\"mouseover\",t)},mouseout:function(t){this.dispatchToElement(this._hovered,\"mouseout\",t);var e,i=t.toElement||t.relatedTarget;do{i=i\&\&i.parentNode}while(i\&\&9!=i.nodeType\&\&!(e=i===this.painterRoot));!e\&\&this.trigger(\"globalout\",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i\&\&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor\&\&e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var o=\"on\"+e,a=dt(e,t,i);n\&\&(n[o]\&\&(a.cancelBubble=n[o].call(n,a)),n.trigger(e,a),n=n.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter\&\&this.painter.eachOtherLayer(function(t){\"function\"==typeof t[o]\&\&t[o].call(t,a),t.trigger\&\&t.trigger(e,a)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o={x:t,y:e},a=n.length-1;a>=0;a--){var r;if(n[a]!==i\&\&!n[a].ignore\&\&(r=gt(n[a],t,e))\&\&(!o.topTarget\&\&(o.topTarget=n[a]),r!==uw)){o.target=n[a];break}}return o}},d([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(t){cw.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if(\"mousedown\"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if(\"mouseup\"===t)this._upEl=n;else if(\"click\"===t){if(this._downEl!==this._upEl||!this._downPoint||ew(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),h(cw,aw),h(cw,it);var dw=\"undefined\"==typeof Float32Array?Array:Float32Array,fw=(Object.freeze||Object)({create:mt,identity:vt,copy:yt,mul:xt,translate:_t,rotate:wt,scale:bt,invert:St,clone:Mt}),pw=vt,gw=5e-5,mw=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation\&\&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},vw=mw.prototype;vw.transform=null,vw.needLocalTransform=function(){return It(this.rotation)||It(this.position[0])||It(this.position[1])||It(this.scale[0]-1)||It(this.scale[1]-1)};var yw=[];vw.updateTransform=function(){var t=this.parent,e=t\&\&t.transform,i=this.needLocalTransform(),n=this.transform;if(i||e){n=n||mt(),i?this.getLocalTransform(n):pw(n),e\&\&(i?xt(n,t.transform,n):yt(n,t.transform)),this.transform=n;var o=this.globalScaleRatio;if(null!=o\&\&1!==o){this.getGlobalScale(yw);var a=yw[0]<0?-1:1,r=yw[1]<0?-1:1,s=((yw[0]-a)*o+a)/yw[0]||0,l=((yw[1]-r)*o+r)/yw[1]||0;n[0]*=s,n[1]*=s,n[2]*=l,n[3]*=l}this.invTransform=this.invTransform||mt(),St(this.invTransform,n)}else n\&\&pw(n)},vw.getLocalTransform=function(t){return mw.getLocalTransform(this,t)},vw.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},vw.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var xw=[],_w=mt();vw.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=this.position,o=this.scale;It(e-1)\&\&(e=Math.sqrt(e)),It(i-1)\&\&(i=Math.sqrt(i)),t[0]<0\&\&(e=-e),t[3]<0\&\&(i=-i),n[0]=t[4],n[1]=t[5],o[0]=e,o[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},vw.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t\&\&t.transform\&\&(xt(xw,t.invTransform,e),e=xw);var i=this.origin;i\&\&(i[0]||i[1])\&\&(_w[4]=i[0],_w[5]=i[1],xt(xw,e,_w),xw[4]-=i[0],xw[5]-=i[1],e=xw),this.setLocalTransform(e)}},vw.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0\&\&(t[0]=-t[0]),e[3]<0\&\&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},vw.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n\&\&Q(i,i,n),i},vw.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n\&\&Q(i,i,n),i},mw.getLocalTransform=function(t,e){pw(e=e||[]);var i=t.origin,n=t.scale||[1,1],o=t.rotation||0,a=t.position||[0,0];return i\&\&(e[4]-=i[0],e[5]-=i[1]),bt(e,e,n),o\&\&wt(e,e,o),i\&\&(e[4]+=i[0],e[5]+=i[1]),e[4]+=a[0],e[5]+=a[1],e};var ww={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ww.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*ww.bounceIn(2*t):.5*ww.bounceOut(2*t-1)+.5}};Tt.prototype={constructor:Tt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,o=\"string\"==typeof n?ww[n]:n,a=\"function\"==typeof o?o(i):i;return this.fire(\"frame\",a),1==i?this.loop?(this.restart(t),\"restart\"):(this._needsRemove=!0,\"destroy\"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t=\"on\"+t]\&\&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var bw=function(){this.head=null,this.tail=null,this._len=0},Sw=bw.prototype;Sw.insert=function(t){var e=new Mw(t);return this.insertEntry(e),e},Sw.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Sw.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Sw.len=function(){return this._len},Sw.clear=function(){this.head=this.tail=null,this._len=0};var Mw=function(t){this.value=t,this.next,this.prev},Iw=function(t){this._list=new bw,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Tw=Iw.prototype;Tw.put=function(t,e){var i=this._list,n=this._map,o=null;if(null==n[t]){var a=i.len(),r=this._lastRemovedEntry;if(a>=this._maxSize\&\&a>0){var s=i.head;i.remove(s),delete n[s.key],o=s.value,this._lastRemovedEntry=s}r?r.value=e:r=new Mw(e),r.key=t,i.insertEntry(r),n[t]=r}return o},Tw.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail\&\&(i.remove(e),i.insertEntry(e)),e.value},Tw.clear=function(){this._list.clear(),this._map={}};var Aw={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Dw=new Iw(20),Cw=null,Lw=Wt,kw=Ht,Pw=(Object.freeze||Object)({parse:zt,lift:Gt,toHex:Ft,fastLerp:Wt,fastMapToColor:Lw,lerp:Ht,mapToColor:kw,modifyHSL:Zt,modifyAlpha:Ut,stringify:Xt}),Nw=Array.prototype.slice,Ow=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||jt,this._setter=n||Yt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Ow.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t\&\&i[n].push({time:0,value:ie(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,n=this,o=0;for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var r=ae(this,t,function(){--o||n._doneCallback()},this._tracks[a],a,e);r\&\&(this._clipList.push(r),o++,this.animation\&\&this.animation.addClip(r),i=r)}if(i){var s=i.onframe;i.onframe=function(t,e){s(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return o||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t\&\&o.onframe(this._target,1),i\&\&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t\&\&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Ew=1;\"undefined\"!=typeof window\&\&(Ew=Math.max(window.devicePixelRatio||1,1));var Rw=Ew,zw=function(){},Bw=zw,Vw=function(){this.animators=[]};Vw.prototype={constructor:Vw,animate:function(t,e){var i,n=!1,o=this,a=this.__zr;if(t){var r=t.split(\".\"),s=o;n=\"shape\"===r[0];for(var u=0,h=r.length;u<h;u++)s\&\&(s=s[r[u]]);s\&\&(i=s)}else i=o;if(i){var c=o.animators,d=new Ow(i,e);return d.during(function(t){o.dirty(n)}).done(function(){c.splice(l(c,d),1)}),c.push(d),a\&\&a.animation.addAnimator(d),d}Bw(\'Property \"\'+t+\'\" is not existed in element \'+o.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o,a){re(this,t,e,i,n,o,a)},animateFrom:function(t,e,i,n,o,a){re(this,t,e,i,n,o,a,!0)}};var Gw=function(t){mw.call(this,t),aw.call(this,t),Vw.call(this,t),this.id=t.id||E_()};Gw.prototype={type:\"element\",name:\"\",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case\"horizontal\":e=0;break;case\"vertical\":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if(\"position\"===t||\"scale\"===t||\"origin\"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr\&\&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr\&\&this.__zr.refresh()},attr:function(t,e){if(\"string\"==typeof t)this.attrKV(t,e);else if(w(t))for(var i in t)t.hasOwnProperty(i)\&\&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e\&\&t.addSelfToZr(e),this.clipPath\&\&this.clipPath!==t\&\&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t\&\&(t.__zr\&\&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath\&\&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath\&\&this.clipPath.removeSelfFromZr(t)}},h(Gw,Vw),h(Gw,mw),h(Gw,aw);var Fw=Q,Ww=Math.min,Hw=Math.max;ue.prototype={constructor:ue,union:function(t){var e=Ww(t.x,this.x),i=Ww(t.y,this.y);this.width=Hw(t.x+t.width,this.x+this.width)-e,this.height=Hw(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[],i=[],n=[];return function(o){if(o){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,Fw(t,t,o),Fw(e,e,o),Fw(i,i,o),Fw(n,n,o),this.x=Ww(t[0],e[0],i[0],n[0]),this.y=Ww(t[1],e[1],i[1],n[1]);var a=Hw(t[0],e[0],i[0],n[0]),r=Hw(t[1],e[1],i[1],n[1]);this.width=a-this.x,this.height=r-this.y}}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=mt();return _t(o,o,[-e.x,-e.y]),bt(o,o,[i,n]),_t(o,o,[t.x,t.y]),o},intersect:function(t){if(!t)return!1;t instanceof ue||(t=ue.create(t));var e=this,i=e.x,n=e.x+e.width,o=e.y,a=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(n<r||s<i||a<l||u<o)},contain:function(t,e){var i=this;return t>=i.x\&\&t<=i.x+i.width\&\&e>=i.y\&\&e<=i.y+i.height},clone:function(){return new ue(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},ue.create=function(t){return new ue(t.x,t.y,t.width,t.height)};var Zw=function(t){t=t||{},Gw.call(this,t);for(var e in t)t.hasOwnProperty(e)\&\&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Zw.prototype={constructor:Zw,isGroup:!0,type:\"group\",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t\&\&t!==this\&\&t.parent!==this\&\&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t\&\&t!==this\&\&t.parent!==this\&\&e\&\&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0\&\&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent\&\&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e\&\&e!==t.__storage\&\&(e.addToStorage(t),t instanceof Zw\&\&t.addChildrenToStorage(e)),i\&\&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,o=l(n,t);return o<0?this:(n.splice(o,1),t.parent=null,i\&\&(i.delFromStorage(t),t instanceof Zw\&\&t.delChildrenFromStorage(i)),e\&\&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n\&\&(n.delFromStorage(t),t instanceof Zw\&\&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),\"group\"===n.type\&\&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof Zw\&\&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof Zw\&\&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr\&\&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new ue(0,0,0,0),n=t||this._children,o=[],a=0;a<n.length;a++){var r=n[a];if(!r.ignore\&\&!r.invisible){var s=r.getBoundingRect(),l=r.getLocalTransform(o);l?(i.copy(s),i.applyTransform(l),(e=e||i.clone()).union(i)):(e=e||s.clone()).union(s)}}return e||i}},u(Zw,Gw);var Uw=32,Xw=7,jw=function(){this._roots=[],this._displayList=[],this._displayListLen=0};jw.prototype={constructor:jw,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t\&\&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,o=e.length;n<o;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,z_.canvasSupported\&\&ve(i,ye)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty\&\&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.clipPath}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty\&\&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this\&\&(t instanceof Zw\&\&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(i=0;i<this._roots.length;i++){var e=this._roots[i];e instanceof Zw\&\&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var i=0,n=t.length;i<n;i++)this.delRoot(t[i]);else{var o=l(this._roots,t);o>=0\&\&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof Zw\&\&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t\&\&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t\&\&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ye};var Yw={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},qw=function(t,e,i){return Yw.hasOwnProperty(e)?i*=t.dpr:i},Kw=[[\"shadowBlur\",0],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0],[\"shadowColor\",\"#000\"],[\"lineCap\",\"butt\"],[\"lineJoin\",\"miter\"],[\"miterLimit\",10]],\$w=function(t){this.extendFrom(t,!1)};\$w.prototype={constructor:\$w,fill:\"#000\",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:\"#000\",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:\"inside\",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:\"transparent\",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:\"transparent\",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){for(var n=this,o=i\&\&i.style,a=!o,r=0;r<Kw.length;r++){var s=Kw[r],l=s[0];(a||n[l]!==o[l])\&\&(t[l]=qw(t,l,n[l]||s[1]))}if((a||n.fill!==o.fill)\&\&(t.fillStyle=n.fill),(a||n.stroke!==o.stroke)\&\&(t.strokeStyle=n.stroke),(a||n.opacity!==o.opacity)\&\&(t.globalAlpha=null==n.opacity?1:n.opacity),(a||n.blend!==o.blend)\&\&(t.globalCompositeOperation=n.blend||\"source-over\"),this.hasStroke()){var u=n.lineWidth;t.lineWidth=u/(this.strokeNoScale\&\&e\&\&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t\&\&\"none\"!==t},hasStroke:function(){var t=this.stroke;return null!=t\&\&\"none\"!==t\&\&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e\&\&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){\"string\"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=(\"radial\"===e.type?_e:xe)(t,e,i),o=e.colorStops,a=0;a<o.length;a++)n.addColorStop(o[a].offset,o[a].color);return n}};for(var Jw=\$w.prototype,Qw=0;Qw<Kw.length;Qw++){var tb=Kw[Qw];tb[0]in Jw||(Jw[tb[0]]=tb[1])}\$w.getGradient=Jw.getGradient;var eb=function(t,e){this.image=t,this.repeat=e,this.type=\"pattern\"};eb.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||\"repeat\")};var ib=function(t,e,i){var n;i=i||Rw,\"string\"==typeof t?n=be(t,e,i):w(t)\&\&(t=(n=t).id),this.id=t,this.dom=n;var o=n.style;o\&\&(n.onselectstart=we,o[\"-webkit-user-select\"]=\"none\",o[\"user-select\"]=\"none\",o[\"-webkit-touch-callout\"]=\"none\",o[\"-webkit-tap-highlight-color\"]=\"rgba(0,0,0,0)\",o.padding=0,o.margin=0,o[\"border-width\"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};ib.prototype={constructor:ib,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext(\"2d\"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=be(\"back-\"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(\"2d\"),1!=t\&\&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o\&\&(o.width=t+\"px\",o.height=e+\"px\"),n.width=t*i,n.height=e*i,a\&\&(a.width=t*i,a.height=e*i,1!=i\&\&this.ctxBack.scale(i,i))},clear:function(t,e){var i=this.dom,n=this.ctx,o=i.width,a=i.height,e=e||this.clearColor,r=this.motionBlur\&\&!t,s=this.lastFrameAlpha,l=this.dpr;if(r\&\&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=\"copy\",this.ctxBack.drawImage(i,0,0,o/l,a/l)),n.clearRect(0,0,o,a),e\&\&\"transparent\"!==e){var u;e.colorStops?(u=e.__canvasGradient||\$w.getGradient(n,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=u):e.image\&\&(u=eb.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=u||e,n.fillRect(0,0,o,a),n.restore()}if(r){var h=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(h,0,0,o,a),n.restore()}}};var nb=\"undefined\"!=typeof window\&\&(window.requestAnimationFrame\&\&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame\&\&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},ob=new Iw(50),ab={},rb=0,sb=5e3,lb=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,ub=\"12px sans-serif\",hb={};hb.measureText=function(t,e){var i=s();return i.font=e||ub,i.measureText(t)};var cb={left:1,right:1,center:1},db={top:1,bottom:1,middle:1},fb=[[\"textShadowBlur\",\"shadowBlur\",0],[\"textShadowOffsetX\",\"shadowOffsetX\",0],[\"textShadowOffsetY\",\"shadowOffsetY\",0],[\"textShadowColor\",\"shadowColor\",\"transparent\"]],pb=new ue,gb=function(){};gb.prototype={constructor:gb,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty\&\&Ue(i);var n=i.text;if(null!=n\&\&(n+=\"\"),li(n,i)){t.save();var o=this.transform;i.transformText?this.setTransform(t):o\&\&(pb.copy(e),pb.applyTransform(o),e=pb),je(this,t,n,i,e),t.restore()}}},ui.prototype={constructor:ui,type:\"displayable\",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:\"pointer\",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr\&\&this.__zr.refresh()},animateStyle:function(t){return this.animate(\"style\",t)},attrKV:function(t,e){\"style\"!==t?Gw.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new \$w(t,this),this.dirty(!1),this}},u(ui,Gw),h(ui,gb),hi.prototype={constructor:hi,type:\"image\",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var o=this._image=Me(n,this._image,this,this.onload);if(o\&\&Te(o)){var a=i.x||0,r=i.y||0,s=i.width,l=i.height,u=o.width/o.height;if(null==s\&\&null!=l?s=l*u:null==l\&\&null!=s?l=s/u:null==s\&\&null==l\&\&(s=o.width,l=o.height),this.setTransform(t),i.sWidth\&\&i.sHeight){var h=i.sx||0,c=i.sy||0;t.drawImage(o,h,c,i.sWidth,i.sHeight,a,r,s,l)}else if(i.sx\&\&i.sy){var d=s-(h=i.sx),f=l-(c=i.sy);t.drawImage(o,h,c,d,f,a,r,s,l)}else t.drawImage(o,a,r,s,l);null!=i.text\&\&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new ue(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},u(hi,ui);var mb=new ue(0,0,0,0),vb=new ue(0,0,0,0),yb=function(t,e,i){this.type=\"canvas\";var n=!t.nodeName||\"CANVAS\"===t.nodeName.toUpperCase();this._opts=i=a({},i||{}),this.dpr=i.devicePixelRatio||Rw,this._singleCanvas=n,this.root=t;var o=t.style;o\&\&(o[\"-webkit-tap-highlight-color\"]=\"transparent\",o[\"-webkit-user-select\"]=o[\"user-select\"]=o[\"-webkit-touch-callout\"]=\"none\",t.innerHTML=\"\"),this.storage=e;var r=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var l=t.width,u=t.height;null!=i.width\&\&(l=i.width),null!=i.height\&\&(u=i.height),this.dpr=i.devicePixelRatio||1,t.width=l*this.dpr,t.height=u*this.dpr,this._width=l,this._height=u;var h=new ib(t,this,this.dpr);h.__builtin__=!0,h.initContext(),s[314159]=h,h.zlevel=314159,r.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=mi(this._width,this._height);t.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};yb.prototype={constructor:yb,getType:function(){return\"canvas\"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],a=this._layers[o];if(!a.__builtin__\&\&a.refresh){var r=0===n?this._backgroundColor:null;a.refresh(r)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return i.__from=t,t.__hoverMir=i,e\&\&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=l(i,e);n>=0\&\&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n\&\&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i\&\&i.clear(),e){ve(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var o=0;o<e;){var a=t[o],r=a.__from;r\&\&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,i,!0,n))):(t.splice(o,1),r.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing\&\&this._compositeManually(),!n){var o=this;nb(function(){o._paintList(t,e,i)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(n){n.virtual\&\&t.drawImage(n.dom,0,0,e,i)})},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];(s=this._layers[o]).__builtin__\&\&s!==this._hoverlayer\&\&(s.__dirty||e)\&\&i.push(s)}for(var a=!0,r=0;r<i.length;r++){var s=i[r],l=s.ctx,u={};l.save();var h=e?s.__startIndex:s.__drawIndex,c=!e\&\&s.incremental\&\&Date.now,f=c\&\&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,p);else if(h===s.__startIndex){var g=t[h];g.incremental\&\&g.notClear\&\&!e||s.clear(!1,p)}-1===h\&\&(console.error(\"For some unknown reason. drawIndex is -1\"),h=s.__startIndex);for(var m=h;m<s.__endIndex;m++){var v=t[m];if(this._doPaintEl(v,s,e,u),v.__dirty=v.__dirtyText=!1,c\&\&Date.now()-f>15)break}s.__drawIndex=m,s.__drawIndex<s.__endIndex\&\&(a=!1),u.prevElClipPaths\&\&l.restore(),l.restore()}return z_.wxa\&\&d(this._layers,function(t){t\&\&t.ctx\&\&t.ctx.draw\&\&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,n){var o=e.ctx,a=t.transform;if((e.__dirty||i)\&\&!t.invisible\&\&0!==t.style.opacity\&\&(!a||a[0]||a[3])\&\&(!t.culling||!fi(t,this._width,this._height))){var r=t.__clipPaths;n.prevElClipPaths\&\&!pi(r,n.prevElClipPaths)||(n.prevElClipPaths\&\&(e.ctx.restore(),n.prevElClipPaths=null,n.prevEl=null),r\&\&(o.save(),gi(r,o),n.prevElClipPaths=r)),t.beforeBrush\&\&t.beforeBrush(o),t.brush(o,n.prevEl||null),n.prevEl=t,t.afterBrush\&\&t.afterBrush(o)}},getLayer:function(t,e){this._singleCanvas\&\&!this._needsManuallyCompositing\&\&(t=314159);var i=this._layers[t];return i||((i=new ib(\"zr_\"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]\&\&n(i,this._layerConfig[t],!0),e\&\&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,a=null,r=-1,s=this._domRoot;if(i[t])Bw(\"ZLevel \"+t+\" has been used already\");else if(di(e)){if(o>0\&\&t>n[0]){for(r=0;r<o-1\&\&!(n[r]<t\&\&n[r+1]>t);r++);a=i[n[r]]}if(n.splice(r+1,0,t),i[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Bw(\"Layer of zlevel \"+t+\" is not valid\")},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],(i=this._layers[n]).__builtin__\&\&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,a=this._zlevelList;for(o=0;o<a.length;o++)n=a[o],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i\&\&(i.__endIndex!==t\&\&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(o=1;o<t.length;o++)if((r=t[o]).zlevel!==t[o-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}for(var i=null,n=0,o=0;o<t.length;o++){var a,r=t[o],s=r.zlevel;r.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,n=1):a=this.getLayer(s+(n>0?.01:0),this._needsManuallyCompositing),a.__builtin__||Bw(\"ZLevel \"+s+\" has been used by unkown layer \"+a.id),a!==i\&\&(a.__used=!0,a.__startIndex!==o\&\&(a.__dirty=!0),a.__startIndex=o,a.incremental?a.__drawIndex=-1:a.__drawIndex=o,e(o),i=a),r.__dirty\&\&(a.__dirty=!0,a.incremental\&\&a.__drawIndex<0\&\&(a.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(t,e){!t.__used\&\&t.getElementCount()>0\&\&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty\&\&t.__drawIndex<0\&\&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?n(i[t],e,!0):i[t]=e;for(var o=0;o<this._zlevelList.length;o++){var a=this._zlevelList[o];a!==t\&\&a!==t+.01||n(this._layers[a],i[t],!0)}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n\&\&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(l(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display=\"none\";var n=this._opts;if(null!=t\&\&(n.width=t),null!=e\&\&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display=\"\",this._width!=t||e!=this._height){i.style.width=t+\"px\",i.style.height=e+\"px\";for(var o in this._layers)this._layers.hasOwnProperty(o)\&\&this._layers[o].resize(t,e);d(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e\&\&e.clear()},dispose:function(){this.root.innerHTML=\"\",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas\&\&!this._compositeManually)return this._layers[314159].dom;var e=new ib(\"image\",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,n):t.renderToCanvas\&\&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},r=this.storage.getDisplayList(!0),s=0;s<r.length;s++){var l=r[s];this._doPaintEl(l,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=[\"width\",\"height\"][t],n=[\"clientWidth\",\"clientHeight\"][t],o=[\"paddingLeft\",\"paddingTop\"][t],a=[\"paddingRight\",\"paddingBottom\"][t];if(null!=e[i]\&\&\"auto\"!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||ci(s[i])||ci(r.style[i]))-(ci(s[o])||0)-(ci(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement(\"canvas\"),n=i.getContext(\"2d\"),o=t.getBoundingRect(),a=t.style,r=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,u=a.hasStroke()?a.lineWidth:0,h=Math.max(u/2,-s+r),c=Math.max(u/2,s+r),d=Math.max(u/2,-l+r),f=Math.max(u/2,l+r),p=o.width+h+c,g=o.height+d+f;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-o.x,d-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t\&\&t.brush(n);var v=new hi({style:{x:0,y:0,image:i}});return null!=m.position\&\&(v.position=t.position=m.position),null!=m.rotation\&\&(v.rotation=t.rotation=m.rotation),null!=m.scale\&\&(v.scale=t.scale=m.scale),v}};var xb=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,aw.call(this)};xb.prototype={constructor:xb,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=l(this._clips,t);e>=0\&\&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],a=[],r=0;r<n;r++){var s=i[r],l=s.step(t,e);l\&\&(o.push(l),a.push(s))}for(r=0;r<n;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=o.length;for(r=0;r<n;r++)a[r].fire(o[r]);this._time=t,this.onframe(e),this.trigger(\"frame\",e),this.stage.update\&\&this.stage.update()},_startLoop:function(){function t(){e._running\&\&(nb(t),!e._paused\&\&e._update())}var e=this;this._running=!0,nb(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused\&\&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var i=new Ow(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},h(xb,aw);var _b=function(){this._track=[]};_b.prototype={constructor:_b,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},a=0,r=n.length;a<r;a++){var s=n[a],l=rt(i,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},_recognize:function(t){for(var e in wb)if(wb.hasOwnProperty(e)){var i=wb[e](this._track,t);if(i)return i}}};var wb={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,o=(t[i-2]||{}).points||n;if(o\&\&o.length>1\&\&n\&\&n.length>1){var a=vi(n)/vi(o);!isFinite(a)\&\&(a=1),e.pinchScale=a;var r=yi(n);return e.pinchX=r[0],e.pinchY=r[1],{type:\"pinch\",target:t[0].target,event:e}}}}},bb=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],Sb=[\"touchstart\",\"touchend\",\"touchmove\"],Mb={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Ib=f(bb,function(t){var e=t.replace(\"mouse\",\"pointer\");return Mb[e]?e:t}),Tb={mousemove:function(t){t=lt(this.dom,t),this.trigger(\"mousemove\",t)},mouseout:function(t){var e=(t=lt(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e\&\&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger(\"mouseout\",t)},touchstart:function(t){(t=lt(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,_i(this,t,\"start\"),Tb.mousemove.call(this,t),Tb.mousedown.call(this,t),wi(this)},touchmove:function(t){(t=lt(this.dom,t)).zrByTouch=!0,_i(this,t,\"change\"),Tb.mousemove.call(this,t),wi(this)},touchend:function(t){(t=lt(this.dom,t)).zrByTouch=!0,_i(this,t,\"end\"),Tb.mouseup.call(this,t),+new Date-this._lastTouchMoment<300\&\&Tb.click.call(this,t),wi(this)},pointerdown:function(t){Tb.mousedown.call(this,t)},pointermove:function(t){bi(t)||Tb.mousemove.call(this,t)},pointerup:function(t){Tb.mouseup.call(this,t)},pointerout:function(t){bi(t)||Tb.mouseout.call(this,t)}};d([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(t){Tb[t]=function(e){e=lt(this.dom,e),this.trigger(t,e)}});var Ab=Mi.prototype;Ab.dispose=function(){for(var t=bb.concat(Sb),e=0;e<t.length;e++){var i=t[e];ht(this.dom,xi(i),this._handlers[i])}},Ab.setCursor=function(t){this.dom.style\&\&(this.dom.style.cursor=t||\"default\")},h(Mi,aw);var Db=!z_.canvasSupported,Cb={canvas:yb},Lb={},kb=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new jw,a=i.renderer;if(Db){if(!Cb.vml)throw new Error(\"You need to require \'zrender/vml/vml\' to support IE8\");a=\"vml\"}else a\&\&Cb[a]||(a=\"canvas\");var r=new Cb[a](e,o,i,t);this.storage=o,this.painter=r;var s=z_.node||z_.worker?null:new Mi(r.getViewportRoot());this.handler=new cw(o,r,s,r.root),this.animation=new xb({stage:{update:m(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=o.delFromStorage,u=o.addToStorage;o.delFromStorage=function(t){l.call(o,t),t\&\&t.removeSelfFromZr(n)},o.addToStorage=function(t){u.call(o,t),t.addSelfToZr(n)}};kb.prototype={constructor:kb,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer\&\&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor\&\&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh\&\&(t=!0,this.refreshImmediately()),this._needsRefreshHover\&\&(t=!0,this.refreshHoverImmediately()),t\&\&this.trigger(\"rendered\")},addHover:function(t,e){if(this.painter.addHover){var i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover\&\&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover\&\&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover\&\&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Ai(this.id)}};var Pb=(Object.freeze||Object)({version:\"4.0.5\",init:Ii,dispose:function(t){if(t)t.dispose();else{for(var e in Lb)Lb.hasOwnProperty(e)\&\&Lb[e].dispose();Lb={}}return this},getInstance:function(t){return Lb[t]},registerPainter:Ti}),Nb=d,Ob=w,Eb=y,Rb=\"series\\0\",zb=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"rich\",\"tag\",\"color\",\"textBorderColor\",\"textBorderWidth\",\"width\",\"height\",\"lineHeight\",\"align\",\"verticalAlign\",\"baseline\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\",\"textShadowColor\",\"textShadowBlur\",\"textShadowOffsetX\",\"textShadowOffsetY\",\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderRadius\",\"padding\"],Bb=0,Vb=\".\",Gb=\"___EC__COMPONENT__CONTAINER___\",Fb=0,Wb=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,n){for(var o={},a=0;a<t.length;a++){var r=t[a][1];if(!(i\&\&l(i,r)>=0||n\&\&l(n,r)<0)){var s=e.getShallow(r);null!=s\&\&(o[t[a][0]]=s)}}return o}},Hb=Wb([[\"lineWidth\",\"width\"],[\"stroke\",\"color\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),Zb={getLineStyle:function(t){var e=Hb(this,t),i=this.getLineDash(e.lineWidth);return i\&\&(e.lineDash=i),e},getLineDash:function(t){null==t\&\&(t=1);var e=this.get(\"type\"),i=Math.max(t,2),n=4*t;return\"solid\"===e||null==e?null:\"dashed\"===e?[n,n]:[i,i]}},Ub=Wb([[\"fill\",\"color\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"opacity\"],[\"shadowColor\"]]),Xb={getAreaStyle:function(t,e){return Ub(this,t,e)}},jb=Math.pow,Yb=Math.sqrt,qb=1e-8,Kb=1e-4,\$b=Yb(3),Jb=1/3,Qb=V(),tS=V(),eS=V(),iS=Math.min,nS=Math.max,oS=Math.sin,aS=Math.cos,rS=2*Math.PI,sS=V(),lS=V(),uS=V(),hS=[],cS=[],dS={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},fS=[],pS=[],gS=[],mS=[],vS=Math.min,yS=Math.max,xS=Math.cos,_S=Math.sin,wS=Math.sqrt,bS=Math.abs,SS=\"undefined\"!=typeof Float32Array,MS=function(t){this._saveData=!t,this._saveData\&\&(this.data=[]),this._ctx=null};MS.prototype={constructor:MS,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=bS(1/Rw/t)||0,this._uy=bS(1/Rw/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t\&\&t.beginPath(),t\&\&(this.dpr=t.dpr),this._saveData\&\&(this._len=0),this._lineDash\&\&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(dS.M,t,e),this._ctx\&\&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=bS(t-this._xi)>this._ux||bS(e-this._yi)>this._uy||this._len<5;return this.addData(dS.L,t,e),this._ctx\&\&i\&\&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i\&\&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,a){return this.addData(dS.C,t,e,i,n,o,a),this._ctx\&\&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,a):this._ctx.bezierCurveTo(t,e,i,n,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(t,e,i,n){return this.addData(dS.Q,t,e,i,n),this._ctx\&\&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,a){return this.addData(dS.A,t,e,i,i,n,o-n,0,a?0:1),this._ctx\&\&this._ctx.arc(t,e,i,n,o,a),this._xi=xS(o)*i+t,this._yi=_S(o)*i+e,this},arcTo:function(t,e,i,n,o){return this._ctx\&\&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx\&\&this._ctx.rect(t,e,i,n),this.addData(dS.R,t,e,i,n),this},closePath:function(){this.addData(dS.Z);var t=this._ctx,e=this._x0,i=this._y0;return t\&\&(this._needsDash()\&\&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t\&\&t.fill(),this.toStatic()},stroke:function(t){t\&\&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data\&\&this.data.length==e||!SS||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++)i+=t[o].len();SS\&\&this.data instanceof Float32Array\&\&(this.data=new Float32Array(n+i));for(o=0;o<e;o++)for(var a=t[o].data,r=0;r<a.length;r++)this.data[n++]=a[r];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length\&\&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=t-l,c=e-u,d=wS(h*h+c*c),f=l,p=u,g=r.length;for(h/=d,c/=d,a<0\&\&(a=o+a),f-=(a%=o)*h,p-=a*c;h>0\&\&f<=t||h<0\&\&f>=t||0==h\&\&(c>0\&\&p<=e||c<0\&\&p>=e);)f+=h*(i=r[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%g,h>0\&\&f<l||h<0\&\&f>l||c>0\&\&p<u||c<0\&\&p>u||s[n%2?\"moveTo\":\"lineTo\"](h>=0?vS(f,t):yS(f,t),c>=0?vS(p,e):yS(p,e));h=f-t,c=p-e,this._dashOffset=-wS(h*h+c*c)},_dashedBezierTo:function(t,e,i,n,o,a){var r,s,l,u,h,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=Qi,y=0,x=this._dashIdx,_=f.length,w=0;for(d<0\&\&(d=c+d),d%=c,r=0;r<1;r+=.1)s=v(g,t,i,o,r+.1)-v(g,t,i,o,r),l=v(m,e,n,a,r+.1)-v(m,e,n,a,r),y+=wS(s*s+l*l);for(;x<_\&\&!((w+=f[x])>d);x++);for(r=(w-d)/y;r<=1;)u=v(g,t,i,o,r),h=v(m,e,n,a,r),x%2?p.moveTo(u,h):p.lineTo(u,h),r+=f[x]/y,x=(x+1)%_;x%2!=0\&\&p.lineTo(o,a),s=o-u,l=a-h,this._dashOffset=-wS(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var o=i,a=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,a)},toStatic:function(){var t=this.data;t instanceof Array\&\&(t.length=this._len,SS\&\&(this.data=new Float32Array(t)))},getBoundingRect:function(){fS[0]=fS[1]=gS[0]=gS[1]=Number.MAX_VALUE,pS[0]=pS[1]=mS[0]=mS[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,o=0,a=0;a<t.length;){var r=t[a++];switch(1==a\&\&(n=e=t[a],o=i=t[a+1]),r){case dS.M:e=n=t[a++],i=o=t[a++],gS[0]=n,gS[1]=o,mS[0]=n,mS[1]=o;break;case dS.L:fn(e,i,t[a],t[a+1],gS,mS),e=t[a++],i=t[a++];break;case dS.C:pn(e,i,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],gS,mS),e=t[a++],i=t[a++];break;case dS.Q:gn(e,i,t[a++],t[a++],t[a],t[a+1],gS,mS),e=t[a++],i=t[a++];break;case dS.A:var s=t[a++],l=t[a++],u=t[a++],h=t[a++],c=t[a++],d=t[a++]+c,f=(t[a++],1-t[a++]);1==a\&\&(n=xS(c)*u+s,o=_S(c)*h+l),mn(s,l,u,h,c,d,f,gS,mS),e=xS(d)*u+s,i=_S(d)*h+l;break;case dS.R:fn(n=e=t[a++],o=i=t[a++],n+t[a++],o+t[a++],gS,mS);break;case dS.Z:e=n,i=o}tt(fS,fS,gS),et(pS,pS,mS)}return 0===a\&\&(fS[0]=fS[1]=pS[0]=pS[1]=0),new ue(fS[0],fS[1],pS[0]-fS[0],pS[1]-fS[1])},rebuildPath:function(t){for(var e,i,n,o,a,r,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var d=s[c++];switch(1==c\&\&(e=n=s[c],i=o=s[c+1]),d){case dS.M:e=n=s[c++],i=o=s[c++],t.moveTo(n,o);break;case dS.L:a=s[c++],r=s[c++],(bS(a-n)>l||bS(r-o)>u||c===h-1)\&\&(t.lineTo(a,r),n=a,o=r);break;case dS.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],o=s[c-1];break;case dS.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],o=s[c-1];break;case dS.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],x=s[c++],_=s[c++],w=g>m?g:m,b=g>m?1:g/m,S=g>m?m/g:1,M=v+y;Math.abs(g-m)>.001?(t.translate(f,p),t.rotate(x),t.scale(b,S),t.arc(0,0,w,v,M,1-_),t.scale(1/b,1/S),t.rotate(-x),t.translate(-f,-p)):t.arc(f,p,w,v,M,1-_),1==c\&\&(e=xS(v)*g+f,i=_S(v)*m+p),n=xS(M)*g+f,o=_S(M)*m+p;break;case dS.R:e=n=s[c],i=o=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case dS.Z:t.closePath(),n=e,o=i}}}},MS.CMD=dS;var IS=2*Math.PI,TS=2*Math.PI,AS=MS.CMD,DS=2*Math.PI,CS=1e-4,LS=[-1,-1,-1],kS=[-1,-1],PS=eb.prototype.getCanvasPattern,NS=Math.abs,OS=new MS(!0);kn.prototype={constructor:kn,type:\"path\",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var i=this.style,n=this.path||OS,o=i.hasStroke(),a=i.hasFill(),r=i.fill,s=i.stroke,l=a\&\&!!r.colorStops,u=o\&\&!!s.colorStops,h=a\&\&!!r.image,c=o\&\&!!s.image;if(i.bind(t,this,e),this.setTransform(t),this.__dirty){var d;l\&\&(d=d||this.getBoundingRect(),this._fillGradient=i.getGradient(t,r,d)),u\&\&(d=d||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,s,d))}l?t.fillStyle=this._fillGradient:h\&\&(t.fillStyle=PS.call(r,t)),u?t.strokeStyle=this._strokeGradient:c\&\&(t.strokeStyle=PS.call(s,t));var f=i.lineDash,p=i.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();if(n.setScale(m[0],m[1]),this.__dirtyPath||f\&\&!g\&\&o?(n.beginPath(t),f\&\&!g\&\&(n.setLineDash(f),n.setLineDashOffset(p)),this.buildPath(n,this.shape,!1),this.path\&\&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=i.fillOpacity){v=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,n.fill(t),t.globalAlpha=v}else n.fill(t);if(f\&\&g\&\&(t.setLineDash(f),t.lineDashOffset=p),o)if(null!=i.strokeOpacity){var v=t.globalAlpha;t.globalAlpha=i.strokeOpacity*i.opacity,n.stroke(t),t.globalAlpha=v}else n.stroke(t);f\&\&g\&\&t.setLineDash([]),null!=i.text\&\&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new MS},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new MS),this.__dirtyPath\&\&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var a=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),r>1e-10\&\&(o.width+=a/r,o.height+=a/r,o.x-=a/r/2,o.y-=a/r/2)}return o}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var a=this.path.data;if(o.hasStroke()){var r=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(s>1e-10\&\&(o.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),Ln(a,r/s,t,e)))return!0}if(o.hasFill())return Cn(a,t,e)}return!1},dirty:function(t){null==t\&\&(t=!0),t\&\&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr\&\&this.__zr.refresh(),this.__clipTarget\&\&this.__clipTarget.dirty()},animateShape:function(t){return this.animate(\"shape\",t)},attrKV:function(t,e){\"shape\"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):ui.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(w(t))for(var n in t)t.hasOwnProperty(n)\&\&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t\&\&NS(t[0]-1)>1e-10\&\&NS(t[3]-1)>1e-10?Math.sqrt(NS(t[0]*t[3]-t[2]*t[1])):1}},kn.extend=function(t){var e=function(e){kn.call(this,e),t.style\&\&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)\&\&i.hasOwnProperty(o)\&\&(n[o]=i[o])}t.init\&\&t.init.call(this,e)};u(e,kn);for(var i in t)\"style\"!==i\&\&\"shape\"!==i\&\&(e.prototype[i]=t[i]);return e},u(kn,ui);var ES=MS.CMD,RS=[[],[],[]],zS=Math.sqrt,BS=Math.atan2,VS=function(t,e){var i,n,o,a,r,s,l=t.data,u=ES.M,h=ES.C,c=ES.L,d=ES.R,f=ES.A,p=ES.Q;for(o=0,a=0;o<l.length;){switch(i=l[o++],a=o,n=0,i){case u:case c:n=1;break;case h:n=3;break;case p:n=2;break;case f:var g=e[4],m=e[5],v=zS(e[0]*e[0]+e[1]*e[1]),y=zS(e[2]*e[2]+e[3]*e[3]),x=BS(-e[1]/y,e[0]/v);l[o]*=v,l[o++]+=g,l[o]*=y,l[o++]+=m,l[o++]*=v,l[o++]*=y,l[o++]+=x,l[o++]+=x,a=o+=2;break;case d:s[0]=l[o++],s[1]=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1],s[0]+=l[o++],s[1]+=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1]}for(r=0;r<n;r++)(s=RS[r])[0]=l[o++],s[1]=l[o++],Q(s,s,e),l[a++]=s[0],l[a++]=s[1]}},GS=Math.sqrt,FS=Math.sin,WS=Math.cos,HS=Math.PI,ZS=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},US=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(ZS(t)*ZS(e))},XS=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(US(t,e))},jS=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,YS=/-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g,qS=function(t){ui.call(this,t)};qS.prototype={constructor:qS,type:\"text\",brush:function(t,e){var i=this.style;this.__dirty\&\&Ue(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n\&\&(n+=\"\"),li(n,i)\&\&(this.setTransform(t),je(this,t,n,i,null,e),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty\&\&Ue(t),!this._rect){var e=t.text;null!=e?e+=\"\":e=\"\";var i=De(t.text+\"\",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,oi(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},u(qS,ui);var KS=kn.extend({type:\"circle\",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i\&\&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),\$S=[[\"shadowBlur\",0],[\"shadowColor\",\"#000\"],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0]],JS=function(t){return z_.browser.ie\&\&z_.browser.version>=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var o=0;o<i.length;o++){var a=i[o],r=a\&\&a.shape,s=a\&\&a.type;if(r\&\&(\"sector\"===s\&\&r.startAngle===r.endAngle||\"rect\"===s\&\&(!r.width||!r.height))){for(l=0;l<\$S.length;l++)\$S[l][2]=n[\$S[l][0]],n[\$S[l][0]]=\$S[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(var l=0;l<\$S.length;l++)n[\$S[l][0]]=\$S[l][2]}:t},QS=kn.extend({type:\"sector\",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:JS(kn.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(r),h=Math.sin(r);t.moveTo(u*o+i,h*o+n),t.lineTo(u*a+i,h*a+n),t.arc(i,n,a,r,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o\&\&t.arc(i,n,o,s,r,l),t.closePath()}}),tM=kn.extend({type:\"ring\",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}}),eM=function(t,e){for(var i=t.length,n=[],o=0,a=1;a<i;a++)o+=K(t[a-1],t[a]);var r=o/2;r=r<i?i:r;for(a=0;a<r;a++){var s,l,u,h=a/(r-1)*(e?i:i-1),c=Math.floor(h),d=h-c,f=t[c%i];e?(s=t[(c-1+i)%i],l=t[(c+1)%i],u=t[(c+2)%i]):(s=t[0===c?c:c-1],l=t[c>i-2?i-1:c+1],u=t[c>i-3?i-1:c+2]);var p=d*d,g=d*p;n.push([zn(s[0],f[0],l[0],u[0],d,p,g),zn(s[1],f[1],l[1],u[1],d,p,g)])}return n},iM=function(t,e,i,n){var o,a,r,s,l=[],u=[],h=[],c=[];if(n){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)tt(r,r,t[d]),et(s,s,t[d]);tt(r,r,n[0]),et(s,s,n[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(i)o=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){l.push(F(t[d]));continue}o=t[d-1],a=t[d+1]}U(u,a,o),Y(u,u,e);var g=K(p,o),m=K(p,a),v=g+m;0!==v\&\&(g/=v,m/=v),Y(h,u,-g),Y(c,u,m);var y=H([],p,h),x=H([],p,c);n\&\&(et(y,y,r),tt(y,y,s),et(x,x,r),tt(x,x,s)),l.push(y),l.push(x)}return i\&\&l.push(l.shift()),l},nM=kn.extend({type:\"polygon\",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Bn(t,e,!0)}}),oM=kn.extend({type:\"polyline\",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){Bn(t,e,!1)}}),aM=kn.extend({type:\"rect\",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width,a=e.height;e.r?Ze(t,e):t.rect(i,n,o,a),t.closePath()}}),rM=kn.extend({type:\"line\",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.percent;0!==r\&\&(t.moveTo(i,n),r<1\&\&(o=i*(1-r)+o*r,a=n*(1-r)+a*r),t.lineTo(o,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),sM=[],lM=kn.extend({type:\"bezier-curve\",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h\&\&(t.moveTo(i,n),null==l||null==u?(h<1\&\&(hn(i,r,o,h,sM),r=sM[1],o=sM[2],hn(n,s,a,h,sM),s=sM[1],a=sM[2]),t.quadraticCurveTo(r,s,o,a)):(h<1\&\&(on(i,r,l,o,h,sM),r=sM[1],l=sM[2],o=sM[3],on(n,s,u,a,h,sM),s=sM[1],u=sM[2],a=sM[3]),t.bezierCurveTo(r,s,l,u,o,a)))},pointAt:function(t){return Vn(this.shape,t,!1)},tangentAt:function(t){var e=Vn(this.shape,t,!0);return q(e,e)}}),uM=kn.extend({type:\"arc\",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*o+i,u*o+n),t.arc(i,n,o,a,r,!s)}}),hM=kn.extend({type:\"compound\",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),kn.prototype.getBoundingRect.call(this)}}),cM=function(t){this.colorStops=t||[]};cM.prototype={constructor:cM,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var dM=function(t,e,i,n,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type=\"linear\",this.global=a||!1,cM.call(this,o)};dM.prototype={constructor:dM},u(dM,cM);var fM=function(t,e,i,n,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type=\"radial\",this.global=o||!1,cM.call(this,n)};fM.prototype={constructor:fM},u(fM,cM),Gn.prototype.incremental=!0,Gn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Gn.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},Gn.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},Gn.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t\&\&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t\&\&t(this._temporaryDisplayables[e])},Gn.prototype.update=function(){this.updateTransform();for(t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Gn.prototype.brush=function(t,e){for(i=this._cursor;i<this._displayables.length;i++)(n=this._displayables[i]).beforeBrush\&\&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush\&\&n.afterBrush(t);this._cursor=i;for(var i=0;i<this._temporaryDisplayables.length;i++){var n=this._temporaryDisplayables[i];n.beforeBrush\&\&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush\&\&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var pM=[];Gn.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ue(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()\&\&n.applyTransform(i.getLocalTransform(pM)),t.union(n)}this._rect=t}return this._rect},Gn.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++)if(this._displayables[n].contain(t,e))return!0;return!1},u(Gn,ui);var gM=Math.round,mM=Math.max,vM=Math.min,yM={},xM=function(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath\&\&a.buildPath(a.path,a.shape,!0),i.push(a.path)}var r=new kn(e);return r.createPathProxy(),r.buildPath=function(t){t.appendPath(i);var e=t.getContext();e\&\&t.rebuildPath(e)},r},_M=R(),wM=0,bM=(Object.freeze||Object)({extendShape:Fn,extendPath:function(t,e){return Rn(t,e)},makePath:Wn,makeImage:Hn,mergePath:xM,resizePath:Un,subPixelOptimizeLine:Xn,subPixelOptimizeRect:jn,subPixelOptimize:Yn,setElementHoverStyle:no,isInEmphasis:oo,setHoverStyle:uo,setAsHoverStyleTrigger:ho,setLabelStyle:co,setTextStyle:fo,setText:function(t,e,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,po(t,e,o,n)},getFont:_o,updateProps:bo,initProps:So,getTransform:Mo,applyTransform:Io,transformDirection:To,groupTransition:Ao,clipPointsByRect:Do,clipRectByRect:function(t,e){var i=mM(t.x,e.x),n=vM(t.x+t.width,e.x+e.width),o=mM(t.y,e.y),a=vM(t.y+t.height,e.y+e.height);if(n>=i\&\&a>=o)return{x:i,y:o,width:n-i,height:a-o}},createIcon:Co,Group:Zw,Image:hi,Text:qS,Circle:KS,Sector:QS,Ring:tM,Polygon:nM,Polyline:oM,Rect:aM,Line:rM,BezierCurve:lM,Arc:uM,IncrementalDisplayable:Gn,CompoundPath:hM,LinearGradient:dM,RadialGradient:fM,BoundingRect:ue}),SM=[\"textStyle\",\"color\"],MM={getTextColor:function(t){var e=this.ecModel;return this.getShallow(\"color\")||(!t\&\&e?e.get(SM):null)},getFont:function(){return _o({fontStyle:this.getShallow(\"fontStyle\"),fontWeight:this.getShallow(\"fontWeight\"),fontSize:this.getShallow(\"fontSize\"),fontFamily:this.getShallow(\"fontFamily\")},this.ecModel)},getTextRect:function(t){return De(t,this.getFont(),this.getShallow(\"align\"),this.getShallow(\"verticalAlign\")||this.getShallow(\"baseline\"),this.getShallow(\"padding\"),this.getShallow(\"rich\"),this.getShallow(\"truncateText\"))}},IM=Wb([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"],[\"textPosition\"],[\"textAlign\"]]),TM={getItemStyle:function(t,e){var i=IM(this,t,e),n=this.getBorderLineDash();return n\&\&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get(\"borderType\");return\"solid\"===t||null==t?null:\"dashed\"===t?[5,5]:[1,1]}},AM=h,DM=Bi();Lo.prototype={constructor:Lo,init:null,mergeOption:function(t){n(this.option,t,!0)},get:function(t,e){return null==t?this.option:ko(this.option,this.parsePath(t),!e\&\&Po(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],o=!e\&\&Po(this,t);return null==n\&\&o\&\&(n=o.getShallow(t)),n},getModel:function(t,e){var i,n=null==t?this.option:ko(this.option,t=this.parsePath(t));return e=e||(i=Po(this,t))\&\&i.getModel(t),new Lo(n,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i(this.option))},setReadOnly:function(t){},parsePath:function(t){return\"string\"==typeof t\&\&(t=t.split(\".\")),t},customizeGetParent:function(t){DM(this).getParent=t},isAnimationEnabled:function(){if(!z_.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Xi(Lo),ji(Lo),AM(Lo,Zb),AM(Lo,Xb),AM(Lo,MM),AM(Lo,TM);var CM=0,LM=1e-4,kM=9007199254740991,PM=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?\$/,NM=(Object.freeze||Object)({linearMap:Eo,parsePercent:Ro,round:zo,asc:Bo,getPrecision:Vo,getPrecisionSafe:Go,getPixelPrecision:Fo,getPercentWithPrecision:Wo,MAX_SAFE_INTEGER:kM,remRadian:Ho,isRadianAroundZero:Zo,parseDate:Uo,quantity:Xo,nice:Yo,quantile:function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),o=+t[n-1],a=i-n;return a?o+a*(t[n]-o):o},reformIntervals:qo,isNumeric:Ko}),OM=L,EM=/([\&<>\"\'])/g,RM={\"\&\":\"\&amp;\",\"<\":\"\&lt;\",\">\":\"\&gt;\",\'\"\':\"\&quot;\",\"\'\":\"\&#39;\"},zM=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"],BM=function(t,e){return\"{\"+t+(null==e?\"\":e)+\"}\"},VM=Oe,GM=De,FM=(Object.freeze||Object)({addCommas:\$o,toCamelCase:Jo,normalizeCssArray:OM,encodeHTML:Qo,formatTpl:ta,formatTplSimple:ea,getTooltipMarker:ia,formatTime:oa,capitalFirst:aa,truncateText:VM,getTextRect:GM}),WM=d,HM=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],ZM=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]],UM=ra,XM=(v(ra,\"vertical\"),v(ra,\"horizontal\"),{getBoxLayoutParams:function(){return{left:this.get(\"left\"),top:this.get(\"top\"),right:this.get(\"right\"),bottom:this.get(\"bottom\"),width:this.get(\"width\"),height:this.get(\"height\")}}}),jM=Bi(),YM=Lo.extend({type:\"component\",id:\"\",name:\"\",mainType:\"\",subType:\"\",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,\$constructor:function(t,e,i,n){Lo.call(this,t,e,i,n),this.uid=No(\"ec_cpt_model\")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?da(t):{};n(t,e.getTheme().get(this.mainType)),n(t,this.getDefaultOption()),i\&\&ca(t,o,i)},mergeOption:function(t,e){n(this.option,t,!0);var i=this.layoutMode;i\&\&ca(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=jM(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var o=i.prototype.defaultOption;o\&\&e.push(o),i=i.superClass}for(var a={},r=e.length-1;r>=0;r--)a=n(a,e[r],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+\"Index\",!0),id:this.get(t+\"Id\",!0)})}});Ki(YM,{registerWhenExtend:!0}),function(t){var e={};t.registerSubTypeDefaulter=function(t,i){t=Zi(t),e[t.main]=i},t.determineSubType=function(i,n){var o=n.type;if(!o){var a=Zi(i).main;t.hasSubTypes(i)\&\&e[a]\&\&(o=e[a](n))}return o}}(YM),function(t,e){function i(t){var i={},a=[];return d(t,function(r){var s=n(i,r),u=o(s.originalDeps=e(r),t);s.entryCount=u.length,0===s.entryCount\&\&a.push(r),d(u,function(t){l(s.predecessor,t)<0\&\&s.predecessor.push(t);var e=n(i,t);l(e.successor,t)<0\&\&e.successor.push(r)})}),{graph:i,noEntryList:a}}function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var i=[];return d(t,function(t){l(e,t)>=0\&\&i.push(t)}),i}t.topologicalTravel=function(t,e,n,o){function a(t){s[t].entryCount--,0===s[t].entryCount\&\&l.push(t)}if(t.length){var r=i(e),s=r.graph,l=r.noEntryList,u={};for(d(t,function(t){u[t]=!0});l.length;){var h=l.pop(),c=s[h],f=!!u[h];f\&\&(n.call(o,h,c.originalDeps.slice()),delete u[h]),d(c.successor,f?function(t){u[t]=!0,a(t)}:a)}d(u,function(){throw new Error(\"Circle dependency may exists\")})}}}(YM,function(t){var e=[];return d(YM.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=f(e,function(t){return Zi(t).main}),\"dataset\"!==t\&\&l(e,\"dataset\")<=0\&\&e.unshift(\"dataset\"),e}),h(YM,XM);var qM=\"\";\"undefined\"!=typeof navigator\&\&(qM=navigator.platform||\"\");var KM={color:[\"#c23531\",\"#2f4554\",\"#61a0a8\",\"#d48265\",\"#91c7ae\",\"#749f83\",\"#ca8622\",\"#bda29a\",\"#6e7074\",\"#546570\",\"#c4ccd3\"],gradientColor:[\"#f6efa6\",\"#d88273\",\"#bf444c\"],textStyle:{fontFamily:qM.match(/^Win/)?\"Microsoft YaHei\":\"sans-serif\",fontSize:12,fontStyle:\"normal\",fontWeight:\"normal\"},blendMode:null,animation:\"auto\",animationDuration:1e3,animationDurationUpdate:300,animationEasing:\"exponentialOut\",animationEasingUpdate:\"cubicOut\",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},\$M=Bi(),JM={clearColorPalette:function(){\$M(this).colorIdx=0,\$M(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var n=\$M(e=e||this),o=n.colorIdx||0,a=n.colorNameMap=n.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var r=Di(this.get(\"color\",!0)),s=this.get(\"colorLayer\",!0),l=null!=i\&\&s?pa(s,i):r;if((l=l||r)\&\&l.length){var u=l[o];return t\&\&(a[t]=u),n.colorIdx=(o+1)%l.length,u}}},QM={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents(\"xAxis\")[0],a=t.getReferringComponents(\"yAxis\")[0];e.coordSysDims=[\"x\",\"y\"],i.set(\"x\",o),i.set(\"y\",a),ma(o)\&\&(n.set(\"x\",o),e.firstCategoryDimIndex=0),ma(a)\&\&(n.set(\"y\",a),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var o=t.getReferringComponents(\"singleAxis\")[0];e.coordSysDims=[\"single\"],i.set(\"single\",o),ma(o)\&\&(n.set(\"single\",o),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents(\"polar\")[0],a=o.findAxisModel(\"radiusAxis\"),r=o.findAxisModel(\"angleAxis\");e.coordSysDims=[\"radius\",\"angle\"],i.set(\"radius\",a),i.set(\"angle\",r),ma(a)\&\&(n.set(\"radius\",a),e.firstCategoryDimIndex=0),ma(r)\&\&(n.set(\"angle\",r),e.firstCategoryDimIndex=1)},geo:function(t,e,i,n){e.coordSysDims=[\"lng\",\"lat\"]},parallel:function(t,e,i,n){var o=t.ecModel,a=o.getComponent(\"parallel\",t.get(\"parallelIndex\")),r=e.coordSysDims=a.dimensions.slice();d(a.parallelAxisIndex,function(t,a){var s=o.getComponent(\"parallelAxis\",t),l=r[a];i.set(l,s),ma(s)\&\&null==e.firstCategoryDimIndex\&\&(n.set(l,s),e.firstCategoryDimIndex=a)})}},tI=\"original\",eI=\"arrayRows\",iI=\"objectRows\",nI=\"keyedColumns\",oI=\"unknown\",aI=\"typedArray\",rI=\"column\",sI=\"row\";va.seriesDataToSource=function(t){return new va({data:t,sourceFormat:S(t)?aI:tI,fromDataset:!1})},ji(va);var lI=Bi(),uI=\"\\0_ec_inner\",hI=Lo.extend({init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new Lo(i),this._optionManager=n},setOption:function(t,e){k(!(uI in t),\"please use chart.getOption()\"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||\"recreate\"===t){var n=i.mountOption(\"recreate\"===t);this.option\&\&\"recreate\"!==t?(this.restoreData(),this.mergeOption(n)):Pa.call(this,n),e=!0}if(\"timeline\"!==t\&\&\"media\"!==t||this.restoreData(),!t||\"recreate\"===t||\"timeline\"===t){var o=i.getTimelineOption(this);o\&\&(this.mergeOption(o),e=!0)}if(!t||\"recreate\"===t||\"media\"===t){var a=i.getMediaOption(this,this._api);a.length\&\&d(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,o=this._componentsMap,r=[];_a(this),d(t,function(t,o){null!=t\&\&(YM.hasClass(o)?o\&\&r.push(o):e[o]=null==e[o]?i(t):n(e[o],t,!0))}),YM.topologicalTravel(r,YM.getAllClassMainTypes(),function(i,n){var r=Di(t[i]),s=Pi(o.get(i),r);Ni(s),d(s,function(t,e){var n=t.option;w(n)\&\&(t.keyInfo.mainType=i,t.keyInfo.subType=Oa(i,n,t.exist))});var l=Na(o,n);e[i]=[],o.set(i,[]),d(s,function(t,n){var r=t.exist,s=t.option;if(k(w(s)||r,\"Empty component definition\"),s){var u=YM.getClass(i,t.keyInfo.subType,!0);if(r\&\&r instanceof u)r.name=t.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var h=a({dependentModels:l,componentIndex:n},t.keyInfo);a(r=new u(s,this,this,h),h),r.init(s,this,this,h),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);o.get(i)[n]=r,e[i][n]=r.option},this),\"series\"===i\&\&Ea(this,o.get(\"series\"))},this),this._seriesIndicesMap=R(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=i(this.option);return d(t,function(e,i){if(YM.hasClass(i)){for(var n=(e=Di(e)).length-1;n>=0;n--)Ei(e[n])\&\&e.splice(n,1);t[i]=e}}),delete t[uI],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,o=t.name,a=this._componentsMap.get(e);if(!a||!a.length)return[];var r;if(null!=i)y(i)||(i=[i]),r=g(f(i,function(t){return a[t]}),function(t){return!!t});else if(null!=n){var s=y(n);r=g(a,function(t){return s\&\&l(n,t.id)>=0||!s\&\&t.id===n})}else if(null!=o){var u=y(o);r=g(a,function(t){return u\&\&l(o,t.name)>=0||!u\&\&t.name===o})}else r=a.slice();return Ra(r,t)},findComponents:function(t){var e=t.query,i=t.mainType,n=function(t){var e=i+\"Index\",n=i+\"Id\",o=i+\"Name\";return!t||null==t[e]\&\&null==t[n]\&\&null==t[o]?null:{mainType:i,index:t[e],id:t[n],name:t[o]}}(e);return function(e){return t.filter?g(e,t.filter):e}(Ra(n?this.queryComponents(n):this._componentsMap.get(i),t))},eachComponent:function(t,e,i){var n=this._componentsMap;\"function\"==typeof t?(i=e,e=t,n.each(function(t,n){d(t,function(t,o){e.call(i,n,t,o)})})):_(t)?d(n.get(t),e,i):w(t)\&\&d(this.findComponents(t),e,i)},getSeriesByName:function(t){return g(this._componentsMap.get(\"series\"),function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get(\"series\")[t]},getSeriesByType:function(t){return g(this._componentsMap.get(\"series\"),function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get(\"series\").slice()},getSeriesCount:function(){return this._componentsMap.get(\"series\").length},eachSeries:function(t,e){d(this._seriesIndices,function(i){var n=this._componentsMap.get(\"series\")[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){d(this._componentsMap.get(\"series\"),t,e)},eachSeriesByType:function(t,e,i){d(this._seriesIndices,function(n){var o=this._componentsMap.get(\"series\")[n];o.subType===t\&\&e.call(i,o,n)},this)},eachRawSeriesByType:function(t,e,i){return d(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Ea(this,g(this._componentsMap.get(\"series\"),t,e))},restoreData:function(t){var e=this._componentsMap;Ea(this,e.get(\"series\"));var i=[];e.each(function(t,e){i.push(e)}),YM.topologicalTravel(i,YM.getAllClassMainTypes(),function(i,n){d(e.get(i),function(e){(\"series\"!==i||!La(e,t))\&\&e.restoreData()})})}});h(hI,JM);var cI=[\"getDom\",\"getZr\",\"getWidth\",\"getHeight\",\"getDevicePixelRatio\",\"dispatchAction\",\"isDisposed\",\"on\",\"off\",\"getDataURL\",\"getConnectedDataURL\",\"getModel\",\"getOption\",\"getViewOfComponentModel\",\"getViewOfSeriesModel\"],dI={};Ba.prototype={constructor:Ba,create:function(t,e){var i=[];d(dI,function(n,o){var a=n.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},update:function(t,e){d(this._coordinateSystems,function(i){i.update\&\&i.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ba.register=function(t,e){dI[t]=e},Ba.get=function(t){return dI[t]};var fI=d,pI=i,gI=f,mI=n,vI=/^(min|max)?(.+)\$/;Va.prototype={constructor:Va,setOption:function(t,e){t\&\&d(Di(t.series),function(t){t\&\&t.data\&\&S(t.data)\&\&N(t.data)}),t=pI(t,!0);var i=this._optionBackup,n=Ga.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(Za(i.baseOption,n.baseOption),n.timelineOptions.length\&\&(i.timelineOptions=n.timelineOptions),n.mediaList.length\&\&(i.mediaList=n.mediaList),n.mediaDefault\&\&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=gI(e.timelineOptions,pI),this._mediaList=gI(e.mediaList,pI),this._mediaDefault=pI(e.mediaDefault),this._currentMediaIndices=[],pI(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent(\"timeline\");n\&\&(e=pI(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,a=[],r=[];if(!n.length\&\&!o)return r;for(var s=0,l=n.length;s<l;s++)Fa(n[s].query,e,i)\&\&a.push(s);return!a.length\&\&o\&\&(a=[-1]),a.length\&\&!Ha(a,this._currentMediaIndices)\&\&(r=gI(a,function(t){return pI(-1===t?o.option:n[t].option)})),this._currentMediaIndices=a,r}};var yI=d,xI=w,_I=[\"areaStyle\",\"lineStyle\",\"nodeStyle\",\"linkStyle\",\"chordStyle\",\"label\",\"labelLine\"],wI=function(t,e){yI(\$a(t.series),function(t){xI(t)\&\&Ka(t)});var i=[\"xAxis\",\"yAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"parallelAxis\",\"radar\"];e\&\&i.push(\"valueAxis\",\"categoryAxis\",\"logAxis\",\"timeAxis\"),yI(i,function(e){yI(\$a(t[e]),function(t){t\&\&(Ya(t,\"axisLabel\"),Ya(t.axisPointer,\"label\"))})}),yI(\$a(t.parallel),function(t){var e=t\&\&t.parallelAxisDefault;Ya(e,\"axisLabel\"),Ya(e\&\&e.axisPointer,\"label\")}),yI(\$a(t.calendar),function(t){Xa(t,\"itemStyle\"),Ya(t,\"dayLabel\"),Ya(t,\"monthLabel\"),Ya(t,\"yearLabel\")}),yI(\$a(t.radar),function(t){Ya(t,\"name\")}),yI(\$a(t.geo),function(t){xI(t)\&\&(qa(t),yI(\$a(t.regions),function(t){qa(t)}))}),yI(\$a(t.timeline),function(t){qa(t),Xa(t,\"label\"),Xa(t,\"itemStyle\"),Xa(t,\"controlStyle\",!0);var e=t.data;y(e)\&\&d(e,function(t){w(t)\&\&(Xa(t,\"label\"),Xa(t,\"itemStyle\"))})}),yI(\$a(t.toolbox),function(t){Xa(t,\"iconStyle\"),yI(t.feature,function(t){Xa(t,\"iconStyle\")})}),Ya(Ja(t.axisPointer),\"label\"),Ya(Ja(t.tooltip).axisPointer,\"label\")},bI=[[\"x\",\"left\"],[\"y\",\"top\"],[\"x2\",\"right\"],[\"y2\",\"bottom\"]],SI=[\"grid\",\"geo\",\"parallel\",\"legend\",\"toolbox\",\"title\",\"visualMap\",\"dataZoom\",\"timeline\"],MI=function(t,e){wI(t,e),t.series=Di(t.series),d(t.series,function(t){if(w(t)){var e=t.type;if(\"pie\"!==e\&\&\"gauge\"!==e||null!=t.clockWise\&\&(t.clockwise=t.clockWise),\"gauge\"===e){var i=Qa(t,\"pointer.color\");null!=i\&\&tr(t,\"itemStyle.normal.color\",i)}er(t)}}),t.dataRange\&\&(t.visualMap=t.dataRange),d(SI,function(e){var i=t[e];i\&\&(y(i)||(i=[i]),d(i,function(t){er(t)}))})},II=nr.prototype;II.pure=!1,II.persistent=!0,II.getSource=function(){return this._source};var TI={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:rr},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var o=i[n];e.push(o?o[t]:null)}return e},appendData:function(){throw new Error(\'Do not support appendData when set seriesLayoutBy: \"row\".\')}},objectRows:{pure:!0,count:or,getItem:ar,appendData:rr},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];e.push(o?o[t]:null)}return e},appendData:function(t){var e=this._data;d(t,function(t,i){for(var n=e[i]||(e[i]=[]),o=0;o<(t||[]).length;o++)n.push(t[o])})}},original:{count:or,getItem:ar,appendData:rr},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},AI={arrayRows:sr,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:sr,original:function(t,e,i,n){var o=Li(t);return null!=i\&\&o instanceof Array?o[i]:o},typedArray:sr},DI={arrayRows:lr,objectRows:function(t,e,i,n){return ur(t[e],this._dimensionInfos[e])},keyedColumns:lr,original:function(t,e,i,n){var o=t\&\&(null==t.value?t:t.value);return!this._rawData.pure\&\&ki(t)\&\&(this.hasItemOption=!0),ur(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},CI=/\\{@(.+?)\\}/g,LI={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),r=i.getRawDataItem(t),s=i.getItemVisual(t,\"color\"),l=this.ecModel.getComponent(\"tooltip\"),u=Hi(l\&\&l.get(\"renderMode\")),h=this.mainType,c=\"series\"===h;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:a,dataIndex:o,data:r,dataType:e,value:n,color:s,marker:ia({color:s,renderMode:u}),\$vars:[\"seriesName\",\"name\",\"value\"]}},getFormattedLabel:function(t,e,i,n,o){e=e||\"normal\";var a=this.getData(i),r=a.getItemModel(t),s=this.getDataParams(t,i);null!=n\&\&s.value instanceof Array\&\&(s.value=s.value[n]);var l=r.get(\"normal\"===e?[o||\"label\",\"formatter\"]:[e,o||\"label\",\"formatter\"]);return\"function\"==typeof l?(s.status=e,l(s)):\"string\"==typeof l?ta(l,s).replace(CI,function(e,i){var n=i.length;return\"[\"===i.charAt(0)\&\&\"]\"===i.charAt(n-1)\&\&(i=+i.slice(1,n-1)),hr(a,t,i)}):void 0},getRawValue:function(t,e){return hr(this.getData(e),t)},formatTooltip:function(){}},kI=fr.prototype;kI.perform=function(t){function e(t){return!(t>=1)\&\&(t=1),t}var i=this._upstream,n=t\&\&t.skip;if(this._dirty\&\&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline\&\&(this.__pipeline.currentTask=this);var a;this._plan\&\&!n\&\&(a=this._plan(this.context));var r=e(this._modBy),s=this._modDataCount||0,l=e(t\&\&t.modBy),u=t\&\&t.modDataCount||0;r===l\&\&s===u||(a=\"reset\");var h;(this._dirty||\"reset\"===a)\&\&(this._dirty=!1,h=gr(this,n)),this._modBy=l,this._modDataCount=u;var c=t\&\&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!n\&\&(h||d<f)){var p=this._progress;if(y(p))for(var g=0;g<p.length;g++)pr(this,p[g],d,f,l,u);else pr(this,p,d,f,l,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var PI=function(){function t(){return n<i?n++:null}function e(){var t=n%r*o+Math.ceil(n/r),e=n>=i?null:t<a?t:n;return n++,e}var i,n,o,a,r,s={reset:function(l,u,h,c){n=l,i=u,o=h,a=c,r=Math.ceil(a/o),s.next=o>1\&\&a>0?e:t}};return s}();kI.dirty=function(){this._dirty=!0,this._onDirty\&\&this._onDirty(this.context)},kI.unfinished=function(){return this._progress\&\&this._dueIndex<this._dueEnd},kI.pipe=function(t){(this._downstream!==t||this._dirty)\&\&(this._downstream=t,t._upstream=this,t.dirty())},kI.dispose=function(){this._disposed||(this._upstream\&\&(this._upstream._downstream=null),this._downstream\&\&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},kI.getUpstream=function(){return this._upstream},kI.getDownstream=function(){return this._downstream},kI.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var NI=Bi(),OI=YM.extend({type:\"series.__base__\",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:\"itemStyle.color\",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=dr({count:yr,reset:xr}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),wa(this);var o=this.getInitialData(t,i);wr(o,this),this.dataTask.context.data=o,NI(this).dataBeforeProcessed=o,mr(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?da(t):{},a=this.subType;YM.hasClass(a)\&\&(a+=\"Series\"),n(t,e.getTheme().get(this.subType)),n(t,this.getDefaultOption()),Ci(t,\"label\",[\"show\"]),this.fillDataTextStyle(t.data),i\&\&ca(t,o,i)},mergeOption:function(t,e){t=n(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i\&\&ca(this.option,t,i),wa(this);var o=this.getInitialData(t,e);wr(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,NI(this).dataBeforeProcessed=o,mr(this)},fillDataTextStyle:function(t){if(t\&\&!S(t))for(var e=[\"show\"],i=0;i<t.length;i++)t[i]\&\&t[i].label\&\&Ci(t[i],\"label\",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=Sr(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return NI(this).data},setData:function(t){var e=Sr(this);if(e){var i=e.context;i.data!==t\&\&e.modifyOutputEnd\&\&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask\&\&(i.data=t)}NI(this).data=t},getSource:function(){return xa(this)},getRawData:function(){return NI(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t\&\&t.getBaseAxis\&\&t.getBaseAxis()},formatTooltip:function(t,e,i,n){function o(t){return{renderMode:n,content:Qo(\$o(t)),style:l}}var a=this,r=\"html\"===(n=n||\"html\")?\"<br/>\":\"\\n\",s=\"richText\"===n,l={},u=0,h=this.getData(),c=h.mapDimension(\"defaultedTooltip\",!0),f=c.length,g=this.getRawValue(t),m=y(g),v=h.getItemVisual(t,\"color\");w(v)\&\&v.colorStops\&\&(v=(v.colorStops[0]||{}).color),v=v||\"transparent\";var x=(f>1||m\&\&!f?function(i){function o(t,i){var o=h.getDimensionInfo(i);if(o\&\&!1!==o.otherDims.tooltip){var c=o.type,d=\"sub\"+a.seriesIndex+\"at\"+u,p=ia({color:v,type:\"subItem\",renderMode:n,markerId:d}),g=\"string\"==typeof p?p:p.content,m=(r?g+Qo(o.displayName||\"-\")+\": \":\"\")+Qo(\"ordinal\"===c?t+\"\":\"time\"===c?e?\"\":oa(\"yyyy/MM/dd hh:mm:ss\",t):\$o(t));m\&\&f.push(m),s\&\&(l[d]=v,++u)}}var r=p(i,function(t,e,i){var n=h.getDimensionInfo(i);return t|=n\&\&!1!==n.tooltip\&\&null!=n.displayName},0),f=[];c.length?d(c,function(e){o(hr(h,t,e),e)}):d(i,o);var g=r?s?\"\\n\":\"<br/>\":\"\",m=g+f.join(g||\", \");return{renderMode:n,content:m,style:l}}(g):o(f?hr(h,t,c[0]):m?g[0]:g)).content,_=a.seriesIndex+\"at\"+u,b=ia({color:v,type:\"item\",renderMode:n,markerId:_});l[_]=v,++u;var S=h.getName(t),M=this.name;Oi(this)||(M=\"\"),M=M?Qo(M)+(e?\": \":r):\"\";var I=\"string\"==typeof b?b:b.content;return{html:e?I+M+x:M+I+(S?Qo(S)+\": \"+x:x),markers:l}},isAnimationEnabled:function(){if(z_.node)return!1;var t=this.getShallow(\"animation\");return t\&\&this.getData().count()>this.getShallow(\"animationThreshold\")\&\&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,o=JM.getColorFromPalette.call(this,t,e,i);return o||(o=n.getColorFromPalette(t,e,i)),o},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get(\"progressive\")},getProgressiveThreshold:function(){return this.get(\"progressiveThreshold\")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});h(OI,LI),h(OI,JM);var EI=function(){this.group=new Zw,this.uid=No(\"viewComponent\")};EI.prototype={constructor:EI,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){},filterForExposedEvent:null};var RI=EI.prototype;RI.updateView=RI.updateLayout=RI.updateVisual=function(t,e,i,n){},Xi(EI),Ki(EI,{registerWhenExtend:!0});var zI=function(){var t=Bi();return function(e){var i=t(e),n=e.pipelineContext,o=i.large,a=i.progressiveRender,r=i.large=n.large,s=i.progressiveRender=n.progressiveRender;return!!(o^r||a^s)\&\&\"reset\"}},BI=Bi(),VI=zI();Mr.prototype={type:\"chart\",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){Tr(t.getData(),n,\"emphasis\")},downplay:function(t,e,i,n){Tr(t.getData(),n,\"normal\")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var GI=Mr.prototype;GI.updateView=GI.updateLayout=GI.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},Xi(Mr),Ki(Mr,{registerWhenExtend:!0}),Mr.markUpdateMethod=function(t,e){BI(t).updateMethod=e};var FI={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},WI=\"\\0__throttleOriginMethod\",HI=\"\\0__throttleRate\",ZI=\"\\0__throttleType\",UI={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=(t.visualColorAccessPath||\"itemStyle.color\").split(\".\"),o=t.get(n)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(i.setVisual(\"color\",o),!e.isSeriesFiltered(t)){\"function\"!=typeof o||o instanceof cM||i.each(function(e){i.setItemVisual(e,\"color\",o(t.getDataParams(e)))});return{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e).get(n,!0);null!=i\&\&t.setItemVisual(e,\"color\",i)}:null}}}},XI={toolbox:{brush:{title:{rect:\"çŸ©å½¢é€‰æ‹©\",polygon:\"åœˆé€‰\",lineX:\"æ¨ªå‘é€‰æ‹©\",lineY:\"çºµå‘é€‰æ‹©\",keep:\"ä¿æŒé€‰æ‹©\",clear:\"æ¸…é™¤é€‰æ‹©\"}},dataView:{title:\"æ•°æ®è§†å›¾\",lang:[\"æ•°æ®è§†å›¾\",\"å…³é—­\",\"åˆ·æ–°\"]},dataZoom:{title:{zoom:\"åŒºåŸŸç¼©æ”¾\",back:\"åŒºåŸŸç¼©æ”¾è¿˜åŽŸ\"}},magicType:{title:{line:\"åˆ‡æ¢ä¸ºæŠ˜çº¿å›¾\",bar:\"åˆ‡æ¢ä¸ºæŸ±çŠ¶å›¾\",stack:\"åˆ‡æ¢ä¸ºå †å \",tiled:\"åˆ‡æ¢ä¸ºå¹³é“º\"}},restore:{title:\"è¿˜åŽŸ\"},saveAsImage:{title:\"ä¿å­˜ä¸ºå›¾ç‰‡\",lang:[\"å³é”®å¦å­˜ä¸ºå›¾ç‰‡\"]}},series:{typeNames:{pie:\"é¥¼å›¾\",bar:\"æŸ±çŠ¶å›¾\",line:\"æŠ˜çº¿å›¾\",scatter:\"æ•£ç‚¹å›¾\",effectScatter:\"æ¶Ÿæ¼ªæ•£ç‚¹å›¾\",radar:\"é›·è¾¾å›¾\",tree:\"æ ‘å›¾\",treemap:\"çŸ©å½¢æ ‘å›¾\",boxplot:\"ç®±åž‹å›¾\",candlestick:\"Kçº¿å›¾\",k:\"Kçº¿å›¾\",heatmap:\"çƒ­åŠ›å›¾\",map:\"åœ°å›¾\",parallel:\"å¹³è¡Œåæ ‡å›¾\",lines:\"çº¿å›¾\",graph:\"å…³ç³»å›¾\",sankey:\"æ¡‘åŸºå›¾\",funnel:\"æ¼æ–—å›¾\",gauge:\"ä»ªè¡¨ç›˜å›¾\",pictorialBar:\"è±¡å½¢æŸ±å›¾\",themeRiver:\"ä¸»é¢˜æ²³æµå›¾\",sunburst:\"æ—­æ—¥å›¾\"}},aria:{general:{withTitle:\"è¿™æ˜¯ä¸€ä¸ªå…³äºŽâ€œ{title}â€çš„å›¾è¡¨ã€‚\",withoutTitle:\"è¿™æ˜¯ä¸€ä¸ªå›¾è¡¨ï¼Œ\"},series:{single:{prefix:\"\",withName:\"å›¾è¡¨ç±»åž‹æ˜¯{seriesType}ï¼Œè¡¨ç¤º{seriesName}ã€‚\",withoutName:\"å›¾è¡¨ç±»åž‹æ˜¯{seriesType}ã€‚\"},multiple:{prefix:\"å®ƒç”±{seriesCount}ä¸ªå›¾è¡¨ç³»åˆ—ç»„æˆã€‚\",withName:\"ç¬¬{seriesId}ä¸ªç³»åˆ—æ˜¯ä¸€ä¸ªè¡¨ç¤º{seriesName}çš„{seriesType}ï¼Œ\",withoutName:\"ç¬¬{seriesId}ä¸ªç³»åˆ—æ˜¯ä¸€ä¸ª{seriesType}ï¼Œ\",separator:{middle:\"ï¼›\",end:\"ã€‚\"}}},data:{allData:\"å…¶æ•°æ®æ˜¯â€”â€”\",partialData:\"å…¶ä¸­ï¼Œå‰{displayCnt}é¡¹æ˜¯â€”â€”\",withName:\"{name}çš„æ•°æ®æ˜¯{value}\",withoutName:\"{value}\",separator:{middle:\"ï¼Œ\",end:\"\"}}}},jI=function(t,e){function i(t,e){if(\"string\"!=typeof t)return t;var i=t;return d(e,function(t,e){i=i.replace(new RegExp(\"\\\\{\\\\s*\"+e+\"\\\\s*\\\\}\",\"g\"),t)}),i}function n(t){var e=a.get(t);if(null==e){for(var i=t.split(\".\"),n=XI.aria,o=0;o<i.length;++o)n=n[i[o]];return n}return e}function o(t){return XI.series.typeNames[t]||\"è‡ªå®šä¹‰å›¾\"}var a=e.getModel(\"aria\");if(a.get(\"show\"))if(a.get(\"description\"))t.setAttribute(\"aria-label\",a.get(\"description\"));else{var r=0;e.eachSeries(function(t,e){++r},this);var s,l=a.get(\"data.maxCount\")||10,u=a.get(\"series.maxCount\")||10,h=Math.min(r,u);if(!(r<1)){var c=function(){var t=e.getModel(\"title\").option;return t\&\&t.length\&\&(t=t[0]),t\&\&t.text}();s=c?i(n(\"general.withTitle\"),{title:c}):n(\"general.withoutTitle\");var f=[];s+=i(n(r>1?\"series.multiple.prefix\":\"series.single.prefix\"),{seriesCount:r}),e.eachSeries(function(t,e){if(e<h){var a,s=t.get(\"name\"),u=\"series.\"+(r>1?\"multiple\":\"single\")+\".\";a=i(a=n(s?u+\"withName\":u+\"withoutName\"),{seriesId:t.seriesIndex,seriesName:t.get(\"name\"),seriesType:o(t.subType)});var c=t.getData();window.data=c,c.count()>l?a+=i(n(\"data.partialData\"),{displayCnt:l}):a+=n(\"data.allData\");for(var d=[],p=0;p<c.count();p++)if(p<l){var g=c.getName(p),m=hr(c,p);d.push(i(n(g?\"data.withName\":\"data.withoutName\"),{name:g,value:m}))}a+=d.join(n(\"data.separator.middle\"))+n(\"data.separator.end\"),f.push(a)}}),s+=f.join(n(\"series.multiple.separator.middle\"))+n(\"series.multiple.separator.end\"),t.setAttribute(\"aria-label\",s)}}},YI=Math.PI,qI=Pr.prototype;qI.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e\&\&e.dirty()})},qI.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,o=!e\&\&i.progressiveEnabled\&\&(!n||n.progressiveRender)\&\&t.__idxInPipeline>i.blockIndex?i.step:null,a=n\&\&n.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},qI.getPipeline=function(t){return this._pipelineMap.get(t)},qI.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),o=i.progressiveEnabled\&\&e.incrementalPrepareRender\&\&n>=i.threshold,a=t.get(\"large\")\&\&n>=t.get(\"largeThreshold\"),r=\"mod\"===t.get(\"progressiveChunkMode\")?n:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:r,large:a}},qI.restorePipelines=function(t){var e=this,i=e._pipelineMap=R();t.eachSeries(function(t){var n=t.getProgressive(),o=t.uid;i.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n\&\&!(t.preventIncremental\&\&t.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),Zr(e,t,t.dataTask)})},qI.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),i=this.api;d(this._allHandlers,function(n){var o=t.get(n.uid)||t.set(n.uid,[]);n.reset\&\&Or(this,n,o,e,i),n.overallReset\&\&Er(this,n,o,e,i)},this)},qI.prepareView=function(t,e,i,n){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=n,o.__block=!t.incrementalPrepareRender,Zr(this,e,o)},qI.performDataProcessorTasks=function(t,e){Nr(this,this._dataProcessorHandlers,t,e,{block:!0})},qI.performVisualTasks=function(t,e,i){Nr(this,this._visualHandlers,t,e,i)},qI.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},qI.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var KI=qI.updatePayload=function(t,e){\"remain\"!==e\&\&(t.context.payload=e)},\$I=Wr(0);Pr.wrapStageHandler=function(t,e){return x(t)\&\&(t={overallReset:t,seriesType:Ur(t)}),t.uid=No(\"stageHandler\"),e\&\&(t.visualType=e),t};var JI,QI={},tT={};Xr(QI,hI),Xr(tT,za),QI.eachSeriesByType=QI.eachRawSeriesByType=function(t){JI=t},QI.eachComponent=function(t){\"series\"===t.mainType\&\&t.subType\&\&(JI=t.subType)};var eT=[\"#37A2DA\",\"#32C5E9\",\"#67E0E3\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#E062AE\",\"#E690D1\",\"#e7bcf3\",\"#9d96f5\",\"#8378EA\",\"#96BFFF\"],iT={color:eT,colorLayer:[[\"#37A2DA\",\"#ffd85c\",\"#fd7b5f\"],[\"#37A2DA\",\"#67E0E3\",\"#FFDB5C\",\"#ff9f7f\",\"#E062AE\",\"#9d96f5\"],[\"#37A2DA\",\"#32C5E9\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#e7bcf3\",\"#8378EA\",\"#96BFFF\"],eT]},nT=[\"#dd6b66\",\"#759aa0\",\"#e69d87\",\"#8dc1a9\",\"#ea7e53\",\"#eedd78\",\"#73a373\",\"#73b9bc\",\"#7289ab\",\"#91ca8c\",\"#f49f42\"],oT={color:nT,backgroundColor:\"#333\",tooltip:{axisPointer:{lineStyle:{color:\"#eee\"},crossStyle:{color:\"#eee\"}}},legend:{textStyle:{color:\"#eee\"}},textStyle:{color:\"#eee\"},title:{textStyle:{color:\"#eee\"}},toolbox:{iconStyle:{normal:{borderColor:\"#eee\"}}},dataZoom:{textStyle:{color:\"#eee\"}},visualMap:{textStyle:{color:\"#eee\"}},timeline:{lineStyle:{color:\"#eee\"},itemStyle:{normal:{color:nT[1]}},label:{normal:{textStyle:{color:\"#eee\"}}},controlStyle:{normal:{color:\"#eee\",borderColor:\"#eee\"}}},timeAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},logAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},valueAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},categoryAxis:{axisLine:{lineStyle:{color:\"#eee\"}},axisTick:{lineStyle:{color:\"#eee\"}},axisLabel:{textStyle:{color:\"#eee\"}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:\"#eee\"}}},line:{symbol:\"circle\"},graph:{color:nT},gauge:{title:{textStyle:{color:\"#eee\"}}},candlestick:{itemStyle:{normal:{color:\"#FD1050\",color0:\"#0CF49B\",borderColor:\"#FD1050\",borderColor0:\"#0CF49B\"}}}};oT.categoryAxis.splitLine.show=!1,YM.extend({type:\"dataset\",defaultOption:{seriesLayoutBy:rI,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){ya(this)}}),EI.extend({type:\"dataset\"});var aT=kn.extend({type:\"ellipse\",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=.5522848,n=e.cx,o=e.cy,a=e.rx,r=e.ry,s=a*i,l=r*i;t.moveTo(n-a,o),t.bezierCurveTo(n-a,o-l,n-s,o-r,n,o-r),t.bezierCurveTo(n+s,o-r,n+a,o-l,n+a,o),t.bezierCurveTo(n+a,o+l,n+s,o+r,n,o+r),t.bezierCurveTo(n-s,o+r,n-a,o+l,n-a,o),t.closePath()}}),rT=/[\\s,]+/;Yr.prototype.parse=function(t,e){e=e||{};var i=jr(t);if(!i)throw new Error(\"Illegal svg\");var n=new Zw;this._root=n;var o=i.getAttribute(\"viewBox\")||\"\",a=parseFloat(i.getAttribute(\"width\")||e.width),r=parseFloat(i.getAttribute(\"height\")||e.height);isNaN(a)\&\&(a=null),isNaN(r)\&\&(r=null),Jr(i,n,null,!0);for(var s=i.firstChild;s;)this._parseNode(s,n),s=s.nextSibling;var l,u;if(o){var h=P(o).split(rT);h.length>=4\&\&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l\&\&null!=a\&\&null!=r\&\&(u=is(l,a,r),!e.ignoreViewBox)){var c=n;(n=new Zw).add(c),c.scale=u.scale.slice(),c.position=u.position.slice()}return e.ignoreRootClip||null==a||null==r||n.setClipPath(new aM({shape:{x:0,y:0,width:a,height:r}})),{root:n,width:a,height:r,viewBoxRect:l,viewBoxTransform:u}},Yr.prototype._parseNode=function(t,e){var i=t.nodeName.toLowerCase();\"defs\"===i?this._isDefine=!0:\"text\"===i\&\&(this._isText=!0);var n;if(this._isDefine){if(r=lT[i]){var o=r.call(this,t),a=t.getAttribute(\"id\");a\&\&(this._defs[a]=o)}}else{var r=sT[i];r\&\&(n=r.call(this,t,e),e.add(n))}for(var s=t.firstChild;s;)1===s.nodeType\&\&this._parseNode(s,n),3===s.nodeType\&\&this._isText\&\&this._parseText(s,n),s=s.nextSibling;\"defs\"===i?this._isDefine=!1:\"text\"===i\&\&(this._isText=!1)},Yr.prototype._parseText=function(t,e){if(1===t.nodeType){var i=t.getAttribute(\"dx\")||0,n=t.getAttribute(\"dy\")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(n)}var o=new qS({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Kr(e,o),Jr(t,o,this._defs);var a=o.style.fontSize;a\&\&a<9\&\&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=a/9,o.scale[1]*=a/9);var r=o.getBoundingRect();return this._textX+=r.width,e.add(o),o};var sT={g:function(t,e){var i=new Zw;return Kr(e,i),Jr(t,i,this._defs),i},rect:function(t,e){var i=new aM;return Kr(e,i),Jr(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute(\"x\")||0),y:parseFloat(t.getAttribute(\"y\")||0),width:parseFloat(t.getAttribute(\"width\")||0),height:parseFloat(t.getAttribute(\"height\")||0)}),i},circle:function(t,e){var i=new KS;return Kr(e,i),Jr(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute(\"cx\")||0),cy:parseFloat(t.getAttribute(\"cy\")||0),r:parseFloat(t.getAttribute(\"r\")||0)}),i},line:function(t,e){var i=new rM;return Kr(e,i),Jr(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute(\"x1\")||0),y1:parseFloat(t.getAttribute(\"y1\")||0),x2:parseFloat(t.getAttribute(\"x2\")||0),y2:parseFloat(t.getAttribute(\"y2\")||0)}),i},ellipse:function(t,e){var i=new aT;return Kr(e,i),Jr(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute(\"cx\")||0),cy:parseFloat(t.getAttribute(\"cy\")||0),rx:parseFloat(t.getAttribute(\"rx\")||0),ry:parseFloat(t.getAttribute(\"ry\")||0)}),i},polygon:function(t,e){var i=t.getAttribute(\"points\");i\&\&(i=\$r(i));var n=new nM({shape:{points:i||[]}});return Kr(e,n),Jr(t,n,this._defs),n},polyline:function(t,e){var i=new kn;Kr(e,i),Jr(t,i,this._defs);var n=t.getAttribute(\"points\");return n\&\&(n=\$r(n)),new oM({shape:{points:n||[]}})},image:function(t,e){var i=new hi;return Kr(e,i),Jr(t,i,this._defs),i.setStyle({image:t.getAttribute(\"xlink:href\"),x:t.getAttribute(\"x\"),y:t.getAttribute(\"y\"),width:t.getAttribute(\"width\"),height:t.getAttribute(\"height\")}),i},text:function(t,e){var i=t.getAttribute(\"x\")||0,n=t.getAttribute(\"y\")||0,o=t.getAttribute(\"dx\")||0,a=t.getAttribute(\"dy\")||0;this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(a);var r=new Zw;return Kr(e,r),Jr(t,r,this._defs),r},tspan:function(t,e){var i=t.getAttribute(\"x\"),n=t.getAttribute(\"y\");null!=i\&\&(this._textX=parseFloat(i)),null!=n\&\&(this._textY=parseFloat(n));var o=t.getAttribute(\"dx\")||0,a=t.getAttribute(\"dy\")||0,r=new Zw;return Kr(e,r),Jr(t,r,this._defs),this._textX+=o,this._textY+=a,r},path:function(t,e){var i=En(t.getAttribute(\"d\")||\"\");return Kr(e,i),Jr(t,i,this._defs),i}},lT={lineargradient:function(t){var e=parseInt(t.getAttribute(\"x1\")||0,10),i=parseInt(t.getAttribute(\"y1\")||0,10),n=parseInt(t.getAttribute(\"x2\")||10,10),o=parseInt(t.getAttribute(\"y2\")||0,10),a=new dM(e,i,n,o);return qr(t,a),a},radialgradient:function(t){}},uT={fill:\"fill\",stroke:\"stroke\",\"stroke-width\":\"lineWidth\",opacity:\"opacity\",\"fill-opacity\":\"fillOpacity\",\"stroke-opacity\":\"strokeOpacity\",\"stroke-dasharray\":\"lineDash\",\"stroke-dashoffset\":\"lineDashOffset\",\"stroke-linecap\":\"lineCap\",\"stroke-linejoin\":\"lineJoin\",\"stroke-miterlimit\":\"miterLimit\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"font-style\":\"fontStyle\",\"font-weight\":\"fontWeight\",\"text-align\":\"textAlign\",\"alignment-baseline\":\"textBaseline\"},hT=/url\\(\\s*#(.*?)\\)/,cT=/(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g,dT=/([^\\s:;]+)\\s*:\\s*([^:;]+)/g,fT=R(),pT={registerMap:function(t,e,i){var n;return y(e)?n=e:e.svg?n=[{type:\"svg\",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson\&\&!e.features\&\&(i=e.specialAreas,e=e.geoJson),n=[{type:\"geoJSON\",source:e,specialAreas:i}]),d(n,function(t){var e=t.type;\"geoJson\"===e\&\&(e=t.type=\"geoJSON\"),(0,gT[e])(t)}),fT.set(t,n)},retrieveMap:function(t){return fT.get(t)}},gT={geoJSON:function(t){var e=t.source;t.geoJSON=_(e)?\"undefined\"!=typeof JSON\&\&JSON.parse?JSON.parse(e):new Function(\"return (\"+e+\");\")():e},svg:function(t){t.svgXML=jr(t.source)}},mT=k,vT=d,yT=x,xT=w,_T=YM.parseClassType,wT={zrender:\"4.0.5\"},bT=1e3,ST=1e3,MT=3e3,IT={PROCESSOR:{FILTER:bT,STATISTIC:5e3},VISUAL:{LAYOUT:ST,GLOBAL:2e3,CHART:MT,COMPONENT:4e3,BRUSH:5e3}},TT=\"__flagInMainProcess\",AT=\"__optionUpdated\",DT=/^[a-zA-Z0-9_]+\$/;as.prototype.on=os(\"on\"),as.prototype.off=os(\"off\"),as.prototype.one=os(\"one\"),h(as,aw);var CT=rs.prototype;CT._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[AT]){var e=this[AT].silent;this[TT]=!0,ls(this),LT.update.call(this),this[TT]=!1,this[AT]=!1,ds.call(this,e),fs.call(this,e)}else if(t.unfinished){var i=1,n=this._model;this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),hs(this,n),t.performVisualTasks(n),xs(this,this._model,0,\"remain\"),i-=+new Date-o}while(i>0\&\&t.unfinished);t.unfinished||this._zr.flush()}}},CT.getDom=function(){return this._dom},CT.getZr=function(){return this._zr},CT.setOption=function(t,e,i){var n;if(xT(e)\&\&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[TT]=!0,!this._model||e){var o=new Va(this._api),a=this._theme,r=this._model=new hI(null,null,a,o);r.scheduler=this._scheduler,r.init(null,null,a,o)}this._model.setOption(t,ET),i?(this[AT]={silent:n},this[TT]=!1):(ls(this),LT.update.call(this),this._zr.flush(),this[AT]=!1,this[TT]=!1,ds.call(this,n),fs.call(this,n))},CT.setTheme=function(){console.error(\"ECharts#setTheme() is DEPRECATED in ECharts 3.0\")},CT.getModel=function(){return this._model},CT.getOption=function(){return this._model\&\&this._model.getOption()},CT.getWidth=function(){return this._zr.getWidth()},CT.getHeight=function(){return this._zr.getHeight()},CT.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},CT.getRenderedCanvas=function(t){if(z_.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get(\"backgroundColor\"),this._zr.painter.getRenderedCanvas(t)},CT.getSvgDataUrl=function(){if(z_.svgSupported){var t=this._zr;return d(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},CT.getDataURL=function(t){var e=(t=t||{}).excludeComponents,i=this._model,n=[],o=this;vT(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var a=\"svg\"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL(\"image/\"+(t\&\&t.type||\"png\"));return vT(n,function(t){t.group.ignore=!1}),a},CT.getConnectedDataURL=function(t){if(z_.canvasSupported){var e=this.group,n=Math.min,o=Math.max;if(FT[e]){var a=1/0,r=1/0,s=-1/0,l=-1/0,u=[],h=t\&\&t.pixelRatio||1;d(GT,function(h,c){if(h.group===e){var d=h.getRenderedCanvas(i(t)),f=h.getDom().getBoundingClientRect();a=n(f.left,a),r=n(f.top,r),s=o(f.right,s),l=o(f.bottom,l),u.push({dom:d,left:f.left,top:f.top})}});var c=(s*=h)-(a*=h),f=(l*=h)-(r*=h),p=Y_();p.width=c,p.height=f;var g=Ii(p);return vT(u,function(t){var e=new hi({style:{x:t.left*h-a,y:t.top*h-r,image:t.dom}});g.add(e)}),g.refreshImmediately(),p.toDataURL(\"image/\"+(t\&\&t.type||\"png\"))}return this.getDataURL(t)}},CT.convertToPixel=v(ss,\"convertToPixel\"),CT.convertFromPixel=v(ss,\"convertFromPixel\"),CT.containPixel=function(t,e){var i;return t=Vi(this._model,t),d(t,function(t,n){n.indexOf(\"Models\")>=0\&\&d(t,function(t){var o=t.coordinateSystem;if(o\&\&o.containPoint)i|=!!o.containPoint(e);else if(\"seriesModels\"===n){var a=this._chartsMap[t.__viewId];a\&\&a.containPoint\&\&(i|=a.containPoint(e,t))}},this)},this),!!i},CT.getVisual=function(t,e){var i=(t=Vi(this._model,t,{defaultMainType:\"series\"})).seriesModel.getData(),n=t.hasOwnProperty(\"dataIndexInside\")?t.dataIndexInside:t.hasOwnProperty(\"dataIndex\")?i.indexOfRawIndex(t.dataIndex):null;return null!=n?i.getItemVisual(n,e):i.getVisual(e)},CT.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},CT.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var LT={prepareAndUpdate:function(t){ls(this),LT.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,a=this._scheduler;if(e){a.restoreData(e,t),a.performSeriesTasks(e),o.create(e,i),a.performDataProcessorTasks(e,t),hs(this,e),o.update(e,i),ms(e),a.performVisualTasks(e,t),vs(this,e,i,t);var r=e.get(\"backgroundColor\")||\"transparent\";if(z_.canvasSupported)n.setBackgroundColor(r);else{var s=zt(r);r=Xt(s,\"rgb\"),0===s[3]\&\&(r=\"transparent\")}_s(e,i)}},updateTransform:function(t){var e=this._model,i=this,n=this._api;if(e){var o=[];e.eachComponent(function(a,r){var s=i.getViewOfComponentModel(r);if(s\&\&s.__alive)if(s.updateTransform){var l=s.updateTransform(r,e,n,t);l\&\&l.update\&\&o.push(s)}else o.push(s)});var a=R();e.eachSeries(function(o){var r=i._chartsMap[o.__viewId];if(r.updateTransform){var s=r.updateTransform(o,e,n,t);s\&\&s.update\&\&a.set(o.uid,1)}else a.set(o.uid,1)}),ms(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:a}),xs(i,e,0,t,a),_s(e,this._api)}},updateView:function(t){var e=this._model;e\&\&(Mr.markUpdateMethod(t,\"updateView\"),ms(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),vs(this,this._model,this._api,t),_s(e,this._api))},updateVisual:function(t){LT.update.call(this,t)},updateLayout:function(t){LT.update.call(this,t)}};CT.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX\&\&this._loadingFX.resize(),e){var i=e.resetOption(\"media\"),n=t\&\&t.silent;this[TT]=!0,i\&\&ls(this),LT.update.call(this),this[TT]=!1,ds.call(this,n),fs.call(this,n)}},CT.showLoading=function(t,e){if(xT(t)\&\&(e=t,t=\"\"),t=t||\"default\",this.hideLoading(),VT[t]){var i=VT[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},CT.hideLoading=function(){this._loadingFX\&\&this._zr.remove(this._loadingFX),this._loadingFX=null},CT.makeActionFromEvent=function(t){var e=a({},t);return e.type=NT[t.type],e},CT.dispatchAction=function(t,e){xT(e)||(e={silent:!!e}),PT[t.type]\&\&this._model\&\&(this[TT]?this._pendingActions.push(t):(cs.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush\&\&z_.browser.weChat\&\&this._throttledZrFlush(),ds.call(this,e.silent),fs.call(this,e.silent)))},CT.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},CT.on=os(\"on\"),CT.off=os(\"off\"),CT.one=os(\"one\");var kT=[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"mousemove\",\"mousedown\",\"mouseup\",\"globalout\",\"contextmenu\"];CT._initEvents=function(){vT(kT,function(t){this._zr.on(t,function(e){var i,n=this.getModel(),o=e.target;if(\"globalout\"===t)i={};else if(o\&\&null!=o.dataIndex){var r=o.dataModel||n.getSeriesByIndex(o.seriesIndex);i=r\&\&r.getDataParams(o.dataIndex,o.dataType,o)||{}}else o\&\&o.eventData\&\&(i=a({},o.eventData));if(i){var s=i.componentType,l=i.componentIndex;\"markLine\"!==s\&\&\"markPoint\"!==s\&\&\"markArea\"!==s||(s=\"series\",l=i.seriesIndex);var u=s\&\&null!=l\&\&n.getComponent(s,l),h=u\&\&this[\"series\"===u.mainType?\"_chartsMap\":\"_componentsMap\"][u.__viewId];i.event=e,i.type=t,this._ecEventProcessor.eventInfo={targetEl:o,packedEvent:i,model:u,view:h},this.trigger(t,i)}},this)},this),vT(NT,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},CT.isDisposed=function(){return this._disposed},CT.clear=function(){this.setOption({series:[]},!0)},CT.dispose=function(){if(!this._disposed){this._disposed=!0,Fi(this.getDom(),ZT,\"\");var t=this._api,e=this._model;vT(this._componentsViews,function(i){i.dispose(e,t)}),vT(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete GT[this.id]}},h(rs,aw),Is.prototype={constructor:Is,normalizeQuery:function(t){var e={},i={},n={};if(_(t)){var o=_T(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=[\"Index\",\"Name\",\"Id\"],r={name:1,dataIndex:1,dataType:1};d(t,function(t,o){for(var s=!1,l=0;l<a.length;l++){var u=a[l],h=o.lastIndexOf(u);if(h>0\&\&h===o.length-u.length){var c=o.slice(0,h);\"data\"!==c\&\&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}r.hasOwnProperty(o)\&\&(i[o]=t,s=!0),s||(n[o]=t)})}return{cptQuery:e,dataQuery:i,otherQuery:n}},filter:function(t,e,i){function n(t,e,i,n){return null==t[i]||e[n||i]===t[i]}var o=this.eventInfo;if(!o)return!0;var a=o.targetEl,r=o.packedEvent,s=o.model,l=o.view;if(!s||!l)return!0;var u=e.cptQuery,h=e.dataQuery;return n(u,s,\"mainType\")\&\&n(u,s,\"subType\")\&\&n(u,s,\"index\",\"componentIndex\")\&\&n(u,s,\"name\")\&\&n(u,s,\"id\")\&\&n(h,r,\"name\")\&\&n(h,r,\"dataIndex\")\&\&n(h,r,\"dataType\")\&\&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,a,r))},afterTrigger:function(){this.eventInfo=null}};var PT={},NT={},OT=[],ET=[],RT=[],zT=[],BT={},VT={},GT={},FT={},WT=new Date-0,HT=new Date-0,ZT=\"_echarts_instance_\",UT=As;Es(2e3,UI),Ls(MI),ks(5e3,function(t){var e=R();t.eachSeries(function(t){var i=t.get(\"stack\");if(i){var n=e.get(i)||e.set(i,[]),o=t.getData(),a={stackResultDimension:o.getCalculationInfo(\"stackResultDimension\"),stackedOverDimension:o.getCalculationInfo(\"stackedOverDimension\"),stackedDimension:o.getCalculationInfo(\"stackedDimension\"),stackedByDimension:o.getCalculationInfo(\"stackedByDimension\"),isStackedByIndex:o.getCalculationInfo(\"isStackedByIndex\"),data:o,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex\&\&!a.stackedByDimension)return;n.length\&\&o.setCalculationInfo(\"stackedOnSeries\",n[n.length-1].seriesModel),n.push(a)}}),e.each(ir)}),zs(\"default\",function(t,e){r(e=e||{},{text:\"loading\",color:\"#c23531\",textColor:\"#000\",maskColor:\"rgba(255, 255, 255, 0.8)\",zlevel:0});var i=new aM({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new uM({shape:{startAngle:-YI/2,endAngle:-YI/2+.1,r:10},style:{stroke:e.color,lineCap:\"round\",lineWidth:5},zlevel:e.zlevel,z:10001}),o=new aM({style:{fill:\"none\",text:e.text,textPosition:\"right\",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*YI/2}).start(\"circularInOut\"),n.animateShape(!0).when(1e3,{startAngle:3*YI/2}).delay(300).start(\"circularInOut\");var a=new Zw;return a.add(n),a.add(o),a.add(i),a.resize=function(){var e=t.getWidth()/2,a=t.getHeight()/2;n.setShape({cx:e,cy:a});var r=n.shape.r;o.setShape({x:e-r,y:a-r,width:2*r,height:2*r}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},a.resize(),a}),Ps({type:\"highlight\",event:\"highlight\",update:\"highlight\"},B),Ps({type:\"downplay\",event:\"downplay\",update:\"downplay\"},B),Cs(\"light\",iT),Cs(\"dark\",oT);var XT={};Hs.prototype={constructor:Hs,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],o=[];for(Zs(t,{},n,\"_oldKeyGetter\",this),Zs(e,i,o,\"_newKeyGetter\",this),a=0;a<t.length;a++)null!=(s=i[r=n[a]])?((u=s.length)?(1===u\&\&(i[r]=null),s=s.unshift()):i[r]=null,this._update\&\&this._update(s,a)):this._remove\&\&this._remove(a);for(var a=0;a<o.length;a++){var r=o[a];if(i.hasOwnProperty(r)){var s=i[r];if(null==s)continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add\&\&this._add(s[l]);else this._add\&\&this._add(s)}}}};var jT=R([\"tooltip\",\"label\",\"itemName\",\"itemId\",\"seriesName\"]),YT=w,qT=\"e\\0\\0\",KT={float:\"undefined\"==typeof Float64Array?Array:Float64Array,int:\"undefined\"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},\$T=\"undefined\"==typeof Uint32Array?Array:Uint32Array,JT=\"undefined\"==typeof Uint16Array?Array:Uint16Array,QT=[\"hasItemOption\",\"_nameList\",\"_idList\",\"_invertedIndicesMap\",\"_rawData\",\"_chunkSize\",\"_chunkCount\",\"_dimValueGetter\",\"_count\",\"_rawCount\",\"_nameDimIdx\",\"_idDimIdx\"],tA=[\"_extent\",\"_approximateExtent\",\"_rawExtent\"],eA=function(t,e){t=t||[\"x\",\"y\"];for(var i={},n=[],o={},a=0;a<t.length;a++){var r=t[a];_(r)\&\&(r={name:r});var s=r.name;r.type=r.type||\"float\",r.coordDim||(r.coordDim=s,r.coordDimIndex=0),r.otherDims=r.otherDims||{},n.push(s),i[s]=r,r.index=a,r.createInvertedIndices\&\&(o[s]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Us(this),this._invertedIndicesMap=o,this._calculationInfo={}},iA=eA.prototype;iA.type=\"list\",iA.hasItemOption=!0,iA.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},iA.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},iA.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},iA.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return!0===e?(n||[]).slice():n\&\&n[e]},iA.initData=function(t,e,i){(va.isInstance(t)||c(t))\&\&(t=new nr(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=DI[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure\&\&(this.hasItemOption=!1)},iA.getProvider=function(){return this._rawData},iA.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},iA._initDataFromProvider=function(t,e){if(!(t>=e)){for(var i,n=this._chunkSize,o=this._rawData,a=this._storage,r=this.dimensions,s=r.length,l=this._dimensionInfos,u=this._nameList,h=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=f-1,g=0;g<s;g++){c[T=r[g]]||(c[T]=[1/0,-1/0]);var m=l[T];0===m.otherDims.itemName\&\&(i=this._nameDimIdx=g),0===m.otherDims.itemId\&\&(this._idDimIdx=g);var v=KT[m.type];a[T]||(a[T]=[]);var y=a[T][p];if(y\&\&y.length<n){for(var x=new v(Math.min(e-p*n,n)),_=0;_<y.length;_++)x[_]=y[_];a[T][p]=x}for(I=f*n;I<e;I+=n)a[T].push(new v(Math.min(e-I,n)));this._chunkCount=a[T].length}for(var w=new Array(s),b=t;b<e;b++){w=o.getItem(b,w);for(var S=Math.floor(b/n),M=b%n,I=0;I<s;I++){var T=r[I],A=a[T][S],D=this._dimValueGetter(w,T,b,I);A[M]=D;var C=c[T];D<C[0]\&\&(C[0]=D),D>C[1]\&\&(C[1]=D)}if(!o.pure){var L=u[b];if(w\&\&null==L)if(null!=w.name)u[b]=L=w.name;else if(null!=i){var k=r[i],P=a[k][S];if(P){L=P[M];var N=l[k].ordinalMeta;N\&\&N.categories.length\&\&(L=N.categories[L])}}var O=null==w?null:w.id;null==O\&\&null!=L\&\&(d[L]=d[L]||0,O=L,d[L]>0\&\&(O+=\"__ec__\"+d[L]),d[L]++),null!=O\&\&(h[b]=O)}}!o.persistent\&\&o.clean\&\&o.clean(),this._rawCount=this._count=e,this._extent={},\$s(this)}},iA.count=function(){return this._count},iA.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,i=this._count;if(e===Array){n=new e(i);for(o=0;o<i;o++)n[o]=t[o]}else n=new e(t.buffer,0,i)}else for(var n=new(e=Ys(this))(this.count()),o=0;o<n.length;o++)n[o]=o;return n},iA.get=function(t,e){if(!(e>=0\&\&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var n=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return i[t][n][o]},iA.getByRawIndex=function(t,e){if(!(e>=0\&\&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;var n=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return i[n][o]},iA._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return this._storage[t][i][n]},iA.getValues=function(t,e){var i=[];y(t)||(e=t,t=this.dimensions);for(var n=0,o=t.length;n<o;n++)i.push(this.get(t[n],e));return i},iA.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=this._dimensionInfos,n=0,o=e.length;n<o;n++)if(\"ordinal\"!==i[e[n]].type\&\&isNaN(this.get(e[n],t)))return!1;return!0},iA.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var i,n=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=e)[0],a=i[1],r=0;r<n;r++){var s=this._getFast(t,this.getRawIndex(r));s<o\&\&(o=s),s>a\&\&(a=s)}return i=[o,a],this._extent[t]=i,i},iA.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},iA.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},iA.getCalculationInfo=function(t){return this._calculationInfo[t]},iA.setCalculationInfo=function(t,e){YT(t)?a(this._calculationInfo,t):this._calculationInfo[t]=e},iA.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,n=this.count();i<n;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},iA.getMedian=function(t){var e=[];this.each(t,function(t,i){isNaN(t)||e.push(t)});var i=[].concat(e).sort(function(t,e){return t-e}),n=this.count();return 0===n?0:n%2==1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},iA.rawIndexOf=function(t,e){var i=(t\&\&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?-1:i},iA.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},iA.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,i=e[t];if(null!=i\&\&i<this._count\&\&i===t)return t;for(var n=0,o=this._count-1;n<=o;){var a=(n+o)/2|0;if(e[a]<t)n=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},iA.indicesOfNearest=function(t,e,i){var n=[];if(!this._storage[t])return n;null==i\&\&(i=1/0);for(var o=Number.MAX_VALUE,a=-1,r=0,s=this.count();r<s;r++){var l=e-this.get(t,r),u=Math.abs(l);l<=i\&\&u<=o\&\&((u<o||l>=0\&\&a<0)\&\&(o=u,a=l,n.length=0),n.push(r))}return n},iA.getRawIndex=Qs,iA.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},iA.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||Js(this,this._nameDimIdx,e)||\"\"},iA.getId=function(t){return el(this,this.getRawIndex(t))},iA.each=function(t,e,i,n){if(this._count){\"function\"==typeof t\&\&(n=i,i=e,e=t,t=[]),i=i||n||this;for(var o=(t=f(il(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:e.call(i,a);break;case 1:e.call(i,this.get(t[0],a),a);break;case 2:e.call(i,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var r=0,s=[];r<o;r++)s[r]=this.get(t[r],a);s[r]=a,e.apply(i,s)}}},iA.filterSelf=function(t,e,i,n){if(this._count){\"function\"==typeof t\&\&(n=i,i=e,e=t,t=[]),i=i||n||this,t=f(il(t),this.getDimension,this);for(var o=this.count(),a=new(Ys(this))(o),r=[],s=t.length,l=0,u=t[0],h=0;h<o;h++){var c,d=this.getRawIndex(h);if(0===s)c=e.call(i,h);else if(1===s){var p=this._getFast(u,d);c=e.call(i,p,h)}else{for(var g=0;g<s;g++)r[g]=this._getFast(u,d);r[g]=h,c=e.apply(i,r)}c\&\&(a[l++]=d)}return l<o\&\&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?tl:Qs,this}},iA.selectRange=function(t){if(this._count){var e=[];for(var i in t)t.hasOwnProperty(i)\&\&e.push(i);var n=e.length;if(n){var o=this.count(),a=new(Ys(this))(o),r=0,s=e[0],l=t[s][0],u=t[s][1],h=!1;if(!this._indices){var c=0;if(1===n){for(var d=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++)((w=p[m])>=l\&\&w<=u||isNaN(w))\&\&(a[r++]=c),c++;h=!0}else if(2===n){for(var d=this._storage[s],v=this._storage[e[1]],y=t[e[1]][0],x=t[e[1]][1],f=0;f<this._chunkCount;f++)for(var p=d[f],_=v[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var w=p[m],b=_[m];(w>=l\&\&w<=u||isNaN(w))\&\&(b>=y\&\&b<=x||isNaN(b))\&\&(a[r++]=c),c++}h=!0}}if(!h)if(1===n)for(m=0;m<o;m++){M=this.getRawIndex(m);((w=this._getFast(s,M))>=l\&\&w<=u||isNaN(w))\&\&(a[r++]=M)}else for(m=0;m<o;m++){for(var S=!0,M=this.getRawIndex(m),f=0;f<n;f++){var I=e[f];((w=this._getFast(i,M))<t[I][0]||w>t[I][1])\&\&(S=!1)}S\&\&(a[r++]=this.getRawIndex(m))}return r<o\&\&(this._indices=a),this._count=r,this._extent={},this.getRawIndex=this._indices?tl:Qs,this}}},iA.mapArray=function(t,e,i,n){\"function\"==typeof t\&\&(n=i,i=e,e=t,t=[]),i=i||n||this;var o=[];return this.each(t,function(){o.push(e\&\&e.apply(this,arguments))},i),o},iA.map=function(t,e,i,n){i=i||n||this;var o=nl(this,t=f(il(t),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?tl:Qs;for(var a=o._storage,r=[],s=this._chunkSize,l=t.length,u=this.count(),h=[],c=o._rawExtent,d=0;d<u;d++){for(var p=0;p<l;p++)h[p]=this.get(t[p],d);h[l]=d;var g=e\&\&e.apply(i,h);if(null!=g){\"object\"!=typeof g\&\&(r[0]=g,g=r);for(var m=this.getRawIndex(d),v=Math.floor(m/s),y=m%s,x=0;x<g.length;x++){var _=t[x],w=g[x],b=c[_],S=a[_];S\&\&(S[v][y]=w),w<b[0]\&\&(b[0]=w),w>b[1]\&\&(b[1]=w)}}}return o},iA.downSample=function(t,e,i,n){for(var o=nl(this,[t]),a=o._storage,r=[],s=Math.floor(1/e),l=a[t],u=this.count(),h=this._chunkSize,c=o._rawExtent[t],d=new(Ys(this))(u),f=0,p=0;p<u;p+=s){s>u-p\&\&(s=u-p,r.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/h),y=m%h;r[g]=l[v][y]}var x=i(r),_=this.getRawIndex(Math.min(p+n(r,x)||0,u-1)),w=_%h;l[Math.floor(_/h)][w]=x,x<c[0]\&\&(c[0]=x),x>c[1]\&\&(c[1]=x),d[f++]=_}return o._count=f,o._indices=d,o.getRawIndex=tl,o},iA.getItemModel=function(t){var e=this.hostModel;return new Lo(this.getRawDataItem(t),e,e\&\&e.ecModel)},iA.diff=function(t){var e=this;return new Hs(t?t.getIndices():[],this.getIndices(),function(e){return el(t,e)},function(t){return el(e,t)})},iA.getVisual=function(t){var e=this._visual;return e\&\&e[t]},iA.setVisual=function(t,e){if(YT(t))for(var i in t)t.hasOwnProperty(i)\&\&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},iA.setLayout=function(t,e){if(YT(t))for(var i in t)t.hasOwnProperty(i)\&\&this.setLayout(i,t[i]);else this._layout[t]=e},iA.getLayout=function(t){return this._layout[t]},iA.getItemLayout=function(t){return this._itemLayouts[t]},iA.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?a(this._itemLayouts[t]||{},e):e},iA.clearItemLayouts=function(){this._itemLayouts.length=0},iA.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n\&\&n[e];return null!=o||i?o:this.getVisual(e)},iA.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=n,YT(e))for(var a in e)e.hasOwnProperty(a)\&\&(n[a]=e[a],o[a]=!0);else n[e]=i,o[e]=!0},iA.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var nA=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};iA.setItemGraphicEl=function(t,e){var i=this.hostModel;e\&\&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i\&\&i.seriesIndex,\"group\"===e.type\&\&e.traverse(nA,e)),this._graphicEls[t]=e},iA.getItemGraphicEl=function(t){return this._graphicEls[t]},iA.eachItemGraphicEl=function(t,e){d(this._graphicEls,function(i,n){i\&\&t\&\&t.call(e,i,n)})},iA.cloneShallow=function(t){if(!t){var e=f(this.dimensions,this.getDimensionInfo,this);t=new eA(e,this.hostModel)}if(t._storage=this._storage,Ks(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?tl:Qs,t},iA.wrapMethod=function(t,e){var i=this[t];\"function\"==typeof i\&\&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(C(arguments)))})},iA.TRANSFERABLE_METHODS=[\"cloneShallow\",\"downSample\",\"map\"],iA.CHANGABLE_METHODS=[\"filterSelf\",\"selectRange\"];var oA=function(t,e){return e=e||{},rl(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};gl.prototype.parse=function(t){return t},gl.prototype.getSetting=function(t){return this._setting[t]},gl.prototype.contain=function(t){var e=this._extent;return t>=e[0]\&\&t<=e[1]},gl.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},gl.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},gl.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]\&\&(e[0]=t[0]),t[1]>e[1]\&\&(e[1]=t[1])},gl.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},gl.prototype.getExtent=function(){return this._extent.slice()},gl.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},gl.prototype.isBlank=function(){return this._isBlank},gl.prototype.setBlank=function(t){this._isBlank=t},gl.prototype.getLabel=null,Xi(gl),Ki(gl,{registerWhenExtend:!0}),ml.createByAxisModel=function(t){var e=t.option,i=e.data,n=i\&\&f(i,yl);return new ml({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var aA=ml.prototype;aA.getOrdinal=function(t){return vl(this).get(t)},aA.parseAndCollect=function(t){var e,i=this._needCollect;if(\"string\"!=typeof t\&\&!i)return t;if(i\&\&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=vl(this);return null==(e=n.get(t))\&\&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var rA=gl.prototype,sA=gl.extend({type:\"ordinal\",init:function(t,e){t\&\&!y(t)||(t=new ml({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return\"string\"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),rA.contain.call(this,t)\&\&null!=this._ordinalMeta.categories[t]},normalize:function(t){return rA.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(rA.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:B,niceExtent:B});sA.create=function(){return new sA};var lA=zo,uA=zo,hA=gl.extend({type:\"interval\",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]\&\&(e[0]=t[0]),t[1]>e[1]\&\&(e[1]=t[1]),hA.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=_l(t)},getTicks:function(){return Sl(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return\"\";var i=e\&\&e.precision;return null==i?i=Go(t)||0:\"auto\"===i\&\&(i=this._intervalPrecision),t=uA(t,i,!0),\$o(t)},niceTicks:function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0\&\&(o=-o,n.reverse());var a=xl(n,t,e,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax?e[0]-=i/2:(e[1]+=i/2,e[0]-=i/2)}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=uA(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=uA(Math.ceil(e[1]/o)*o))}});hA.create=function(){return new hA};var cA=\"__ec_stack_\",dA=\"undefined\"!=typeof Float32Array?Float32Array:Array,fA={seriesType:\"bar\",plan:zI(),reset:function(t){if(Pl(t)\&\&Nl(t)){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=i.getOtherAxis(n),a=e.mapDimension(o.dim),r=e.mapDimension(n.dim),s=o.isHorizontal(),l=s?0:1,u=Ll(Dl([t]),n,t).width;return u>.5||(u=.5),{progress:function(t,e){for(var n,h=new dA(2*t.count),c=[],d=[],f=0;null!=(n=t.next());)d[l]=e.get(a,n),d[1-l]=e.get(r,n),c=i.dataToPoint(d,null,c),h[f++]=c[0],h[f++]=c[1];e.setLayout({largePoints:h,barWidth:u,valueAxisStart:Ol(0,o),valueAxisHorizontal:s})}}}}},pA=hA.prototype,gA=Math.ceil,mA=Math.floor,vA=function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=o+1:n=o}return i},yA=hA.extend({type:\"time\",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return oa(e[0],i,this.getSetting(\"useUTC\"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]\&\&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0\&\&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=zo(mA(e[0]/n)*n)),t.fixMax||(e[1]=zo(gA(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0],a=o/t;null!=e\&\&a<e\&\&(a=e),null!=i\&\&a>i\&\&(a=i);var r=xA.length,s=vA(xA,a,0,r),l=xA[Math.min(s,r-1)],u=l[1];\"year\"===l[0]\&\&(u*=Yo(o/u/t,!0));var h=this.getSetting(\"useUTC\")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,c=[Math.round(gA((n[0]-h)/u)*u+h),Math.round(mA((n[1]-h)/u)*u+h)];bl(c,n),this._stepLvl=l,this._interval=u,this._niceExtent=c},parse:function(t){return+Uo(t)}});d([\"contain\",\"normalize\"],function(t){yA.prototype[t]=function(e){return pA[t].call(this,this.parse(e))}});var xA=[[\"hh:mm:ss\",1e3],[\"hh:mm:ss\",5e3],[\"hh:mm:ss\",1e4],[\"hh:mm:ss\",15e3],[\"hh:mm:ss\",3e4],[\"hh:mm\\nMM-dd\",6e4],[\"hh:mm\\nMM-dd\",3e5],[\"hh:mm\\nMM-dd\",6e5],[\"hh:mm\\nMM-dd\",9e5],[\"hh:mm\\nMM-dd\",18e5],[\"hh:mm\\nMM-dd\",36e5],[\"hh:mm\\nMM-dd\",72e5],[\"hh:mm\\nMM-dd\",216e5],[\"hh:mm\\nMM-dd\",432e5],[\"MM-dd\\nyyyy\",864e5],[\"MM-dd\\nyyyy\",1728e5],[\"MM-dd\\nyyyy\",2592e5],[\"MM-dd\\nyyyy\",3456e5],[\"MM-dd\\nyyyy\",432e6],[\"MM-dd\\nyyyy\",5184e5],[\"week\",6048e5],[\"MM-dd\\nyyyy\",864e6],[\"week\",12096e5],[\"week\",18144e5],[\"month\",26784e5],[\"week\",36288e5],[\"month\",53568e5],[\"week\",6048e6],[\"quarter\",8208e6],[\"month\",107136e5],[\"month\",13392e6],[\"half-year\",16416e6],[\"month\",214272e5],[\"month\",26784e6],[\"year\",32832e6]];yA.create=function(t){return new yA({useUTC:t.ecModel.get(\"useUTC\")})};var _A=gl.prototype,wA=hA.prototype,bA=Go,SA=zo,MA=Math.floor,IA=Math.ceil,TA=Math.pow,AA=Math.log,DA=gl.extend({type:\"log\",base:10,\$constructor:function(){gl.apply(this,arguments),this._originalScale=new hA},getTicks:function(){var t=this._originalScale,e=this._extent,i=t.getExtent();return f(wA.getTicks.call(this),function(n){var o=zo(TA(this.base,n));return o=n===e[0]\&\&t.__fixMin?El(o,i[0]):o,o=n===e[1]\&\&t.__fixMax?El(o,i[1]):o},this)},getLabel:wA.getLabel,scale:function(t){return t=_A.scale.call(this,t),TA(this.base,t)},setExtent:function(t,e){var i=this.base;t=AA(t)/AA(i),e=AA(e)/AA(i),wA.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=_A.getExtent.call(this);e[0]=TA(t,e[0]),e[1]=TA(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin\&\&(e[0]=El(e[0],n[0])),i.__fixMax\&\&(e[1]=El(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=AA(t[0])/AA(e),t[1]=AA(t[1])/AA(e),_A.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=Xo(i);for(t/i*n<=.5\&\&(n*=10);!isNaN(n)\&\&Math.abs(n)<1\&\&Math.abs(n)>0;)n*=10;var o=[zo(IA(e[0]/n)*n),zo(MA(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(t){wA.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});d([\"contain\",\"normalize\"],function(t){DA.prototype[t]=function(e){return e=AA(e)/AA(this.base),_A[t].call(this,e)}}),DA.create=function(){return new DA};var CA={getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis\&\&null!=i\&\&\"dataMin\"!==i\&\&\"function\"!=typeof i\&\&!I(i)\&\&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis\&\&null!=i\&\&\"dataMax\"!==i\&\&\"function\"!=typeof i\&\&!I(i)\&\&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart\&\&null==t.rangeEnd\&\&!t.scale},getCoordSysModel:B,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},LA=Fn({type:\"triangle\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n+a),t.lineTo(i-o,n+a),t.closePath()}}),kA=Fn({type:\"diamond\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,a=e.height/2;t.moveTo(i,n-a),t.lineTo(i+o,n),t.lineTo(i,n+a),t.lineTo(i-o,n),t.closePath()}}),PA=Fn({type:\"pin\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=n-a+r+s,u=Math.asin(s/r),h=Math.cos(u)*r,c=Math.sin(u),d=Math.cos(u),f=.6*r,p=.7*r;t.moveTo(i-h,l+s),t.arc(i,l,r,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(i+h-c*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-h+c*f,l+s+d*f,i-h,l+s),t.closePath()}}),NA=Fn({type:\"arrow\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,a=e.y,r=n/3*2;t.moveTo(o,a),t.lineTo(o+r,a+i),t.lineTo(o,a+i/4*3),t.lineTo(o-r,a+i),t.lineTo(o,a),t.closePath()}}),OA={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var a=Math.min(i,n);o.x=t,o.y=e,o.width=a,o.height=a},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},EA={};d({line:rM,rect:aM,roundRect:aM,square:aM,circle:KS,diamond:kA,pin:PA,arrow:NA,triangle:LA},function(t,e){EA[e]=new t});var RA=Fn({type:\"symbol\",shape:{symbolType:\"\",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;\"pin\"===this.shape.symbolType\&\&\"inside\"===t.textPosition\&\&(t.textPosition=[\"50%\",\"40%\"],t.textAlign=\"center\",t.textVerticalAlign=\"middle\")},buildPath:function(t,e,i){var n=e.symbolType,o=EA[n];\"none\"!==e.symbolType\&\&(o||(o=EA[n=\"rect\"]),OA[n](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,i))}}),zA={isDimensionStacked:hl,enableDataStack:ul,getStackedDimension:cl},BA=(Object.freeze||Object)({createList:function(t){return dl(t.getSource(),t)},getLayoutRect:la,dataStack:zA,createScale:function(t,e){var i=e;Lo.isInstance(e)||h(i=new Lo(e),CA);var n=Vl(i);return n.setExtent(t[0],t[1]),Bl(n,i),n},mixinAxisModelCommonMethods:function(t){h(t,CA)},completeDimensions:rl,createDimensions:oA,createSymbol:Xl}),VA=1e-8;ql.prototype={constructor:ql,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],a=[],r=this.geometries,s=0;s<r.length;s++)\"polygon\"===r[s].type\&\&(dn(r[s].exterior,o,a),tt(i,i,o),et(n,n,a));return 0===s\&\&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new ue(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++)if(\"polygon\"===i[n].type){var a=i[n].exterior,r=i[n].interiors;if(Yl(a,t[0],t[1])){for(var s=0;s<(r?r.length:0);s++)if(Yl(r[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=o.width/o.height;i?n||(n=i/a):i=a*n;for(var r=new ue(t,e,i,n),s=o.calculateTransform(r),l=this.geometries,u=0;u<l.length;u++)if(\"polygon\"===l[u].type){for(var h=l[u].exterior,c=l[u].interiors,d=0;d<h.length;d++)Q(h[d],h[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)Q(c[f][d],c[f][d],s)}(o=this._rect).copy(r),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(t){null==t\&\&(t=this.name);var e=new ql(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var GA=function(t){return Kl(t),f(g(t.features,function(t){return t.geometry\&\&t.properties\&\&t.geometry.coordinates.length>0}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,o=[];\"Polygon\"===i.type\&\&o.push({type:\"polygon\",exterior:n[0],interiors:n.slice(1)}),\"MultiPolygon\"===i.type\&\&d(n,function(t){t[0]\&\&o.push({type:\"polygon\",exterior:t[0],interiors:t.slice(1)})});var a=new ql(e.name,o,e.cp);return a.properties=e,a})},FA=Bi(),WA=[0,1],HA=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};HA.prototype={constructor:HA,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i\&\&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Fo(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand\&\&\"ordinal\"===n.type\&\&fu(i=i.slice(),n.count()),Eo(t,WA,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand\&\&\"ordinal\"===n.type\&\&fu(i=i.slice(),n.count());var o=Eo(t,i,WA,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=Ql(this,e),n=f(i.ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),o=e.get(\"alignWithLabel\");return pu(this,n,i.tickCategoryInterval,o,t.clamp),n},getViewLabels:function(){return Jl(this).labels},getLabelModel:function(){return this.model.getModel(\"axisLabel\")},getTickModel:function(){return this.model.getModel(\"axisTick\")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i\&\&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return lu(this)}};var ZA=GA,UA={};d([\"map\",\"each\",\"filter\",\"indexOf\",\"inherits\",\"reduce\",\"filter\",\"bind\",\"curry\",\"isArray\",\"isString\",\"isObject\",\"isFunction\",\"extend\",\"defaults\",\"clone\",\"merge\"],function(t){UA[t]=\$_[t]});var XA={};d([\"extendShape\",\"extendPath\",\"makePath\",\"makeImage\",\"mergePath\",\"resizePath\",\"createIcon\",\"setHoverStyle\",\"setLabelStyle\",\"setTextStyle\",\"setText\",\"getFont\",\"updateProps\",\"initProps\",\"getTransform\",\"clipPointsByRect\",\"clipRectByRect\",\"Group\",\"Image\",\"Text\",\"Circle\",\"Sector\",\"Ring\",\"Polygon\",\"Polyline\",\"Rect\",\"Line\",\"BezierCurve\",\"Arc\",\"IncrementalDisplayable\",\"CompoundPath\",\"LinearGradient\",\"RadialGradient\",\"BoundingRect\"],function(t){XA[t]=bM[t]}),OI.extend({type:\"series.line\",dependencies:[\"grid\",\"polar\"],getInitialData:function(t,e){return dl(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:\"top\"},lineStyle:{width:2,type:\"solid\"},step:!1,smooth:!1,smoothMonotone:null,symbol:\"emptyCircle\",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:\"auto\",connectNulls:!1,sampling:\"none\",animationEasing:\"linear\",progressive:0,hoverLayerThreshold:1/0}});var jA=mu.prototype,YA=mu.getSymbolSize=function(t,e){var i=t.getItemVisual(e,\"symbolSize\");return i instanceof Array?i.slice():[+i,+i]};jA._createSymbol=function(t,e,i,n,o){this.removeAll();var a=Xl(t,-1,-1,2,2,e.getItemVisual(i,\"color\"),o);a.attr({z2:100,culling:!0,scale:vu(n)}),a.drift=yu,this._symbolType=t,this.add(a)},jA.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},jA.getSymbolPath=function(){return this.childAt(0)},jA.getScale=function(){return this.childAt(0).scale},jA.highlight=function(){this.childAt(0).trigger(\"emphasis\")},jA.downplay=function(){this.childAt(0).trigger(\"normal\")},jA.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},jA.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?\"move\":\"pointer\"},jA.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,\"symbol\")||\"circle\",o=t.hostModel,a=YA(t,e),r=n!==this._symbolType;if(r){var s=t.getItemVisual(e,\"symbolKeepAspect\");this._createSymbol(n,t,e,a,s)}else(l=this.childAt(0)).silent=!1,bo(l,{scale:vu(a)},o,e);if(this._updateCommon(t,e,a,i),r){var l=this.childAt(0),u=i\&\&i.fadeIn,h={scale:l.scale.slice()};u\&\&(h.style={opacity:l.style.opacity}),l.scale=[0,0],u\&\&(l.style.opacity=0),So(l,h,o,e)}this._seriesModel=o};var qA=[\"itemStyle\"],KA=[\"emphasis\",\"itemStyle\"],\$A=[\"label\"],JA=[\"emphasis\",\"label\"];jA._updateCommon=function(t,e,i,n){var o=this.childAt(0),r=t.hostModel,s=t.getItemVisual(e,\"color\");\"image\"!==o.type\&\&o.useStyle({strokeNoScale:!0});var l=n\&\&n.itemStyle,u=n\&\&n.hoverItemStyle,h=n\&\&n.symbolRotate,c=n\&\&n.symbolOffset,d=n\&\&n.labelModel,f=n\&\&n.hoverLabelModel,p=n\&\&n.hoverAnimation,g=n\&\&n.cursorStyle;if(!n||t.hasItemOption){var m=n\&\&n.itemModel?n.itemModel:t.getItemModel(e);l=m.getModel(qA).getItemStyle([\"color\"]),u=m.getModel(KA).getItemStyle(),h=m.getShallow(\"symbolRotate\"),c=m.getShallow(\"symbolOffset\"),d=m.getModel(\$A),f=m.getModel(JA),p=m.getShallow(\"hoverAnimation\"),g=m.getShallow(\"cursor\")}else u=a({},u);var v=o.style;o.attr(\"rotation\",(h||0)*Math.PI/180||0),c\&\&o.attr(\"position\",[Ro(c[0],i[0]),Ro(c[1],i[1])]),g\&\&o.attr(\"cursor\",g),o.setColor(s,n\&\&n.symbolInnerColor),o.setStyle(l);var y=t.getItemVisual(e,\"opacity\");null!=y\&\&(v.opacity=y);var x=t.getItemVisual(e,\"liftZ\"),_=o.__z2Origin;null!=x?null==_\&\&(o.__z2Origin=o.z2,o.z2+=x):null!=_\&\&(o.z2=_,o.__z2Origin=null);var w=n\&\&n.useNameLabel;co(v,u,d,f,{labelFetcher:r,labelDataIndex:e,defaultText:function(e,i){return w?t.getName(e):gu(t,e)},isRectText:!0,autoColor:s}),o.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),o.hoverStyle=u,uo(o),o.__symbolOriginalScale=vu(i),p\&\&r.isAnimationEnabled()\&\&o.on(\"mouseover\",xu).on(\"mouseout\",_u).on(\"emphasis\",wu).on(\"normal\",bu)},jA.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,!(e\&\&e.keepLabel)\&\&(i.style.text=null),bo(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},u(mu,Zw);var QA=Su.prototype;QA.updateData=function(t,e){e=Iu(e);var i=this.group,n=t.hostModel,o=this._data,a=this._symbolCtor,r=Tu(t);o||i.removeAll(),t.diff(o).add(function(n){var o=t.getItemLayout(n);if(Mu(t,o,n,e)){var s=new a(t,n,r);s.attr(\"position\",o),t.setItemGraphicEl(n,s),i.add(s)}}).update(function(s,l){var u=o.getItemGraphicEl(l),h=t.getItemLayout(s);Mu(t,h,s,e)?(u?(u.updateData(t,s,r),bo(u,{position:h},n)):(u=new a(t,s)).attr(\"position\",h),i.add(u),t.setItemGraphicEl(s,u)):i.remove(u)}).remove(function(t){var e=o.getItemGraphicEl(t);e\&\&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},QA.isPersistent=function(){return!0},QA.updateLayout=function(){var t=this._data;t\&\&t.eachItemGraphicEl(function(e,i){var n=t.getItemLayout(i);e.attr(\"position\",n)})},QA.incrementalPrepareUpdate=function(t){this._seriesScope=Tu(t),this._data=null,this.group.removeAll()},QA.incrementalUpdate=function(t,e,i){i=Iu(i);for(var n=t.start;n<t.end;n++){var o=e.getItemLayout(n);if(Mu(e,o,n,i)){var a=new this._symbolCtor(e,n,this._seriesScope);a.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),a.attr(\"position\",o),this.group.add(a),e.setItemGraphicEl(n,a)}}},QA.remove=function(t){var e=this.group,i=this._data;i\&\&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var tD=function(t,e,i,n,o,a,r,s){for(var l=Lu(t,e),u=[],h=[],c=[],d=[],f=[],p=[],g=[],m=Au(o,e,r),v=Au(a,t,s),y=0;y<l.length;y++){var x=l[y],_=!0;switch(x.cmd){case\"=\":var w=t.getItemLayout(x.idx),b=e.getItemLayout(x.idx1);(isNaN(w[0])||isNaN(w[1]))\&\&(w=b.slice()),u.push(w),h.push(b),c.push(i[x.idx]),d.push(n[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case\"+\":S=x.idx;u.push(o.dataToPoint([e.get(m.dataDimsForPoint[0],S),e.get(m.dataDimsForPoint[1],S)])),h.push(e.getItemLayout(S).slice()),c.push(Cu(m,o,e,S)),d.push(n[S]),g.push(e.getRawIndex(S));break;case\"-\":var S=x.idx,M=t.getRawIndex(S);M!==S?(u.push(t.getItemLayout(S)),h.push(a.dataToPoint([t.get(v.dataDimsForPoint[0],S),t.get(v.dataDimsForPoint[1],S)])),c.push(i[S]),d.push(Cu(v,a,t,S)),g.push(M)):_=!1}_\&\&(f.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});for(var I=[],T=[],A=[],D=[],C=[],y=0;y<p.length;y++){S=p[y];I[y]=u[S],T[y]=h[S],A[y]=c[S],D[y]=d[S],C[y]=f[S]}return{current:I,next:T,stackedOnCurrent:A,stackedOnNext:D,status:C}},eD=tt,iD=et,nD=Z,oD=G,aD=[],rD=[],sD=[],lD=kn.extend({type:\"ec-polyline\",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:\"#000\"},brush:JS(kn.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,o=i.length,a=Eu(i,e.smoothConstraint);if(e.connectNulls){for(;o>0\&\&ku(i[o-1]);o--);for(;n<o\&\&ku(i[n]);n++);}for(;n<o;)n+=Pu(t,i,n,o,o,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),uD=kn.extend({type:\"ec-polygon\",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:JS(kn.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,a=i.length,r=e.smoothMonotone,s=Eu(i,e.smoothConstraint),l=Eu(n,e.smoothConstraint);if(e.connectNulls){for(;a>0\&\&ku(i[a-1]);a--);for(;o<a\&\&ku(i[o]);o++);}for(;o<a;){var u=Pu(t,i,o,a,a,1,s.min,s.max,e.smooth,r,e.connectNulls);Pu(t,n,o+u-1,u,a,-1,l.min,l.max,e.stackedOnSmooth,r,e.connectNulls),o+=u+1,t.closePath()}}});Mr.extend({type:\"line\",init:function(){var t=new Zw,e=new Su;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel(\"lineStyle\"),l=t.getModel(\"areaStyle\"),u=a.mapArray(a.getItemLayout),h=\"polar\"===n.type,c=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=t.get(\"animation\"),v=!l.isEmpty(),y=l.get(\"origin\"),x=Vu(n,a,Au(n,a,y)),_=t.get(\"showSymbol\"),w=_\&\&!h\&\&Uu(t,a,n),b=this._data;b\&\&b.eachItemGraphicEl(function(t,e){t.__temp\&\&(o.remove(t),b.setItemGraphicEl(e,null))}),_||d.remove(),o.add(g);var S=!h\&\&t.get(\"step\");f\&\&c.type===n.type\&\&S===this._step?(v\&\&!p?p=this._newPolygon(u,x,n,m):p\&\&!v\&\&(g.remove(p),p=this._polygon=null),g.setClipPath(Wu(n,!1,!1,t)),_\&\&d.updateData(a,{isIgnore:w,clipShape:Wu(n,!1,!0,t)}),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),Ru(this._stackedOnPoints,x)\&\&Ru(this._points,u)||(m?this._updateAnimation(a,x,n,i,S,y):(S\&\&(u=Hu(u,n,S),x=Hu(x,n,S)),f.setShape({points:u}),p\&\&p.setShape({points:u,stackedOnPoints:x})))):(_\&\&d.updateData(a,{isIgnore:w,clipShape:Wu(n,!1,!0,t)}),S\&\&(u=Hu(u,n,S),x=Hu(x,n,S)),f=this._newPolyline(u,n,m),v\&\&(p=this._newPolygon(u,x,n,m)),g.setClipPath(Wu(n,!0,!1,t)));var M=Zu(a,n)||a.getVisual(\"color\");f.useStyle(r(s.getLineStyle(),{fill:\"none\",stroke:M,lineJoin:\"bevel\"}));var I=t.get(\"smooth\");if(I=zu(t.get(\"smooth\")),f.setShape({smooth:I,smoothMonotone:t.get(\"smoothMonotone\"),connectNulls:t.get(\"connectNulls\")}),p){var T=a.getCalculationInfo(\"stackedOnSeries\"),A=0;p.useStyle(r(l.getAreaStyle(),{fill:M,opacity:.7,lineJoin:\"bevel\"})),T\&\&(A=zu(T.get(\"smooth\"))),p.setShape({smooth:I,stackedOnSmooth:A,smoothMonotone:t.get(\"smoothMonotone\"),connectNulls:t.get(\"connectNulls\")})}this._data=a,this._coordSys=n,this._stackedOnPoints=x,this._points=u,this._step=S,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,i,n){var o=t.getData(),a=zi(o,n);if(!(a instanceof Array)\&\&null!=a\&\&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;(r=new mu(o,a)).position=s,r.setZ(t.get(\"zlevel\"),t.get(\"z\")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else Mr.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),a=zi(o,n);if(null!=a\&\&a>=0){var r=o.getItemGraphicEl(a);r\&\&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else Mr.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e\&\&this._lineGroup.remove(e),e=new lD({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i\&\&this._lineGroup.remove(i),i=new uD({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(t,e,i,n,o,a){var r=this._polyline,s=this._polygon,l=t.hostModel,u=tD(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,a),h=u.current,c=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;o\&\&(h=Hu(u.current,i,o),c=Hu(u.stackedOnCurrent,i,o),d=Hu(u.next,i,o),f=Hu(u.stackedOnNext,i,o)),r.shape.__points=u.current,r.shape.points=h,bo(r,{shape:{points:d}},l),s\&\&(s.setShape({points:h,stackedOnPoints:c}),bo(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=u.status,m=0;m<g.length;m++)if(\"=\"===g[m].cmd){var v=t.getItemGraphicEl(g[m].idx1);v\&\&p.push({el:v,ptIdx:m})}r.animators\&\&r.animators.length\&\&r.animators[0].during(function(){for(var t=0;t<p.length;t++)p[t].el.attr(\"position\",r.shape.__points[p[t].ptIdx])})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i\&\&i.eachItemGraphicEl(function(t,n){t.__temp\&\&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var hD=function(t,e,i){return{seriesType:t,performRawSeries:!0,reset:function(t,n,o){var a=t.getData(),r=t.get(\"symbol\")||e,s=t.get(\"symbolSize\"),l=t.get(\"symbolKeepAspect\");if(a.setVisual({legendSymbol:i||r,symbol:r,symbolSize:s,symbolKeepAspect:l}),!n.isSeriesFiltered(t)){var u=\"function\"==typeof s;return{dataEach:a.hasItemOption||u?function(e,i){if(\"function\"==typeof s){var n=t.getRawValue(i),o=t.getDataParams(i);e.setItemVisual(i,\"symbolSize\",s(n,o))}if(e.hasItemOption){var a=e.getItemModel(i),r=a.getShallow(\"symbol\",!0),l=a.getShallow(\"symbolSize\",!0),u=a.getShallow(\"symbolKeepAspect\",!0);null!=r\&\&e.setItemVisual(i,\"symbol\",r),null!=l\&\&e.setItemVisual(i,\"symbolSize\",l),null!=u\&\&e.setItemVisual(i,\"symbolKeepAspect\",u)}}:null}}}}},cD=function(t){return{seriesType:t,plan:zI(),reset:function(t){var e=t.getData(),i=t.coordinateSystem,n=t.pipelineContext.large;if(i){var o=f(i.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),a=o.length,r=e.getCalculationInfo(\"stackResultDimension\");return hl(e,o[0])\&\&(o[0]=r),hl(e,o[1])\&\&(o[1]=r),a\&\&{progress:function(t,e){for(var r=t.end-t.start,s=n\&\&new Float32Array(r*a),l=t.start,u=0,h=[],c=[];l<t.end;l++){var d;if(1===a)f=e.get(o[0],l),d=!isNaN(f)\&\&i.dataToPoint(f,null,c);else{var f=h[0]=e.get(o[0],l),p=h[1]=e.get(o[1],l);d=!isNaN(f)\&\&!isNaN(p)\&\&i.dataToPoint(h,null,c)}n?(s[u++]=d?d[0]:NaN,s[u++]=d?d[1]:NaN):e.setItemLayout(l,d\&\&d.slice()||[NaN,NaN])}n\&\&e.setLayout(\"symbolPoints\",s)}}}}}},dD={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e\&\&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e\&\&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},fD=function(t,e){return Math.round(t.length/2)},pD=function(t){this._axes={},this._dimList=[],this.name=t||\"\"};pD.prototype={constructor:pD,type:\"cartesian\",getAxis:function(t){return this._axes[t]},getAxes:function(){return f(this._dimList,ju,this)},getAxesByScale:function(t){return t=t.toLowerCase(),g(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,\"dataToCoord\")},coordToData:function(t){return this._dataCoordConvert(t,\"coordToData\")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var a=i[o],r=this._axes[a];n[a]=r[e](t[a])}return n}},Yu.prototype={constructor:Yu,type:\"cartesian2d\",dimensions:[\"x\",\"y\"],getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAxis(\"x\")},containPoint:function(t){var e=this.getAxis(\"x\"),i=this.getAxis(\"y\");return e.contain(e.toLocalCoord(t[0]))\&\&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis(\"x\").containData(t[0])\&\&this.getAxis(\"y\").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis(\"x\"),o=this.getAxis(\"y\");return i=i||[],i[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=o.toGlobalCoord(o.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis(\"x\").scale,n=this.getAxis(\"y\").scale,o=i.getExtent(),a=n.getExtent(),r=i.parse(t[0]),s=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(o[0],o[1]),r),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},pointToData:function(t,e){var i=this.getAxis(\"x\"),n=this.getAxis(\"y\");return e=e||[],e[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis(\"x\"===t.dim?\"y\":\"x\")}},u(Yu,pD);var gD=function(t,e,i,n,o){HA.call(this,t,e,i),this.type=n||\"value\",this.position=o||\"bottom\"};gD.prototype={constructor:gD,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return\"top\"===t||\"bottom\"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t\&\&e[0]>e[1]\&\&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t[\"x\"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},u(gD,HA);var mD={show:!0,zlevel:0,z:0,inverse:!1,name:\"\",nameLocation:\"end\",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:\"...\",placeholder:\".\"},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:\"#333\",width:1,type:\"solid\"},symbol:[\"none\",\"none\"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[\"#ccc\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.3)\",\"rgba(200,200,200,0.3)\"]}}},vD={};vD.categoryAxis=n({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"}},mD),vD.valueAxis=n({boundaryGap:[0,0],splitNumber:5},mD),vD.timeAxis=r({scale:!0,min:\"dataMin\",max:\"dataMax\"},vD.valueAxis),vD.logAxis=r({scale:!0,logBase:10},vD.valueAxis);var yD=[\"value\",\"category\",\"time\",\"log\"],xD=function(t,e,i,a){d(yD,function(r){e.extend({type:t+\"Axis.\"+r,mergeDefaultAndTheme:function(e,o){var a=this.layoutMode,s=a?da(e):{};n(e,o.getTheme().get(r+\"Axis\")),n(e,this.getDefaultOption()),e.type=i(t,e),a\&\&ca(e,s,a)},optionUpdated:function(){\"category\"===this.option.type\&\&(this.__ordinalMeta=ml.createByAxisModel(this))},getCategories:function(t){var e=this.option;if(\"category\"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o([{},vD[r+\"Axis\"],a],!0)})}),YM.registerSubTypeDefaulter(t+\"Axis\",v(i,t))},_D=YM.extend({type:\"cartesian2dAxis\",axis:null,init:function(){_D.superApply(this,\"init\",arguments),this.resetRange()},mergeOption:function(){_D.superApply(this,\"mergeOption\",arguments),this.resetRange()},restoreData:function(){_D.superApply(this,\"restoreData\",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"grid\",index:this.option.gridIndex,id:this.option.gridId})[0]}});n(_D.prototype,CA);var wD={offset:0};xD(\"x\",_D,qu,wD),xD(\"y\",_D,qu,wD),YM.extend({type:\"grid\",dependencies:[\"xAxis\",\"yAxis\"],layoutMode:\"box\",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:\"10%\",top:60,right:\"10%\",bottom:60,containLabel:!1,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:1,borderColor:\"#ccc\"}});var bD=\$u.prototype;bD.type=\"grid\",bD.axisPointerEnabled=!0,bD.getRect=function(){return this._rect},bD.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),d(i.x,function(t){Bl(t.scale,t.model)}),d(i.y,function(t){Bl(t.scale,t.model)});var n={};d(i.x,function(t){Ju(i,\"y\",t,n)}),d(i.y,function(t){Ju(i,\"x\",t,n)}),this.resize(this.model,e)},bD.resize=function(t,e,i){function n(){d(a,function(t){var e=t.isHorizontal(),i=e?[0,o.width]:[0,o.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),th(t,e?o.x:o.y)})}var o=la(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;n(),!i\&\&t.get(\"containLabel\")\&\&(d(a,function(t){if(!t.model.get(\"axisLabel.inside\")){var e=Hl(t);if(e){var i=t.isHorizontal()?\"height\":\"width\",n=t.model.get(\"axisLabel.margin\");o[i]-=e[i]+n,\"top\"===t.position?o.y+=e.height+n:\"left\"===t.position\&\&(o.x+=e.width+n)}}}),n())},bD.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},bD.getAxes=function(){return this._axesList.slice()},bD.getCartesian=function(t,e){if(null!=t\&\&null!=e){var i=\"x\"+t+\"y\"+e;return this._coordsMap[i]}w(t)\&\&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis(\"x\").index===t||o[n].getAxis(\"y\").index===e)return o[n]},bD.getCartesians=function(){return this._coordsList.slice()},bD.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},bD.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},bD._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,a=e.xAxisModel||o\&\&o.getReferringComponents(\"xAxis\")[0],r=e.yAxisModel||o\&\&o.getReferringComponents(\"yAxis\")[0],s=e.gridModel,u=this._coordsList;return o?l(u,i=o.coordinateSystem)<0\&\&(i=null):a\&\&r?i=this.getCartesian(a.componentIndex,r.componentIndex):a?n=this.getAxis(\"x\",a.componentIndex):r?n=this.getAxis(\"y\",r.componentIndex):s\&\&s.coordinateSystem===this\&\&(i=this._coordsList[0]),{cartesian:i,axis:n}},bD.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},bD._initCartesian=function(t,e,i){function n(i){return function(n,s){if(Ku(n,t,e)){var l=n.get(\"position\");\"x\"===i?\"top\"!==l\&\&\"bottom\"!==l\&\&o[l=\"bottom\"]\&\&(l=\"top\"===l?\"bottom\":\"top\"):\"left\"!==l\&\&\"right\"!==l\&\&o[l=\"left\"]\&\&(l=\"left\"===l?\"right\":\"left\"),o[l]=!0;var u=new gD(i,Vl(n),[0,0],n.get(\"type\"),l),h=\"category\"===u.type;u.onBand=h\&\&n.get(\"boundaryGap\"),u.inverse=n.get(\"inverse\"),n.axis=u,u.model=n,u.grid=this,u.index=s,this._axesList.push(u),a[i][s]=u,r[i]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},r={x:0,y:0};if(e.eachComponent(\"xAxis\",n(\"x\"),this),e.eachComponent(\"yAxis\",n(\"y\"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=a,d(a.x,function(e,i){d(a.y,function(n,o){var a=\"x\"+i+\"y\"+o,r=new Yu(a);r.grid=this,r.model=t,this._coordsMap[a]=r,this._coordsList.push(r),r.addAxis(e),r.addAxis(n)},this)},this)},bD._updateScale=function(t,e){function i(t,e,i){d(t.mapDimension(e.dim,!0),function(i){e.scale.unionExtentFromData(t,cl(t,i))})}d(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(n){if(ih(n)){var o=eh(n),a=o[0],r=o[1];if(!Ku(a,e,t)||!Ku(r,e,t))return;var s=this.getCartesian(a.componentIndex,r.componentIndex),l=n.getData(),u=s.getAxis(\"x\"),h=s.getAxis(\"y\");\"list\"===l.type\&\&(i(l,u),i(l,h))}},this)},bD.getTooltipAxes=function(t){var e=[],i=[];return d(this.getCartesians(),function(n){var o=null!=t\&\&\"auto\"!==t?n.getAxis(t):n.getBaseAxis(),a=n.getOtherAxis(o);l(e,o)<0\&\&e.push(o),l(i,a)<0\&\&i.push(a)}),{baseAxes:e,otherAxes:i}};var SD=[\"xAxis\",\"yAxis\"];\$u.create=function(t,e){var i=[];return t.eachComponent(\"grid\",function(n,o){var a=new \$u(n,t,e);a.name=\"grid_\"+o,a.resize(n,e,!0),n.coordinateSystem=a,i.push(a)}),t.eachSeries(function(t){if(ih(t)){var e=eh(t),i=e[0],n=e[1],o=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}}),i},\$u.dimensions=\$u.prototype.dimensions=Yu.prototype.dimensions,Ba.register(\"cartesian2d\",\$u);var MD=Math.PI,ID=function(t,e){this.opt=e,this.axisModel=t,r(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Zw;var i=new Zw({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};ID.prototype={constructor:ID,hasBuilder:function(t){return!!TD[t]},add:function(t){TD[t].call(this)},getGroup:function(){return this.group}};var TD={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get(\"axisLine.show\")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],r=[i[1],0];n\&\&(Q(o,o,n),Q(r,r,n));var s=a({lineCap:\"round\"},e.getModel(\"axisLine.lineStyle\").getLineStyle());this.group.add(new rM(Xn({anid:\"line\",shape:{x1:o[0],y1:o[1],x2:r[0],y2:r[1]},style:s,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var l=e.get(\"axisLine.symbol\"),u=e.get(\"axisLine.symbolSize\"),h=e.get(\"axisLine.symbolOffset\")||0;if(\"number\"==typeof h\&\&(h=[h,h]),null!=l){\"string\"==typeof l\&\&(l=[l,l]),\"string\"!=typeof u\&\&\"number\"!=typeof u||(u=[u,u]);var c=u[0],f=u[1];d([{rotate:t.rotation+Math.PI/2,offset:h[0],r:0},{rotate:t.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((o[0]-r[0])*(o[0]-r[0])+(o[1]-r[1])*(o[1]-r[1]))}],function(e,i){if(\"none\"!==l[i]\&\&null!=l[i]){var n=Xl(l[i],-c/2,-f/2,c,f,s.stroke,!0),a=e.r+e.offset,r=[o[0]+a*Math.cos(t.rotation),o[1]-a*Math.sin(t.rotation)];n.attr({rotation:e.rotate,position:r,silent:!0}),this.group.add(n)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=hh(this,t,e);rh(t,ch(this,t,e),i)},axisName:function(){var t=this.opt,e=this.axisModel,i=T(t.axisName,e.get(\"name\"));if(i){var n,o=e.get(\"nameLocation\"),r=t.nameDirection,s=e.getModel(\"nameTextStyle\"),l=e.get(\"nameGap\")||0,u=this.axisModel.axis.getExtent(),h=u[0]>u[1]?-1:1,c=[\"start\"===o?u[0]-h*l:\"end\"===o?u[1]+h*l:(u[0]+u[1])/2,uh(o)?t.labelOffset+r*l:0],d=e.get(\"nameRotate\");null!=d\&\&(d=d*MD/180);var f;uh(o)?n=AD(t.rotation,null!=d?d:t.rotation,r):(n=oh(t,o,d||0,u),null!=(f=t.axisNameAvailableWidth)\&\&(f=Math.abs(f/Math.sin(n.rotation)),!isFinite(f)\&\&(f=null)));var p=s.getFont(),g=e.get(\"nameTruncate\",!0)||{},m=g.ellipsis,v=T(t.nameTruncateMaxWidth,g.maxWidth,f),y=null!=m\&\&null!=v?VM(i,v,p,m,{minChar:2,placeholder:g.placeholder}):i,x=e.get(\"tooltip\",!0),_=e.mainType,w={componentType:_,name:i,\$vars:[\"name\"]};w[_+\"Index\"]=e.componentIndex;var b=new qS({anid:\"name\",__fullText:i,__truncatedText:y,position:c,rotation:n.rotation,silent:ah(e),z2:1,tooltip:x\&\&x.show?a({content:i,formatter:function(){return i},formatterParams:w},x):null});fo(b.style,s,{text:y,textFont:p,textFill:s.getTextColor()||e.get(\"axisLine.lineStyle.color\"),textAlign:n.textAlign,textVerticalAlign:n.textVerticalAlign}),e.get(\"triggerEvent\")\&\&(b.eventData=nh(e),b.eventData.targetType=\"axisName\",b.eventData.name=i),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},AD=ID.innerTextLayout=function(t,e,i){var n,o,a=Ho(e-t);return Zo(a)?(o=i>0?\"top\":\"bottom\",n=\"center\"):Zo(a-MD)?(o=i>0?\"bottom\":\"top\",n=\"center\"):(o=\"middle\",n=a>0\&\&a<MD?i>0?\"right\":\"left\":i>0?\"left\":\"right\"),{rotation:a,textAlign:n,textVerticalAlign:o}},DD=d,CD=v,LD=Vs({type:\"axis\",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass\&\&yh(t),LD.superApply(this,\"render\",arguments),Sh(this,t,0,i,0,!0)},updateAxisPointer:function(t,e,i,n,o){Sh(this,t,0,i,0,!1)},remove:function(t,e){var i=this._axisPointer;i\&\&i.remove(e),LD.superApply(this,\"remove\",arguments)},dispose:function(t,e){Mh(this,e),LD.superApply(this,\"dispose\",arguments)}}),kD=[];LD.registerAxisPointerClass=function(t,e){kD[t]=e},LD.getAxisPointerClass=function(t){return t\&\&kD[t]};var PD=[\"axisLine\",\"axisTickLabel\",\"axisName\"],ND=[\"splitArea\",\"splitLine\"],OD=LD.extend({type:\"cartesianAxis\",axisPointerClass:\"CartesianAxisPointer\",render:function(t,e,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Zw,this.group.add(this._axisGroup),t.get(\"show\")){var a=t.getCoordSysModel(),r=Ih(a,t),s=new ID(t,r);d(PD,s.add,s),this._axisGroup.add(s.getGroup()),d(ND,function(e){t.get(e+\".show\")\&\&this[\"_\"+e](t,a)},this),Ao(o,this._axisGroup,t),OD.superCall(this,\"render\",t,e,i,n)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel(\"splitLine\"),o=n.getModel(\"lineStyle\"),a=o.get(\"color\");a=y(a)?a:[a];for(var s=e.coordinateSystem.getRect(),l=i.isHorizontal(),u=0,h=i.getTicksCoords({tickModel:n}),c=[],d=[],f=o.getLineStyle(),p=0;p<h.length;p++){var g=i.toGlobalCoord(h[p].coord);l?(c[0]=g,c[1]=s.y,d[0]=g,d[1]=s.y+s.height):(c[0]=s.x,c[1]=g,d[0]=s.x+s.width,d[1]=g);var m=u++%a.length,v=h[p].tickValue;this._axisGroup.add(new rM(Xn({anid:null!=v?\"line_\"+h[p].tickValue:null,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:r({stroke:a[m]},f),silent:!0})))}}},_splitArea:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel(\"splitArea\"),o=n.getModel(\"areaStyle\"),a=o.get(\"color\"),s=e.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:n,clamp:!0});if(l.length){var u=a.length,h=this._splitAreaColors,c=R(),d=0;if(h)for(m=0;m<l.length;m++){var f=h.get(l[m].tickValue);if(null!=f){d=(f+(u-1)*m)%u;break}}var p=i.toGlobalCoord(l[0].coord),g=o.getAreaStyle();a=y(a)?a:[a];for(var m=1;m<l.length;m++){var v,x,_,w,b=i.toGlobalCoord(l[m].coord);i.isHorizontal()?(v=p,x=s.y,_=b-v,w=s.height,p=v+_):(v=s.x,x=p,_=s.width,p=x+(w=b-x));var S=l[m-1].tickValue;null!=S\&\&c.set(S,d),this._axisGroup.add(new aM({anid:null!=S?\"area_\"+S:null,shape:{x:v,y:x,width:_,height:w},style:r({fill:a[d]},g),silent:!0})),d=(d+1)%u}this._splitAreaColors=c}}}});OD.extend({type:\"xAxis\"}),OD.extend({type:\"yAxis\"}),Vs({type:\"grid\",render:function(t,e){this.group.removeAll(),t.get(\"show\")\&\&this.group.add(new aM({shape:t.coordinateSystem.getRect(),style:r({fill:t.get(\"backgroundColor\")},t.getItemStyle()),silent:!0,z2:-1}))}}),Ls(function(t){t.xAxis\&\&t.yAxis\&\&!t.grid\&\&(t.grid={})}),Es(hD(\"line\",\"circle\",\"line\")),Os(cD(\"line\")),ks(IT.PROCESSOR.STATISTIC,function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,i){var n=t.getData(),o=t.get(\"sampling\"),a=t.coordinateSystem;if(\"cartesian2d\"===a.type\&\&o){var r=a.getBaseAxis(),s=a.getOtherAxis(r),l=r.getExtent(),u=l[1]-l[0],h=Math.round(n.count()/u);if(h>1){var c;\"string\"==typeof o?c=dD[o]:\"function\"==typeof o\&\&(c=o),c\&\&t.setData(n.downSample(n.mapDimension(s.dim),1/h,c,fD))}}}}}(\"line\"));var ED=OI.extend({type:\"series.__base_bar__\",getInitialData:function(t,e){return dl(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),o=n.getLayout(\"offset\"),a=n.getLayout(\"size\");return i[e.getBaseAxis().isHorizontal()?0:1]+=o+a/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:\"mod\",itemStyle:{},emphasis:{}}});ED.extend({type:\"series.bar\",dependencies:[\"grid\",\"polar\"],brushSelector:\"rect\",getProgressive:function(){return!!this.get(\"large\")\&\&this.get(\"progressive\")},getProgressiveThreshold:function(){var t=this.get(\"progressiveThreshold\"),e=this.get(\"largeThreshold\");return e>t\&\&(t=e),t}});var RD=Wb([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"barBorderColor\"],[\"lineWidth\",\"barBorderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),zD={getBarItemStyle:function(t){var e=RD(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i\&\&(e.lineDash=i)}return e}},BD=[\"itemStyle\",\"barBorderWidth\"];a(Lo.prototype,zD),Fs({type:\"bar\",render:function(t,e,i){this._updateDrawMode(t);var n=t.get(\"coordinateSystem\");return\"cartesian2d\"!==n\&\&\"polar\"!==n||(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i)),this.group},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)\&\&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,i){var n,o=this.group,a=t.getData(),r=this._data,s=t.coordinateSystem,l=s.getBaseAxis();\"cartesian2d\"===s.type?n=l.isHorizontal():\"polar\"===s.type\&\&(n=\"angle\"===l.dim);var u=t.isAnimationEnabled()?t:null;a.diff(r).add(function(e){if(a.hasValue(e)){var i=a.getItemModel(e),r=GD[s.type](a,e,i),l=VD[s.type](a,e,i,r,n,u);a.setItemGraphicEl(e,l),o.add(l),Lh(l,a,e,i,r,t,n,\"polar\"===s.type)}}).update(function(e,i){var l=r.getItemGraphicEl(i);if(a.hasValue(e)){var h=a.getItemModel(e),c=GD[s.type](a,e,h);l?bo(l,{shape:c},u,e):l=VD[s.type](a,e,h,c,n,u,!0),a.setItemGraphicEl(e,l),o.add(l),Lh(l,a,e,h,c,t,n,\"polar\"===s.type)}else o.remove(l)}).remove(function(t){var e=r.getItemGraphicEl(t);\"cartesian2d\"===s.type?e\&\&Dh(t,u,e):e\&\&Ch(t,u,e)}).execute(),this._data=a},_renderLarge:function(t,e,i){this._clear(),Ph(t,this.group)},_incrementalRenderLarge:function(t,e){Ph(e,this.group,!0)},dispose:B,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,i=this._data;t\&\&t.get(\"animation\")\&\&i\&\&!this._isLargeDraw?i.eachItemGraphicEl(function(e){\"sector\"===e.type?Ch(e.dataIndex,t,e):Dh(e.dataIndex,t,e)}):e.removeAll(),this._data=null}});var VD={cartesian2d:function(t,e,i,n,o,r,s){var l=new aM({shape:a({},n)});if(r){var u=l.shape,h=o?\"height\":\"width\",c={};u[h]=0,c[h]=n[h],bM[s?\"updateProps\":\"initProps\"](l,{shape:c},r,e)}return l},polar:function(t,e,i,n,o,a,s){var l=n.startAngle<n.endAngle,u=new QS({shape:r({clockwise:l},n)});if(a){var h=u.shape,c=o?\"r\":\"endAngle\",d={};h[c]=o?0:n.startAngle,d[c]=n[c],bM[s?\"updateProps\":\"initProps\"](u,{shape:d},a,e)}return u}},GD={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=kh(i,n),a=n.width>0?1:-1,r=n.height>0?1:-1;return{x:n.x+a*o/2,y:n.y+r*o/2,width:n.width-a*o,height:n.height-r*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}},FD=kn.extend({type:\"largeBar\",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,n=this.__startPoint,o=this.__valueIdx,a=0;a<i.length;a+=2)n[this.__valueIdx]=i[a+o],t.moveTo(n[0],n[1]),t.lineTo(i[a],i[a+1])}});Os(v(kl,\"bar\")),Os(fA),Es({seriesType:\"bar\",reset:function(t){t.getData().setVisual(\"legendSymbol\",\"roundRect\")}});var WD=function(t,e,i){e=y(e)\&\&{coordDimensions:e}||a({},e);var n=t.getSource(),o=oA(n,e),r=new eA(o,t);return r.initData(n,i),r},HD={updateSelectedMap:function(t){this._targetList=y(t)?t.slice():[],this._selectTargetMap=p(t||[],function(t,e){return t.set(e.name,e),t},R())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);\"single\"===this.get(\"selectedMode\")\&\&this._selectTargetMap.each(function(t){t.selected=!1}),i\&\&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i\&\&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?\"unSelect\":\"select\"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i\&\&i.selected}},ZD=Gs({type:\"series.pie\",init:function(t){ZD.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){ZD.superCall(this,\"mergeOption\",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return WD(this,[\"value\"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension(\"value\"),i=[],n=0,o=t.count();n<o;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:cr(t,n,\"selected\")});return i},getDataParams:function(t){var e=this.getData(),i=ZD.superCall(this,\"getDataParams\",t),n=[];return e.each(e.mapDimension(\"value\"),function(t){n.push(t)}),i.percent=Wo(n,t,e.hostModel.get(\"percentPrecision\")),i.\$vars.push(\"percent\"),i},_defaultLabelLine:function(t){Ci(t,\"labelLine\",[\"show\"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show\&\&t.label.show,i.show=i.show\&\&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:\"outer\"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderWidth:1},animationType:\"expansion\",animationEasing:\"cubicOut\"}});h(ZD,HD);var UD=Rh.prototype;UD.updateData=function(t,e,i){function n(){s.stopAnimation(!0),s.animateTo({shape:{r:h.r+l.get(\"hoverOffset\")}},300,\"elasticOut\")}function o(){s.stopAnimation(!0),s.animateTo({shape:{r:h.r}},300,\"elasticOut\")}var s=this.childAt(0),l=t.hostModel,u=t.getItemModel(e),h=t.getItemLayout(e),c=a({},h);c.label=null,i?(s.setShape(c),\"scale\"===l.getShallow(\"animationType\")?(s.shape.r=h.r0,So(s,{shape:{r:h.r}},l,e)):(s.shape.endAngle=h.startAngle,bo(s,{shape:{endAngle:h.endAngle}},l,e))):bo(s,{shape:c},l,e);var d=t.getItemVisual(e,\"color\");s.useStyle(r({lineJoin:\"bevel\",fill:d},u.getModel(\"itemStyle\").getItemStyle())),s.hoverStyle=u.getModel(\"emphasis.itemStyle\").getItemStyle();var f=u.getShallow(\"cursor\");f\&\&s.attr(\"cursor\",f),Eh(this,t.getItemLayout(e),l.isSelected(null,e),l.get(\"selectedOffset\"),l.get(\"animation\")),s.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),u.get(\"hoverAnimation\")\&\&l.isAnimationEnabled()\&\&s.on(\"mouseover\",n).on(\"mouseout\",o).on(\"emphasis\",n).on(\"normal\",o),this._updateLabel(t,e),uo(this)},UD._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,\"color\");bo(i,{shape:{points:r.linePoints||[[r.x,r.y],[r.x,r.y],[r.x,r.y]]}},o,e),bo(n,{style:{x:r.x,y:r.y}},o,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel(\"label\"),u=a.getModel(\"emphasis.label\"),h=a.getModel(\"labelLine\"),c=a.getModel(\"emphasis.labelLine\"),s=t.getItemVisual(e,\"color\");co(n.style,n.hoverStyle={},l,u,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign,opacity:t.getItemVisual(e,\"opacity\")}),n.ignore=n.normalIgnore=!l.get(\"show\"),n.hoverIgnore=!u.get(\"show\"),i.ignore=i.normalIgnore=!h.get(\"show\"),i.hoverIgnore=!c.get(\"show\"),i.setStyle({stroke:s,opacity:t.getItemVisual(e,\"opacity\")}),i.setStyle(h.getModel(\"lineStyle\").getLineStyle()),i.hoverStyle=c.getModel(\"lineStyle\").getLineStyle();var d=h.get(\"smooth\");d\&\&!0===d\&\&(d=.4),i.setShape({smooth:d})},u(Rh,Zw);Mr.extend({type:\"pie\",init:function(){var t=new Zw;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var o=t.getData(),a=this._data,r=this.group,s=e.get(\"animation\"),l=!a,u=t.get(\"animationType\"),h=v(Oh,this.uid,t,s,i),c=t.get(\"selectedMode\");if(o.diff(a).add(function(t){var e=new Rh(o,t);l\&\&\"scale\"!==u\&\&e.eachChild(function(t){t.stopAnimation(!0)}),c\&\&e.on(\"click\",h),o.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);i.updateData(o,t),i.off(\"click\"),c\&\&i.on(\"click\",h),r.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);r.remove(e)}).execute(),s\&\&l\&\&o.count()>0\&\&\"scale\"!==u){var d=o.getItemLayout(0),f=Math.max(i.getWidth(),i.getHeight())/2,p=m(r.removeClipPath,r);r.setClipPath(this._createClipPath(d.cx,d.cy,f,d.startAngle,d.clockwise,p,t))}else r.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(t,e,i,n,o,a,r){var s=new QS({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return So(s,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},r,a),s},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r\&\&a>=i.r0}}});var XD=function(t,e){d(e,function(e){e.update=\"updateView\",Ps(e,function(i,n){var o={};return n.eachComponent({mainType:\"series\",subType:t,query:i},function(t){t[e.method]\&\&t[e.method](i.name,i.dataIndex);var n=t.getData();n.each(function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1})}),{name:i.name,selected:o}})})},jD=function(t){return{getTargetSeries:function(e){var i={},n=R();return e.eachSeriesByType(t,function(t){t.__paletteScope=i,n.set(t.uid,t)}),n},reset:function(t,e){var i=t.getRawData(),n={},o=t.getData();o.each(function(t){var e=o.getRawIndex(t);n[e]=t}),i.each(function(e){var a=n[e],r=null!=a\&\&o.getItemVisual(a,\"color\",!0);if(r)i.setItemVisual(e,\"color\",r);else{var s=i.getItemModel(e).get(\"itemStyle.color\")||t.getColorFromPalette(i.getName(e)||e+\"\",t.__paletteScope,i.count());i.setItemVisual(e,\"color\",s),null!=a\&\&o.setItemVisual(a,\"color\",s)}})}}},YD=function(t,e,i,n){var o,a,r=t.getData(),s=[],l=!1;r.each(function(i){var n,u,h,c,d=r.getItemLayout(i),f=r.getItemModel(i),p=f.getModel(\"label\"),g=p.get(\"position\")||f.get(\"emphasis.label.position\"),m=f.getModel(\"labelLine\"),v=m.get(\"length\"),y=m.get(\"length2\"),x=(d.startAngle+d.endAngle)/2,_=Math.cos(x),w=Math.sin(x);o=d.cx,a=d.cy;var b=\"inside\"===g||\"inner\"===g;if(\"center\"===g)n=d.cx,u=d.cy,c=\"center\";else{var S=(b?(d.r+d.r0)/2*_:d.r*_)+o,M=(b?(d.r+d.r0)/2*w:d.r*w)+a;if(n=S+3*_,u=M+3*w,!b){var I=S+_*(v+e-d.r),T=M+w*(v+e-d.r),A=I+(_<0?-1:1)*y,D=T;n=A+(_<0?-5:5),u=D,h=[[S,M],[I,T],[A,D]]}c=b?\"center\":_>0?\"left\":\"right\"}var C=p.getFont(),L=p.get(\"rotate\")?_<0?-x+Math.PI:-x:0,k=De(t.getFormattedLabel(i,\"normal\")||r.getName(i),C,c,\"top\");l=!!L,d.label={x:n,y:u,position:g,height:k.height,len:v,len2:y,linePoints:h,textAlign:c,verticalAlign:\"middle\",rotation:L,inside:b},b||s.push(d.label)}),!l\&\&t.get(\"avoidLabelOverlap\")\&\&Bh(s,o,a,e,i,n)},qD=2*Math.PI,KD=Math.PI/180,\$D=function(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:\"legend\"});if(i\&\&i.length){var n=t.getData();n.filterSelf(function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0})}}}};XD(\"pie\",[{type:\"pieToggleSelect\",event:\"pieselectchanged\",method:\"toggleSelected\"},{type:\"pieSelect\",event:\"pieselected\",method:\"select\"},{type:\"pieUnSelect\",event:\"pieunselected\",method:\"unSelect\"}]),Es(jD(\"pie\")),Os(v(function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.getData(),n=e.mapDimension(\"value\"),o=t.get(\"center\"),a=t.get(\"radius\");y(a)||(a=[0,a]),y(o)||(o=[o,o]);var r=i.getWidth(),s=i.getHeight(),l=Math.min(r,s),u=Ro(o[0],r),h=Ro(o[1],s),c=Ro(a[0],l/2),d=Ro(a[1],l/2),f=-t.get(\"startAngle\")*KD,p=t.get(\"minAngle\")*KD,g=0;e.each(n,function(t){!isNaN(t)\&\&g++});var m=e.getSum(n),v=Math.PI/(m||g)*2,x=t.get(\"clockwise\"),_=t.get(\"roseType\"),w=t.get(\"stillShowZeroSum\"),b=e.getDataExtent(n);b[0]=0;var S=qD,M=0,I=f,T=x?1:-1;if(e.each(n,function(t,i){var n;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:u,cy:h,r0:c,r:_?NaN:d});else{(n=\"area\"!==_?0===m\&\&w?v:t*v:qD/g)<p?(n=p,S-=p):M+=t;var o=I+T*n;e.setItemLayout(i,{angle:n,startAngle:I,endAngle:o,clockwise:x,cx:u,cy:h,r0:c,r:_?Eo(t,b,[c,d]):d}),I=o}}),S<qD\&\&g)if(S<=.001){var A=qD/g;e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=A,n.startAngle=f+T*i*A,n.endAngle=f+T*(i+1)*A}})}else v=S/M,I=f,e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),o=n.angle===p?p:t*v;n.startAngle=I,n.endAngle=I+T*o,I+=T*o}});YD(t,d,r,s)})},\"pie\")),ks(\$D(\"pie\")),OI.extend({type:\"series.scatter\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],getInitialData:function(t,e){return dl(this.getSource(),this)},brushSelector:\"point\",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get(\"progressive\"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get(\"progressiveThreshold\"):t},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var JD=Fn({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var i=e.points,n=e.size,o=this.symbolProxy,a=o.shape;if(!((t.getContext?t.getContext():t)\&\&n[0]<4))for(var r=0;r<i.length;){var s=i[r++],l=i[r++];isNaN(s)||isNaN(l)||(a.x=s-n[0]/2,a.y=l-n[1]/2,a.width=n[0],a.height=n[1],o.buildPath(t,a,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var o=0;o<i.length;){var a=i[o++],r=i[o++];isNaN(a)||isNaN(r)||t.fillRect(a-n[0]/2,r-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,o=i.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,u=n[l]-a/2,h=n[l+1]-r/2;if(t>=u\&\&e>=h\&\&t<=u+a\&\&e<=h+r)return s}return-1}}),QD=Vh.prototype;QD.isPersistent=function(){return!this._incremental},QD.updateData=function(t){this.group.removeAll();var e=new JD({rectHover:!0,cursor:\"default\"});e.setShape({points:t.getLayout(\"symbolPoints\")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},QD.updateLayout=function(t){if(!this._incremental){var e=t.getLayout(\"symbolPoints\");this.group.eachChild(function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape(\"points\",e)})}},QD.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Gn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},QD.incrementalUpdate=function(t,e){var i;this._incremental?(i=new JD,this._incremental.addDisplayable(i,!0)):((i=new JD({rectHover:!0,cursor:\"default\",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout(\"symbolPoints\")}),this._setCommon(i,e,!!this._incremental)},QD._setCommon=function(t,e,i){var n=e.hostModel,o=e.getVisual(\"symbolSize\");t.setShape(\"size\",o instanceof Array?o:[o,o]),t.symbolProxy=Xl(e.getVisual(\"symbol\"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(n.getModel(\"itemStyle\").getItemStyle(a?[\"color\",\"shadowBlur\",\"shadowColor\"]:[\"color\"]));var r=e.getVisual(\"color\");r\&\&t.setColor(r),i||(t.seriesIndex=n.seriesIndex,t.on(\"mousemove\",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>=0\&\&(t.dataIndex=i+(t.startIndex||0))}))},QD.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},QD._clearIncremental=function(){var t=this._incremental;t\&\&t.clearDisplaybles()},Fs({type:\"scatter\",render:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n),this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=cD().reset(t);o.progress\&\&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,n=e.pipelineContext.large;return i\&\&n===this._isLargeDraw||(i\&\&i.remove(),i=this._symbolDraw=n?new Vh:new Su,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw\&\&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Es(hD(\"scatter\",\"circle\")),Os(cD(\"scatter\")),u(Gh,HA),Fh.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Fh.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},Fh.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},Fh.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,a=Math.atan2(-i,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(a-u.angle);h<r\&\&(o=u,s=l,r=h)}return[s,+(o\&\&o.coodToData(n))]},Fh.prototype.resize=function(t,e){var i=t.get(\"center\"),n=e.getWidth(),o=e.getHeight(),a=Math.min(n,o)/2;this.cx=Ro(i[0],n),this.cy=Ro(i[1],o),this.startAngle=t.get(\"startAngle\")*Math.PI/180;var r=t.get(\"radius\");\"string\"!=typeof r\&\&\"number\"!=typeof r||(r=[0,r]),this.r0=Ro(r[0],a),this.r=Ro(r[1],a),d(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},Fh.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,o=this._model;d(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType(\"radar\",function(e,i){if(\"radar\"===e.get(\"coordinateSystem\")\&\&t.getComponent(\"radar\",e.get(\"radarIndex\"))===o){var a=e.getData();d(n,function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))})}},this);var a=o.get(\"splitNumber\");d(n,function(t,e){var n=Rl(t.scale,t.model);Bl(t.scale,t.model);var o=t.model,r=t.scale,s=o.getMin(),l=o.getMax(),u=r.getInterval();if(null!=s\&\&null!=l)r.setExtent(+s,+l),r.setInterval((l-s)/a);else if(null!=s){var h;do{h=s+u*a,r.setExtent(+s,h),r.setInterval(u),u=i(u)}while(h<n[1]\&\&isFinite(h)\&\&isFinite(n[1]))}else if(null!=l){var c;do{c=l-u*a,r.setExtent(c,+l),r.setInterval(u),u=i(u)}while(c>n[0]\&\&isFinite(c)\&\&isFinite(n[0]))}else{r.getTicks().length-1>a\&\&(u=i(u));var d=Math.round((n[0]+n[1])/2/u)*u,f=Math.round(a/2);r.setExtent(zo(d-f*u),zo(d+(a-f)*u)),r.setInterval(u)}})},Fh.dimensions=[],Fh.create=function(t,e){var i=[];return t.eachComponent(\"radar\",function(n){var o=new Fh(n,t,e);i.push(o),n.coordinateSystem=o}),t.eachSeriesByType(\"radar\",function(t){\"radar\"===t.get(\"coordinateSystem\")\&\&(t.coordinateSystem=i[t.get(\"radarIndex\")||0])}),i},Ba.register(\"radar\",Fh);var tC=vD.valueAxis,eC=(Bs({type:\"radar\",optionUpdated:function(){var t=this.get(\"boundaryGap\"),e=this.get(\"splitNumber\"),o=this.get(\"scale\"),s=this.get(\"axisLine\"),l=this.get(\"axisTick\"),u=this.get(\"axisLabel\"),h=this.get(\"name\"),c=this.get(\"name.show\"),d=this.get(\"name.formatter\"),p=this.get(\"nameGap\"),g=this.get(\"triggerEvent\"),m=f(this.get(\"indicator\")||[],function(f){null!=f.max\&\&f.max>0\&\&!f.min?f.min=0:null!=f.min\&\&f.min<0\&\&!f.max\&\&(f.max=0);var m=h;if(null!=f.color\&\&(m=r({color:f.color},h)),f=n(i(f),{boundaryGap:t,splitNumber:e,scale:o,axisLine:s,axisTick:l,axisLabel:u,name:f.text,nameLocation:\"end\",nameGap:p,nameTextStyle:m,triggerEvent:g},!1),c||(f.name=\"\"),\"string\"==typeof d){var v=f.name;f.name=d.replace(\"{value}\",null!=v?v:\"\")}else\"function\"==typeof d\&\&(f.name=d(f.name,f));var y=a(new Lo(f,null,this.ecModel),CA);return y.mainType=\"radar\",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return m}},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"75%\",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:\"polygon\",axisLine:n({lineStyle:{color:\"#bbb\"}},tC.axisLine),axisLabel:Wh(tC.axisLabel,!1),axisTick:Wh(tC.axisTick,!1),splitLine:Wh(tC.splitLine,!0),splitArea:Wh(tC.splitArea,!0),indicator:[]}}),[\"axisLine\",\"axisTickLabel\",\"axisName\"]);Vs({type:\"radar\",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem;d(f(e.getIndicatorAxes(),function(t){return new ID(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){d(eC,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=i.getIndicatorAxes();if(n.length){var o=t.get(\"shape\"),a=t.getModel(\"splitLine\"),s=t.getModel(\"splitArea\"),l=a.getModel(\"lineStyle\"),u=s.getModel(\"areaStyle\"),h=a.get(\"show\"),c=s.get(\"show\"),p=l.get(\"color\"),g=u.get(\"color\");p=y(p)?p:[p],g=y(g)?g:[g];var m=[],v=[];if(\"circle\"===o)for(var x=n[0].getTicksCoords(),_=i.cx,w=i.cy,b=0;b<x.length;b++)h\&\&m[D=e(m,p,b)].push(new KS({shape:{cx:_,cy:w,r:x[b].coord}})),c\&\&b<x.length-1\&\&v[D=e(v,g,b)].push(new tM({shape:{cx:_,cy:w,r0:x[b].coord,r:x[b+1].coord}}));else for(var S,M=f(n,function(t,e){var n=t.getTicksCoords();return S=null==S?n.length-1:Math.min(n.length-1,S),f(n,function(t){return i.coordToPoint(t.coord,e)})}),I=[],b=0;b<=S;b++){for(var T=[],A=0;A<n.length;A++)T.push(M[A][b]);if(T[0]\&\&T.push(T[0].slice()),h\&\&m[D=e(m,p,b)].push(new oM({shape:{points:T}})),c\&\&I){var D=e(v,g,b-1);v[D].push(new nM({shape:{points:T.concat(I)}}))}I=T.slice().reverse()}var C=l.getLineStyle(),L=u.getAreaStyle();d(v,function(t,e){this.group.add(xM(t,{style:r({stroke:\"none\",fill:g[e%g.length]},L),silent:!0}))},this),d(m,function(t,e){this.group.add(xM(t,{style:r({fill:\"none\",stroke:p[e%p.length]},C),silent:!0}))},this)}}});var iC=OI.extend({type:\"series.radar\",dependencies:[\"radar\"],init:function(t){iC.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return WD(this,{generateCoord:\"indicator_\",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),n=this.getData().getName(t);return Qo(\"\"===n?this.name:n)+\"<br/>\"+f(i,function(i,n){var o=e.get(e.mapDimension(i.dim),t);return Qo(i.name+\" : \"+o)}).join(\"<br />\")},defaultOption:{zlevel:0,z:2,coordinateSystem:\"radar\",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:\"solid\"},label:{position:\"top\"},symbol:\"emptyCircle\",symbolSize:4}});Fs({type:\"radar\",render:function(t,e,n){function o(t,e){var i=t.getItemVisual(e,\"symbol\")||\"circle\",n=t.getItemVisual(e,\"color\");if(\"none\"!==i){var o=Hh(t.getItemVisual(e,\"symbolSize\")),a=Xl(i,-1,-1,2,2,n);return a.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),a}}function a(e,i,n,a,r,s){n.removeAll();for(var l=0;l<i.length-1;l++){var u=o(a,r);u\&\&(u.__dimIdx=l,e[l]?(u.attr(\"position\",e[l]),bM[s?\"initProps\":\"updateProps\"](u,{position:i[l]},t,r)):u.attr(\"position\",i[l]),n.add(u))}}function s(t){return f(t,function(t){return[l.cx,l.cy]})}var l=t.coordinateSystem,u=this.group,h=t.getData(),c=this._data;h.diff(c).add(function(e){var i=h.getItemLayout(e);if(i){var n=new nM,o=new oM,r={shape:{points:i}};n.shape.points=s(i),o.shape.points=s(i),So(n,r,t,e),So(o,r,t,e);var l=new Zw,u=new Zw;l.add(o),l.add(n),l.add(u),a(o.shape.points,i,u,h,e,!0),h.setItemGraphicEl(e,l)}}).update(function(e,i){var n=c.getItemGraphicEl(i),o=n.childAt(0),r=n.childAt(1),s=n.childAt(2),l={shape:{points:h.getItemLayout(e)}};l.shape.points\&\&(a(o.shape.points,l.shape.points,s,h,e,!1),bo(o,l,t),bo(r,l,t),h.setItemGraphicEl(e,n))}).remove(function(t){u.remove(c.getItemGraphicEl(t))}).execute(),h.eachItemGraphicEl(function(t,e){function n(){l.attr(\"ignore\",m)}function o(){l.attr(\"ignore\",g)}var a=h.getItemModel(e),s=t.childAt(0),l=t.childAt(1),c=t.childAt(2),d=h.getItemVisual(e,\"color\");u.add(t),s.useStyle(r(a.getModel(\"lineStyle\").getLineStyle(),{fill:\"none\",stroke:d})),s.hoverStyle=a.getModel(\"emphasis.lineStyle\").getLineStyle();var f=a.getModel(\"areaStyle\"),p=a.getModel(\"emphasis.areaStyle\"),g=f.isEmpty()\&\&f.parentModel.isEmpty(),m=p.isEmpty()\&\&p.parentModel.isEmpty();m=m\&\&g,l.ignore=g,l.useStyle(r(f.getAreaStyle(),{fill:d,opacity:.7})),l.hoverStyle=p.getAreaStyle();var v=a.getModel(\"itemStyle\").getItemStyle([\"color\"]),y=a.getModel(\"emphasis.itemStyle\").getItemStyle(),x=a.getModel(\"label\"),_=a.getModel(\"emphasis.label\");c.eachChild(function(t){t.setStyle(v),t.hoverStyle=i(y),co(t.style,t.hoverStyle,x,_,{labelFetcher:h.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:h.get(h.dimensions[t.__dimIdx],e),autoColor:d,isRectText:!0})}),t.off(\"mouseover\").off(\"mouseout\").off(\"normal\").off(\"emphasis\"),t.on(\"emphasis\",n).on(\"mouseover\",n).on(\"normal\",o).on(\"mouseout\",o),uo(t)}),this._data=h},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});Es(jD(\"radar\")),Es(hD(\"radar\",\"circle\")),Os(function(t){t.eachSeriesByType(\"radar\",function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){for(var o=n.getIndicatorAxes(),a=0;a<o.length;a++)e.each(e.mapDimension(o[a].dim),function(t,e){i[e]=i[e]||[],i[e][a]=n.dataToPoint(t,a)});e.each(function(t){i[t][0]\&\&i[t].push(i[t][0].slice()),e.setItemLayout(t,i[t])})}})}),ks(\$D(\"radar\")),Ls(function(t){var e=t.polar;if(e){y(e)||(e=[e]);var i=[];d(e,function(e,n){e.indicator?(e.type\&\&!e.shape\&\&(e.shape=e.type),t.radar=t.radar||[],y(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}d(t.series,function(t){t\&\&\"radar\"===t.type\&\&t.polarIndex\&\&(t.radarIndex=t.polarIndex)})});var nC=Q;h(Zh,mw),Uh.prototype={constructor:Uh,type:\"view\",dimensions:[\"x\",\"y\"],setBoundingRect:function(t,e,i,n){return this._rect=new ue(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new ue(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new ue(t,e,i,n)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t\&\&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e\&\&(null!=e.max\&\&(t=Math.min(e.max,t)),null!=e.min\&\&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=Q([],n,t),i=Q([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),yt(this.transform||(this.transform=[]),e.transform||mt()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],St(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?nC(i,t,n):G(i,t)},pointToData:function(t){var e=this.invTransform;return e?nC([],t,e):[t[0],t[1]]},convertToPixel:v(Xh,\"dataToPoint\"),convertFromPixel:v(Xh,\"pointToData\"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},h(Uh,mw);for(var oC=[126,25],aC=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],rC=0;rC<aC.length;rC++)for(var sC=0;sC<aC[rC].length;sC++)aC[rC][sC][0]/=10.5,aC[rC][sC][1]/=-14,aC[rC][sC][0]+=oC[0],aC[rC][sC][1]+=oC[1];var lC=function(t,e){\"china\"===t\&\&e.push(new ql(\"å—æµ·è¯¸å²›\",f(aC,function(t){return{type:\"polygon\",exterior:t}}),oC))},uC={\"å—æµ·è¯¸å²›\":[32,80],\"å¹¿ä¸œ\":[0,-10],\"é¦™æ¸¯\":[10,5],\"æ¾³é—¨\":[-10,10],\"å¤©æ´¥\":[5,5]},hC=function(t,e){if(\"china\"===t){var i=uC[e.name];if(i){var n=e.center;n[0]+=i[0]/10.5,n[1]+=-i[1]/14}}},cC={Russia:[100,60],\"United States\":[-99,38],\"United States of America\":[-99,38]},dC=function(t,e){if(\"world\"===t){var i=cC[e.name];if(i){var n=e.center;n[0]=i[0],n[1]=i[1]}}},fC=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],pC=function(t,e){\"china\"===t\&\&\"å°æ¹¾\"===e.name\&\&e.geometries.push({type:\"polygon\",exterior:fC[0]})},gC=Bi(),mC={load:function(t,e){var i=gC(e).parsed;if(i)return i;var n,o=e.specialAreas||{},a=e.geoJSON;try{n=a?GA(a):[]}catch(t){throw new Error(\"Invalid geoJson format\\n\"+t.message)}return d(n,function(e){var i=e.name;hC(t,e),dC(t,e),pC(t,e);var n=o[i];n\&\&e.transformTo(n.left,n.top,n.width,n.height)}),lC(t,n),gC(e).parsed={regions:n,boundingRect:jh(n)}}},vC=Bi(),yC={geoJSON:mC,svg:{load:function(t,e){var i=vC(e).originRoot;if(i)return{root:i,boundingRect:vC(e).boundingRect};var n=Yh(e);return vC(e).originRoot=n.root,vC(e).boundingRect=n.boundingRect,n},makeGraphic:function(t,e,i){var n=vC(e),o=n.rootMap||(n.rootMap=R()),a=o.get(i);if(a)return a;var r=n.originRoot,s=n.boundingRect;return n.originRootHostKey?a=Yh(e,s).root:(n.originRootHostKey=i,a=r),o.set(i,a)},removeGraphic:function(t,e,i){var n=vC(e),o=n.rootMap;o\&\&o.removeKey(i),i===n.originRootHostKey\&\&(n.originRootHostKey=null)}}},xC={load:function(t,e){var i,n=[],o=R(),a=R();return d(Kh(t),function(r){var s=yC[r.type].load(t,r);d(s.regions,function(t){var i=t.name;e\&\&e.hasOwnProperty(i)\&\&(t=t.cloneShallow(i=e[i])),n.push(t),o.set(i,t),a.set(i,t.center)});var l=s.boundingRect;l\&\&(i?i.union(l):i=l.clone())}),{regions:n,regionsMap:o,nameCoordMap:a,boundingRect:i||new ue(0,0,0,0)}},makeGraphic:qh(\"makeGraphic\"),removeGraphic:qh(\"removeGraphic\")};\$h.prototype={constructor:\$h,type:\"geo\",dimensions:[\"lng\",\"lat\"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a\&\&(o.y=-o.y-o.height);var r=this._rawTransformable;if(r.transform=o.calculateTransform(new ue(t,e,i,n)),r.decomposeTransform(),a){var s=r.scale;s[1]=-s[1]}r.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,i){if(\"string\"==typeof t\&\&(t=this.getGeoCoord(t)),t)return Uh.prototype.dataToPoint.call(this,t,e,i)},convertToPixel:v(Jh,\"dataToPoint\"),convertFromPixel:v(Jh,\"pointToData\")},h(\$h,Uh);var _C={dimensions:\$h.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent(\"geo\",function(t,n){var o=t.get(\"map\"),a=t.get(\"aspectScale\"),r=!0,s=pT.retrieveMap(o);s\&\&s[0]\&\&\"svg\"===s[0].type?(null==a\&\&(a=1),r=!1):null==a\&\&(a=.75);var l=new \$h(o+n,o,t.get(\"nameMap\"),r);l.aspectScale=a,l.zoomLimit=t.get(\"scaleLimit\"),i.push(l),tc(l,t),t.coordinateSystem=l,l.model=t,l.resize=Qh,l.resize(t,e)}),t.eachSeries(function(t){if(\"geo\"===t.get(\"coordinateSystem\")){var e=t.get(\"geoIndex\")||0;t.coordinateSystem=i[e]}});var n={};return t.eachSeriesByType(\"map\",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();n[e]=n[e]||[],n[e].push(t)}}),d(n,function(t,n){var a=new \$h(n,n,o(f(t,function(t){return t.get(\"nameMap\")})));a.zoomLimit=T.apply(null,f(t,function(t){return t.get(\"scaleLimit\")})),i.push(a),a.resize=Qh,a.aspectScale=t[0].get(\"aspectScale\"),a.resize(t[0],e),d(t,function(t){t.coordinateSystem=a,tc(a,t)})}),i},getFilledRegions:function(t,e,i){for(var n=(t||[]).slice(),o=R(),a=0;a<n.length;a++)o.set(n[a].name,n[a]);return d(xC.load(e,i).regions,function(t){var e=t.name;!o.get(e)\&\&n.push({name:e})}),n}};Ns(\"geo\",_C);var wC=OI.extend({type:\"series.map\",dependencies:[\"geo\"],layoutMode:\"box\",needsDrawMap:!1,seriesGroup:[],init:function(t){wC.superApply(this,\"init\",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t){return WD(this,[\"value\"])},mergeOption:function(t){wC.superApply(this,\"mergeOption\",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension(\"value\"),i=[],n=0,o=t.count();n<o;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:cr(t,n,\"selected\")});return i=_C.getFilledRegions(i,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension(\"value\"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=\$o(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,a=[],r=0;r<o.length;r++){var s=o[r].originalData.indexOfName(n),l=e.mapDimension(\"value\");isNaN(o[r].originalData.get(l,s))||a.push(Qo(o[r].name))}return a.join(\", \")+\"<br />\"+Qo(n+\" : \"+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n\&\&i.dataToPoint(n.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:\"geo\",map:\"\",left:\"center\",top:\"center\",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",areaColor:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{areaColor:\"rgba(255,215,0,0.8)\"}}}});h(wC,HD);var bC=\"\\0_ec_interaction_mutex\";Ps({type:\"takeGlobalCursor\",event:\"globalCursorTaken\",update:\"update\"},function(){}),h(ac,aw);var SC={axisPointer:1,tooltip:1,brush:1};_c.prototype={constructor:_c,draw:function(t,e,i,n,o){var a=\"geo\"===t.mainType,r=t.getData\&\&t.getData();a\&\&e.eachComponent({mainType:\"series\",subType:\"map\"},function(e){r||e.getHostGeoModel()!==t||(r=e.getData())});var s=t.coordinateSystem;this._updateBackground(s);var l=this._regionsGroup,u=this.group,h=s.scale,c={position:s.position,scale:h};!l.childAt(0)||o?u.attr(c):bo(u,c,t),l.removeAll();var f=[\"itemStyle\"],p=[\"emphasis\",\"itemStyle\"],g=[\"label\"],m=[\"emphasis\",\"label\"],v=R();d(s.regions,function(e){var i=v.get(e.name)||v.set(e.name,new Zw),n=new hM({shape:{paths:[]}});i.add(n);var o,s=(C=t.getRegionModel(e.name)||t).getModel(f),u=C.getModel(p),c=vc(s),y=vc(u),x=C.getModel(g),_=C.getModel(m);if(r){o=r.indexOfName(e.name);var w=r.getItemVisual(o,\"color\",!0);w\&\&(c.fill=w)}d(e.geometries,function(t){if(\"polygon\"===t.type){n.shape.paths.push(new nM({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)n.shape.paths.push(new nM({shape:{points:t.interiors[e]}}))}}),n.setStyle(c),n.style.strokeNoScale=!0,n.culling=!0;var b=x.get(\"show\"),S=_.get(\"show\"),M=r\&\&isNaN(r.get(r.mapDimension(\"value\"),o)),I=r\&\&r.getItemLayout(o);if(a||M\&\&(b||S)||I\&\&I.showLabel){var T,A=a?e.name:o;(!r||o>=0)\&\&(T=t);var D=new qS({position:e.center.slice(),scale:[1/h[0],1/h[1]],z2:10,silent:!0});co(D.style,D.hoverStyle={},x,_,{labelFetcher:T,labelDataIndex:A,defaultText:e.name,useInsideStyle:!1},{textAlign:\"center\",textVerticalAlign:\"middle\"}),i.add(D)}if(r)r.setItemGraphicEl(o,i);else{var C=t.getRegionModel(e.name);n.eventData={componentType:\"geo\",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:C\&\&C.option||{}}}(i.__regions||(i.__regions=[])).push(e),uo(i,y,{hoverSilentOnTouch:!!t.get(\"selectedMode\")}),l.add(i)}),this._updateController(t,e,i),yc(this,t,l,i,n),xc(t,l)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName\&\&xC.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e\&\&d(xC.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},_updateController:function(t,e,i){function n(){var e={type:\"geoRoam\",componentType:l};return e[l+\"Id\"]=t.id,e}var o=t.coordinateSystem,r=this._controller,s=this._controllerHost;s.zoomLimit=t.get(\"scaleLimit\"),s.zoom=o.getZoom(),r.enable(t.get(\"roam\")||!1);var l=t.mainType;r.off(\"pan\").on(\"pan\",function(t){this._mouseDownFlag=!1,pc(s,t.dx,t.dy),i.dispatchAction(a(n(),{dx:t.dx,dy:t.dy}))},this),r.off(\"zoom\").on(\"zoom\",function(t){if(this._mouseDownFlag=!1,gc(s,t.scale,t.originX,t.originY),i.dispatchAction(a(n(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse(function(t){\"text\"===t.type\&\&t.attr(\"scale\",[1/e[0],1/e[1]])})}},this),r.setPointerChecker(function(e,n,a){return o.getViewRectAfterRoam().contain(n,a)\&\&!mc(e,i,t)})}},Fs({type:\"map\",render:function(t,e,i,n){if(!n||\"mapToggleSelect\"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(n\&\&\"geoRoam\"===n.type\&\&\"series\"===n.componentType\&\&n.seriesId===t.id)(a=this._mapDraw)\&\&o.add(a.group);else if(t.needsDrawMap){var a=this._mapDraw||new _c(i,!0);o.add(a.group),a.draw(t,e,i,this,n),this._mapDraw=a}else this._mapDraw\&\&this._mapDraw.remove(),this._mapDraw=null;t.get(\"showLegendSymbol\")\&\&e.getComponent(\"legend\")\&\&this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw\&\&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw\&\&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,i){var n=t.originalData,o=this.group;n.each(n.mapDimension(\"value\"),function(e,i){if(!isNaN(e)){var a=n.getItemLayout(i);if(a\&\&a.point){var r=a.point,s=a.offset,l=new KS({style:{fill:t.getData().getVisual(\"color\")},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:s?8:10});if(!s){var u=t.mainSeries.getData(),h=n.getName(i),c=u.indexOfName(h),d=n.getItemModel(i),f=d.getModel(\"label\"),p=d.getModel(\"emphasis.label\"),g=u.getItemGraphicEl(c),m=A(t.getFormattedLabel(i,\"normal\"),h),v=A(t.getFormattedLabel(i,\"emphasis\"),m),y=function(){var t=fo({},p,{text:p.get(\"show\")?v:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(t),l.__mapOriginalZ2=l.z2,l.z2+=1},x=function(){fo(l.style,f,{text:f.get(\"show\")?m:null,textPosition:f.getShallow(\"position\")||\"bottom\"},{isRectText:!0,useInsideStyle:!1}),null!=l.__mapOriginalZ2\&\&(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};g.on(\"mouseover\",y).on(\"mouseout\",x).on(\"emphasis\",y).on(\"normal\",x),x()}o.add(l)}}})}}),Ps({type:\"geoRoam\",event:\"geoRoam\",update:\"updateTransform\"},function(t,e){var i=t.componentType||\"series\";e.eachComponent({mainType:i,query:t},function(e){var n=e.coordinateSystem;if(\"geo\"===n.type){var o=wc(n,t,e.get(\"scaleLimit\"));e.setCenter\&\&e.setCenter(o.center),e.setZoom\&\&e.setZoom(o.zoom),\"series\"===i\&\&d(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})});Os(function(t){var e={};t.eachSeriesByType(\"map\",function(i){var n=i.getMapType();if(!i.getHostGeoModel()\&\&!e[n]){var o={};d(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.originalData;e.get(\"showLegendSymbol\")\&\&t.getComponent(\"legend\")\&\&n.each(n.mapDimension(\"value\"),function(t,e){var a=n.getName(e),r=i.getRegion(a);if(r\&\&!isNaN(t)){var s=o[a]||0,l=i.dataToPoint(r.center);o[a]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var a=i.getData();a.each(function(t){var e=a.getName(t),i=a.getItemLayout(t)||{};i.showLabel=!o[e],a.setItemLayout(t,i)}),e[n]=!0}})}),Es(function(t){t.eachSeriesByType(\"map\",function(t){var e=t.get(\"color\"),i=t.getModel(\"itemStyle\"),n=i.get(\"areaColor\"),o=i.get(\"color\")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})})}),ks(IT.PROCESSOR.STATISTIC,function(t){var e={};t.eachSeriesByType(\"map\",function(t){var i=t.getHostGeoModel(),n=i?\"o\"+i.id:\"i\"+t.getMapType();(e[n]=e[n]||[]).push(t)}),d(e,function(t,e){for(var i=bc(f(t,function(t){return t.getData()}),t[0].get(\"mapValueCalculation\")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(n=0;n<t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n\&\&!t[n].getHostGeoModel(),t[n].setData(i.cloneShallow()),t[n].mainSeries=t[0]})}),Ls(function(t){var e=[];d(t.series,function(t){t\&\&\"map\"===t.type\&\&(e.push(t),t.map=t.map||t.mapType,r(t,t.mapLocation))})}),XD(\"map\",[{type:\"mapToggleSelect\",event:\"mapselectchanged\",method:\"toggleSelected\"},{type:\"mapSelect\",event:\"mapselected\",method:\"select\"},{type:\"mapUnSelect\",event:\"mapunselected\",method:\"unSelect\"}]);var MC=d,IC=\"\\0__link_datas\",TC=\"\\0__link_mainData\",AC=function(t,e){this.name=t||\"\",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};AC.prototype={constructor:AC,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){\"function\"==typeof t\&\&(i=e,e=t,t=null),_(t=t||{})\&\&(t={order:t});var n,o=t.order||\"preorder\",a=this[t.attr||\"children\"];\"preorder\"===o\&\&(n=e.call(i,this));for(var r=0;!n\&\&r<a.length;r++)a[r].eachNode(t,e,i);\"postorder\"===o\&\&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e\&\&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||\"value\"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0\&\&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length\&\&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(o||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0\&\&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this\&\&t.isAncestorOf(this)}},kc.prototype={constructor:kc,type:\"tree\",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},kc.createTree=function(t,e,i){function n(t,e){var i=t.value;r=Math.max(r,y(i)?i.length:1),a.push(t);var s=new AC(t.name,o);e?Pc(s,e):o.root=s,o._nodes.push(s);var l=t.children;if(l)for(var u=0;u<l.length;u++)n(l[u],s)}var o=new kc(e,i.levels,i.leaves),a=[],r=1;n(t),o.root.updateDepthAndHeight(0);var s=oA(a,{coordDimensions:[\"value\"],dimensionsCount:r}),l=new eA(s,e);return l.initData(a),Sc({mainData:l,struct:o,structAttr:\"tree\"}),o.update(),o},OI.extend({type:\"series.tree\",layoutInfo:null,layoutMode:\"box\",getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n={};n.leaves=i;var o=kc.createTree(e,this,n),a=0;o.eachNode(\"preorder\",function(t){t.depth>a\&\&(a=t.depth)});var r=t.expandAndCollapse\&\&t.initialTreeDepth>=0?t.initialTreeDepth:a;return o.root.eachNode(\"preorder\",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e\&\&null!=e.collapsed?!e.collapsed:t.depth<=r}),o.data},getOrient:function(){var t=this.get(\"orient\");return\"horizontal\"===t?t=\"LR\":\"vertical\"===t\&\&(t=\"TB\"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],n=e.getNodeByDataIndex(t),o=n.getValue(),a=n.name;n\&\&n!==i;)a=n.parentNode.name+\".\"+a,n=n.parentNode;return Qo(a+(isNaN(o)||null==o?\"\":\" : \"+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",left:\"12%\",top:\"12%\",right:\"12%\",bottom:\"12%\",layout:\"orthogonal\",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:\"LR\",symbol:\"emptyCircle\",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:\"#ccc\",width:1.5,curveness:.5},itemStyle:{color:\"lightsteelblue\",borderColor:\"#c23531\",borderWidth:1.5},label:{show:!0,color:\"#555\"},leaves:{label:{show:!0}},animationEasing:\"linear\",animationDuration:700,animationDurationUpdate:1e3}}),Fs({type:\"tree\",init:function(t,e){this._oldTree,this._mainGroup=new Zw,this._controller=new ac(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(t,e,i,n){var o=t.getData(),a=t.layoutInfo,r=this._mainGroup,s=t.get(\"layout\");\"radial\"===s?r.attr(\"position\",[a.x+a.width/2,a.y+a.height/2]):r.attr(\"position\",[a.x,a.y]),this._updateViewCoordSys(t),this._updateController(t,e,i);var l=this._data,u={expandAndCollapse:t.get(\"expandAndCollapse\"),layout:s,orient:t.getOrient(),curvature:t.get(\"lineStyle.curveness\"),symbolRotate:t.get(\"symbolRotate\"),symbolOffset:t.get(\"symbolOffset\"),hoverAnimation:t.get(\"hoverAnimation\"),useNameLabel:!0,fadeIn:!0};o.diff(l).add(function(e){Xc(o,e)\&\&Yc(o,e,null,r,t,u)}).update(function(e,i){var n=l.getItemGraphicEl(i);Xc(o,e)?Yc(o,e,n,r,t,u):n\&\&qc(l,i,n,r,t,u)}).remove(function(e){var i=l.getItemGraphicEl(e);i\&\&qc(l,e,i,r,t,u)}).execute(),this._nodeScaleRatio=t.get(\"nodeScaleRatio\"),this._updateNodeAndLinkScale(t),!0===u.expandAndCollapse\&\&o.eachItemGraphicEl(function(e,n){e.off(\"click\").on(\"click\",function(){i.dispatchAction({type:\"treeExpandAndCollapse\",seriesId:t.id,dataIndex:n})})}),this._data=o},_updateViewCoordSys:function(t){var e=t.getData(),i=[];e.each(function(t){var n=e.getItemLayout(t);!n||isNaN(n.x)||isNaN(n.y)||i.push([+n.x,+n.y])});var n=[],o=[];dn(i,n,o),o[0]-n[0]==0\&\&(o[0]+=1,n[0]-=1),o[1]-n[1]==0\&\&(o[1]+=1,n[1]-=1);var a=t.coordinateSystem=new Uh;a.zoomLimit=t.get(\"scaleLimit\"),a.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1]),a.setCenter(t.get(\"center\")),a.setZoom(t.get(\"zoom\")),this.group.attr({position:a.position,scale:a.scale}),this._viewCoordSys=a},_updateController:function(t,e,i){var n=this._controller,o=this._controllerHost,a=this.group;n.setPointerChecker(function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)\&\&!mc(e,i,t)}),n.enable(t.get(\"roam\")),o.zoomLimit=t.get(\"scaleLimit\"),o.zoom=t.coordinateSystem.getZoom(),n.off(\"pan\").off(\"zoom\").on(\"pan\",function(e){pc(o,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:\"treeRoam\",dx:e.dx,dy:e.dy})},this).on(\"zoom\",function(e){gc(o,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:\"treeRoam\",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(t)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr(\"scale\",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if(\"view\"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n\&\&n[0]||1;return((e.getZoom()-1)*i+1)/o},dispose:function(){this._controller\&\&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Ps({type:\"treeExpandAndCollapse\",event:\"treeExpandAndCollapse\",update:\"update\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"tree\",query:t},function(e){var i=t.dataIndex,n=e.getData().tree.getNodeByDataIndex(i);n.isExpand=!n.isExpand})}),Ps({type:\"treeRoam\",event:\"treeRoam\",update:\"none\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"tree\",query:t},function(e){var i=wc(e.coordinateSystem,t);e.setCenter\&\&e.setCenter(i.center),e.setZoom\&\&e.setZoom(i.zoom)})});Es(hD(\"tree\",\"circle\")),Os(function(t,e){t.eachSeriesByType(\"tree\",function(t){Qc(t,e)})}),OI.extend({type:\"series.treemap\",layoutMode:\"box\",dependencies:[\"grid\",\"polar\"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:\"center\",top:\"middle\",right:null,bottom:null,width:\"80%\",height:\"80%\",sort:!0,clipWindow:\"origin\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\"â–¶\",zoomToNodeRatio:.1024,roam:!0,nodeClick:\"zoomToNode\",animation:!0,animationDurationUpdate:900,animationEasing:\"quinticInOut\",breadcrumb:{show:!0,height:22,left:\"center\",top:\"bottom\",emptyItemWidth:25,itemStyle:{color:\"rgba(0,0,0,0.7)\",borderColor:\"rgba(255,255,255,0.7)\",borderWidth:1,shadowColor:\"rgba(150,150,150,1)\",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:\"#fff\"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:\"inside\",color:\"#fff\",ellipsis:!0},upperLabel:{show:!1,position:[0,\"50%\"],height:20,color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\"#fff\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\"50%\"],color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\"index\",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};od(i);var n=t.levels||[];n=t.levels=ad(n,e);var o={};return o.levels=n,kc.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=\$o(y(i)?i[0]:i);return Qo(e.getName(t)+\": \"+n)},getDataParams:function(t){var e=OI.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=nd(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},a(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=R(),this._idIndexMapCount=0);var i=e.get(t);return null==i\&\&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t\&\&(t===e||e.contains(t))||(this._viewRoot=e)}});var DC=5;rd.prototype={constructor:rd,render:function(t,e,i,n){var o=t.getModel(\"breadcrumb\"),a=this.group;if(a.removeAll(),o.get(\"show\")\&\&i){var r=o.getModel(\"itemStyle\"),s=r.getModel(\"textStyle\"),l={pos:{left:o.get(\"left\"),right:o.get(\"right\"),top:o.get(\"top\"),bottom:o.get(\"bottom\")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get(\"emptyItemWidth\"),totalWidth:0,renderList:[]};this._prepare(i,l,s),this._renderContent(t,l,r,s,n),ua(a,l.pos,l.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get(\"name\"),a=i.getTextRect(o),r=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=r+8,e.renderList.push({node:n,text:o,width:r})}},_renderContent:function(t,e,i,n,o){for(var a=0,s=e.emptyItemWidth,l=t.get(\"breadcrumb.height\"),u=sa(e.pos,e.box),h=e.totalWidth,c=e.renderList,d=c.length-1;d>=0;d--){var f=c[d],p=f.node,g=f.width,m=f.text;h>u.width\&\&(h-=g-s,g=s,m=null);var y=new nM({shape:{points:sd(a,0,g,l,d===c.length-1,0===d)},style:r(i.getItemStyle(),{lineJoin:\"bevel\",text:m,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:v(o,p)});this.group.add(y),ld(y,t,p),a+=g+8}},remove:function(){this.group.removeAll()}};var CC=m,LC=Zw,kC=aM,PC=d,NC=[\"label\"],OC=[\"emphasis\",\"label\"],EC=[\"upperLabel\"],RC=[\"emphasis\",\"upperLabel\"],zC=10,BC=1,VC=2,GC=Wb([[\"fill\",\"color\"],[\"stroke\",\"strokeColor\"],[\"lineWidth\",\"strokeWidth\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),FC=function(t){var e=GC(t);return e.stroke=e.fill=e.lineWidth=null,e};Fs({type:\"treemap\",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state=\"ready\"},render:function(t,e,i,n){if(!(l(e.findComponents({mainType:\"series\",subType:\"treemap\",query:n}),t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var o=td(n,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),a=n\&\&n.type,r=t.layoutInfo,s=!this._oldTree,u=this._storage,h=\"treemapRootToNode\"===a\&\&o\&\&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:n.direction}:null,c=this._giveContainerGroup(r),d=this._doRender(c,t,h);s||a\&\&\"treemapZoomToNode\"!==a\&\&\"treemapRootToNode\"!==a?d.renderFinally():this._doAnimation(c,d,t,h),this._resetController(i),this._renderBreadcrumb(t,i,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new LC,this._initEvents(e),this.group.add(e)),e.attr(\"position\",[t.x,t.y]),e},_doRender:function(t,e,i){function n(t,e,i,o,a){function r(t){return t.getId()}function s(r,s){var l=null!=r?t[r]:null,u=null!=s?e[s]:null,c=h(l,u,i,a);c\&\&n(l\&\&l.viewChildren||[],u\&\&u.viewChildren||[],c,o,a+1)}o?(e=t,PC(t,function(t,e){!t.isRemoved()\&\&s(e,e)})):new Hs(e,t,r,r).add(s).update(s).remove(v(s,null)).execute()}var o=e.getData().tree,a=this._oldTree,r={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[],h=v(hd,e,s,l,i,r,u);n(o.root?[o.root]:[],a\&\&a.root?[a.root]:[],t,o===a||!a,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return t\&\&PC(t,function(t,i){var n=e[i];PC(t,function(t){t\&\&(n.push(t),t.__tmWillDelete=1)})}),e}(l);return this._oldTree=o,this._storage=s,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){PC(c,function(t){PC(t,function(t){t.parent\&\&t.parent.remove(t)})}),PC(u,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,i,n){if(i.get(\"animation\")){var o=i.get(\"animationDurationUpdate\"),r=i.get(\"animationEasing\"),s=ud();PC(e.willDeleteEls,function(t,e){PC(t,function(t,i){if(!t.invisible){var a,l=t.parent;if(n\&\&\"drillDown\"===n.direction)a=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,h=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,h=l.__tmNodeHeight/2),a=\"nodeGroup\"===e?{position:[u,h],style:{opacity:0}}:{shape:{x:u,y:h,width:0,height:0},style:{opacity:0}}}a\&\&s.add(t,a,o,r)}})}),PC(this._storage,function(t,i){PC(t,function(t,n){var l=e.lastsForAnimation[i][n],u={};l\&\&(\"nodeGroup\"===i?l.old\&\&(u.position=t.position.slice(),t.attr(\"position\",l.old)):(l.old\&\&(u.shape=a({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle(\"opacity\",0),u.style={opacity:1}):1!==t.style.opacity\&\&(u.style={opacity:1})),s.add(t,u,o,r))})},this),this._state=\"animating\",s.done(CC(function(){this._state=\"ready\",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new ac(t.getZr())).enable(this.seriesModel.get(\"roam\")),e.on(\"pan\",CC(this._onPan,this)),e.on(\"zoom\",CC(this._onZoom,this)));var i=new ue(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t\&\&(t.dispose(),t=null)},_onPan:function(t){if(\"animating\"!==this._state\&\&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var i=e.getLayout();if(!i)return;this.api.dispatchAction({type:\"treemapMove\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},_onZoom:function(t){var e=t.originX,i=t.originY;if(\"animating\"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var a=new ue(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=mt();_t(s,s,[-e,-i]),bt(s,s,[t.scale,t.scale]),_t(s,s,[e,i]),a.applyTransform(s),this.api.dispatchAction({type:\"treemapRender\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on(\"click\",function(t){if(\"ready\"===this._state){var e=this.seriesModel.get(\"nodeClick\",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if(\"zoomToNode\"===e)this._zoomToNode(i);else if(\"link\"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),a=o.get(\"link\",!0),r=o.get(\"target\",!0)||\"blank\";a\&\&window.open(a,r)}}}}},this)},_renderBreadcrumb:function(t,e,i){i||(i=null!=t.get(\"leafDepth\",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new rd(this.group))).render(t,e,i.node,CC(function(e){\"animating\"!==this._state\&\&(id(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup\&\&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=\"ready\",this._breadcrumb\&\&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:\"treemapZoomToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:\"treemapRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:\"viewChildren\",order:\"preorder\"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var a=o.transformCoordToLocal(t,e),r=o.shape;if(!(r.x<=a[0]\&\&a[0]<=r.x+r.width\&\&r.y<=a[1]\&\&a[1]<=r.y+r.height))return!1;i={node:n,offsetX:a[0],offsetY:a[1]}}},this),i}});for(var WC=[\"treemapZoomToNode\",\"treemapRender\",\"treemapMove\"],HC=0;HC<WC.length;HC++)Ps({type:WC[HC],update:\"updateView\"},function(){});Ps({type:\"treemapRootToNode\",update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"treemap\",query:t},function(e,i){var n=td(t,[\"treemapZoomToNode\",\"treemapRootToNode\"],e);if(n){var o=e.getViewRoot();o\&\&(t.direction=id(o,n.node)?\"rollUp\":\"drillDown\"),e.resetViewRoot(n.node)}})});var ZC=d,UC=w,XC=-1,jC=function(t){var e=t.mappingMethod,n=t.type,o=this.option=i(t);this.type=n,this.mappingMethod=e,this._normalizeData=qC[e];var a=YC[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._doMap=a._doMap[e],\"piecewise\"===e?(pd(o),dd(o)):\"category\"===e?o.categories?fd(o):pd(o,!0):(k(\"linear\"!==e||o.dataExtent),pd(o))};jC.prototype={constructor:jC,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return m(this._normalizeData,this)}};var YC=jC.visualHandlers={color:{applyVisual:vd(\"color\"),getColorMapper:function(){var t=this.option;return m(\"category\"===t.mappingMethod?function(t,e){return!e\&\&(t=this._normalizeData(t)),yd.call(this,t)}:function(e,i,n){var o=!!n;return!i\&\&(e=this._normalizeData(e)),n=Wt(e,t.parsedVisual,n),o?n:Xt(n,\"rgba\")},this)},_doMap:{linear:function(t){return Xt(Wt(t,this.option.parsedVisual),\"rgba\")},category:yd,piecewise:function(t,e){var i=wd.call(this,e);return null==i\&\&(i=Xt(Wt(t,this.option.parsedVisual),\"rgba\")),i},fixed:xd}},colorHue:gd(function(t,e){return Zt(t,e)}),colorSaturation:gd(function(t,e){return Zt(t,null,e)}),colorLightness:gd(function(t,e){return Zt(t,null,null,e)}),colorAlpha:gd(function(t,e){return Ut(t,e)}),opacity:{applyVisual:vd(\"opacity\"),_doMap:_d([0,1])},liftZ:{applyVisual:vd(\"liftZ\"),_doMap:{linear:xd,category:xd,piecewise:xd,fixed:xd}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(_(n))i(\"symbol\",n);else if(UC(n))for(var o in n)n.hasOwnProperty(o)\&\&i(o,n[o])},_doMap:{linear:md,category:yd,piecewise:function(t,e){var i=wd.call(this,e);return null==i\&\&(i=md.call(this,t)),i},fixed:xd}},symbolSize:{applyVisual:vd(\"symbolSize\"),_doMap:_d([0,1])}},qC={linear:function(t){return Eo(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=jC.findPieceIndex(t,e,!0);if(null!=i)return Eo(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?XC:e},fixed:B};jC.listVisualTypes=function(){var t=[];return d(YC,function(e,i){t.push(i)}),t},jC.addVisualHandler=function(t,e){YC[t]=e},jC.isValidType=function(t){return YC.hasOwnProperty(t)},jC.eachVisual=function(t,e,i){w(t)?d(t,e,i):e.call(i,t)},jC.mapVisual=function(t,e,i){var n,o=y(t)?[]:w(t)?{}:(n=!0,null);return jC.eachVisual(t,function(t,a){var r=e.call(i,t,a);n?o=r:o[a]=r}),o},jC.retrieveVisuals=function(t){var e,i={};return t\&\&ZC(YC,function(n,o){t.hasOwnProperty(o)\&\&(i[o]=t[o],e=!0)}),e?i:null},jC.prepareVisualTypes=function(t){if(UC(t)){var e=[];ZC(t,function(t,i){e.push(i)}),t=e}else{if(!y(t))return[];t=t.slice()}return t.sort(function(t,e){return\"color\"===e\&\&\"color\"!==t\&\&0===t.indexOf(\"color\")?1:-1}),t},jC.dependsOn=function(t,e){return\"color\"===e?!(!t||0!==t.indexOf(e)):t===e},jC.findPieceIndex=function(t,e,i){function n(e,i){var n=Math.abs(e-t);n<a\&\&(a=n,o=i)}for(var o,a=1/0,r=0,s=e.length;r<s;r++){var l=e[r].value;if(null!=l){if(l===t||\"string\"==typeof l\&\&l===t+\"\")return r;i\&\&n(l,r)}}for(var r=0,s=e.length;r<s;r++){var u=e[r],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Sd(c[1],t,h[1]))return r}else if(h[1]===1/0){if(Sd(c[0],h[0],t))return r}else if(Sd(c[0],h[0],t)\&\&Sd(c[1],t,h[1]))return r;i\&\&n(h[0],r),i\&\&n(h[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:o};var KC=y,\$C=\"itemStyle\",JC={seriesType:\"treemap\",reset:function(t,e,i,n){var o=t.getData().tree,a=o.root,r=t.getModel(\$C);a.isRemoved()||Md(a,{},f(o.levelModels,function(t){return t?t.get(\$C):null}),r,t.getViewRoot().getAncestors(),t)}},QC=Math.max,tL=Math.min,eL=T,iL=d,nL=[\"itemStyle\",\"borderWidth\"],oL=[\"itemStyle\",\"gapWidth\"],aL=[\"upperLabel\",\"show\"],rL=[\"upperLabel\",\"height\"],sL={seriesType:\"treemap\",reset:function(t,e,i,n){var o=i.getWidth(),r=i.getHeight(),s=t.option,l=la(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),u=s.size||[],h=Ro(eL(l.width,u[0]),o),c=Ro(eL(l.height,u[1]),r),d=n\&\&n.type,f=td(n,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),p=\"treemapRender\"===d||\"treemapMove\"===d?n.rootRect:null,g=t.getViewRoot(),m=ed(g);if(\"treemapMove\"!==d){var v=\"treemapZoomToNode\"===d?Vd(t,f,g,h,c):p?[p.width,p.height]:[h,c],y=s.sort;y\&\&\"asc\"!==y\&\&\"desc\"!==y\&\&(y=\"desc\");var x={squareRatio:s.squareRatio,sort:y,leafDepth:s.leafDepth};g.hostTree.clearLayouts();_={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};g.setLayout(_),Pd(g,x,!1,0);var _=g.getLayout();iL(m,function(t,e){var i=(m[e+1]||g).getValue();t.setLayout(a({dataExtent:[i,i],borderWidth:0,upperHeight:0},_))})}var w=t.getData().tree.root;w.setLayout(Gd(l,p,f),!0),t.setLayoutInfo(l),Fd(w,new ue(-l.x,-l.y,o,r),m,g,0)}};Es(JC),Os(sL);var lL=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},uL=lL.prototype;uL.type=\"graph\",uL.isDirected=function(){return this._directed},uL.addNode=function(t,e){t=t||\"\"+e;var i=this._nodesMap;if(!i[Hd(t)]){var n=new Zd(t,e);return n.hostGraph=this,this.nodes.push(n),i[Hd(t)]=n,n}},uL.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},uL.getNodeById=function(t){return this._nodesMap[Hd(t)]},uL.addEdge=function(t,e,i){var n=this._nodesMap,o=this._edgesMap;if(\"number\"==typeof t\&\&(t=this.nodes[t]),\"number\"==typeof e\&\&(e=this.nodes[e]),Zd.isInstance(t)||(t=n[Hd(t)]),Zd.isInstance(e)||(e=n[Hd(e)]),t\&\&e){var a=t.id+\"-\"+e.id;if(!o[a]){var r=new Ud(t,e,i);return r.hostGraph=this,this._directed\&\&(t.outEdges.push(r),e.inEdges.push(r)),t.edges.push(r),t!==e\&\&e.edges.push(r),this.edges.push(r),o[a]=r,r}}},uL.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},uL.getEdge=function(t,e){Zd.isInstance(t)\&\&(t=t.id),Zd.isInstance(e)\&\&(e=e.id);var i=this._edgesMap;return this._directed?i[t+\"-\"+e]:i[t+\"-\"+e]||i[e+\"-\"+t]},uL.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0\&\&t.call(e,i[o],o)},uL.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0\&\&i[o].node1.dataIndex>=0\&\&i[o].node2.dataIndex>=0\&\&t.call(e,i[o],o)},uL.breadthFirstTraverse=function(t,e,i,n){if(Zd.isInstance(e)||(e=this._nodesMap[Hd(e)]),e){for(var o=\"out\"===i?\"outEdges\":\"in\"===i?\"inEdges\":\"edges\",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(n,e,null))for(var r=[e];r.length;)for(var s=r.shift(),l=s[o],a=0;a<l.length;a++){var u=l[a],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(n,h,s))return;r.push(h),h.__visited=!0}}}},uL.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(var o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0\&\&i.node2.dataIndex>=0});for(var o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(var o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o},uL.clone=function(){for(var t=new lL(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},Zd.prototype={constructor:Zd,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},Ud.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var hL=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||\"value\"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0\&\&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0\&\&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};h(Zd,hL(\"hostGraph\",\"data\")),h(Ud,hL(\"hostGraph\",\"edgeData\")),lL.Node=Zd,lL.Edge=Ud,ji(Zd),ji(Ud);var cL=function(t,e,i,n,o){for(var a=new lL(n),r=0;r<t.length;r++)a.addNode(T(t[r].id,t[r].name,r),r);for(var s=[],u=[],h=0,r=0;r<e.length;r++){var c=e[r],d=c.source,f=c.target;a.addEdge(d,f,h)\&\&(u.push(c),s.push(T(c.id,d+\" > \"+f)),h++)}var p,g=i.get(\"coordinateSystem\");if(\"cartesian2d\"===g||\"polar\"===g)p=dl(t,i);else{var m=Ba.get(g),v=m\&\&\"view\"!==m.type?m.dimensions||[]:[];l(v,\"value\")<0\&\&v.concat([\"value\"]);var y=oA(t,{coordDimensions:v});(p=new eA(y,i)).initData(t)}var x=new eA([\"value\"],i);return x.initData(u,s),o\&\&o(p,x),Sc({mainData:p,struct:a,structAttr:\"graph\",datas:{node:p,edge:x},datasAttr:{node:\"data\",edge:\"edgeData\"}}),a.update(),a},dL=Gs({type:\"series.graph\",init:function(t){dL.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){dL.superApply(this,\"mergeOption\",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){dL.superApply(this,\"mergeDefaultAndTheme\",arguments),Ci(t,[\"edgeLabel\"],[\"show\"])},getInitialData:function(t,e){var i=t.edges||t.links||[],n=t.data||t.nodes||[],o=this;if(n\&\&i)return cL(n,i,this,!0,function(t,i){function n(t){return(t=this.parsePath(t))\&\&\"label\"===t[0]?r:t\&\&\"emphasis\"===t[0]\&\&\"label\"===t[1]?l:this.parentModel}t.wrapMethod(\"getItemModel\",function(t){var e=o._categoriesModels[t.getShallow(\"category\")];return e\&\&(e.parentModel=t.parentModel,t.parentModel=e),t});var a=o.getModel(\"edgeLabel\"),r=new Lo({label:a.option},a.parentModel,e),s=o.getModel(\"emphasis.edgeLabel\"),l=new Lo({emphasis:{label:s.option}},s.parentModel,e);i.wrapMethod(\"getItemModel\",function(t){return t.customizeGetParent(n),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if(\"edge\"===i){var n=this.getData(),o=this.getDataParams(t,i),a=n.graph.getEdgeByIndex(t),r=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),l=[];return null!=r\&\&l.push(r),null!=s\&\&l.push(s),l=Qo(l.join(\" > \")),o.value\&\&(l+=\" : \"+Qo(o.value)),l}return dL.superApply(this,\"formatTooltip\",arguments)},_updateCategoriesData:function(){var t=f(this.option.categories||[],function(t){return null!=t.value?t:a({value:0},t)}),e=new eA([\"value\"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return dL.superCall(this,\"isAnimationEnabled\")\&\&!(\"force\"===this.get(\"layout\")\&\&this.get(\"force.layoutAnimation\"))},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:10,edgeSymbol:[\"none\",\"none\"],edgeSymbolSize:10,edgeLabel:{position:\"middle\"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\"{b}\"},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),fL=rM.prototype,pL=lM.prototype,gL=Fn({type:\"ec-line\",style:{stroke:\"#000\",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(Xd(e)?fL:pL).buildPath(t,e)},pointAt:function(t){return Xd(this.shape)?fL.pointAt.call(this,t):pL.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=Xd(e)?[e.x2-e.x1,e.y2-e.y1]:pL.tangentAt.call(this,t);return q(i,i)}}),mL=[\"fromSymbol\",\"toSymbol\"],vL=\$d.prototype;vL.beforeUpdate=function(){var t=this,e=t.childOfName(\"fromSymbol\"),i=t.childOfName(\"toSymbol\"),n=t.childOfName(\"label\");if(e||i||!n.ignore){for(var o=1,a=this.parent;a;)a.scale\&\&(o/=a.scale[0]),a=a.parent;var r=t.childOfName(\"line\");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),h=U([],u,l);if(q(h,h),e\&\&(e.attr(\"position\",l),c=r.tangentAt(0),e.attr(\"rotation\",Math.PI/2-Math.atan2(c[1],c[0])),e.attr(\"scale\",[o*s,o*s])),i){i.attr(\"position\",u);var c=r.tangentAt(1);i.attr(\"rotation\",-Math.PI/2-Math.atan2(c[1],c[0])),i.attr(\"scale\",[o*s,o*s])}if(!n.ignore){n.attr(\"position\",u);var d,f,p,g=5*o;if(\"end\"===n.__position)d=[h[0]*g+u[0],h[1]*g+u[1]],f=h[0]>.8?\"left\":h[0]<-.8?\"right\":\"center\",p=h[1]>.8?\"top\":h[1]<-.8?\"bottom\":\"middle\";else if(\"middle\"===n.__position){var m=s/2,v=[(c=r.tangentAt(m))[1],-c[0]],y=r.pointAt(m);v[1]>0\&\&(v[0]=-v[0],v[1]=-v[1]),d=[y[0]+v[0]*g,y[1]+v[1]*g],f=\"center\",p=\"bottom\";var x=-Math.atan2(c[1],c[0]);u[0]<l[0]\&\&(x=Math.PI+x),n.attr(\"rotation\",x)}else d=[-h[0]*g+l[0],-h[1]*g+l[1]],f=h[0]>.8?\"right\":h[0]<-.8?\"left\":\"center\",p=h[1]>.8?\"bottom\":h[1]<-.8?\"top\":\"middle\";n.attr({style:{textVerticalAlign:n.__verticalAlign||p,textAlign:n.__textAlign||f},position:d,scale:[o,o]})}}}},vL._createLine=function(t,e,i){var n=t.hostModel,o=qd(t.getItemLayout(e));o.shape.percent=0,So(o,{shape:{percent:1}},n,e),this.add(o);var a=new qS({name:\"label\"});this.add(a),d(mL,function(i){var n=Yd(i,t,e);this.add(n),this[jd(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e,i)},vL.updateData=function(t,e,i){var n=t.hostModel,o=this.childOfName(\"line\"),a=t.getItemLayout(e),r={shape:{}};Kd(r.shape,a),bo(o,r,n,e),d(mL,function(i){var n=t.getItemVisual(e,i),o=jd(i);if(this[o]!==n){this.remove(this.childOfName(i));var a=Yd(i,t,e);this.add(a)}this[o]=n},this),this._updateCommonStl(t,e,i)},vL._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName(\"line\"),a=i\&\&i.lineStyle,s=i\&\&i.hoverLineStyle,l=i\&\&i.labelModel,u=i\&\&i.hoverLabelModel;if(!i||t.hasItemOption){var h=t.getItemModel(e);a=h.getModel(\"lineStyle\").getLineStyle(),s=h.getModel(\"emphasis.lineStyle\").getLineStyle(),l=h.getModel(\"label\"),u=h.getModel(\"emphasis.label\")}var c=t.getItemVisual(e,\"color\"),f=D(t.getItemVisual(e,\"opacity\"),a.opacity,1);o.useStyle(r({strokeNoScale:!0,fill:\"none\",stroke:c,opacity:f},a)),o.hoverStyle=s,d(mL,function(t){var e=this.childOfName(t);e\&\&(e.setColor(c),e.setStyle({opacity:f}))},this);var p,g,m=l.getShallow(\"show\"),v=u.getShallow(\"show\"),y=this.childOfName(\"label\");if((m||v)\&\&(p=c||\"#000\",null==(g=n.getFormattedLabel(e,\"normal\",t.dataType)))){var x=n.getRawValue(e);g=null==x?t.getName(e):isFinite(x)?zo(x):x}var _=m?g:null,w=v?A(n.getFormattedLabel(e,\"emphasis\",t.dataType),g):null,b=y.style;null==_\&\&null==w||(fo(y.style,l,{text:_},{autoColor:p}),y.__textAlign=b.textAlign,y.__verticalAlign=b.textVerticalAlign,y.__position=l.get(\"position\")||\"middle\"),y.hoverStyle=null!=w?{text:w,textFill:u.getTextColor(!0),fontStyle:u.getShallow(\"fontStyle\"),fontWeight:u.getShallow(\"fontWeight\"),fontSize:u.getShallow(\"fontSize\"),fontFamily:u.getShallow(\"fontFamily\")}:{text:null},y.ignore=!m\&\&!v,uo(this)},vL.highlight=function(){this.trigger(\"emphasis\")},vL.downplay=function(){this.trigger(\"normal\")},vL.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},vL.setLinePoints=function(t){var e=this.childOfName(\"line\");Kd(e.shape,t),e.dirty()},u(\$d,Zw);var yL=Jd.prototype;yL.isPersistent=function(){return!0},yL.updateData=function(t){var e=this,i=e.group,n=e._lineData;e._lineData=t,n||i.removeAll();var o=ef(t);t.diff(n).add(function(i){Qd(e,t,i,o)}).update(function(i,a){tf(e,n,t,a,i,o)}).remove(function(t){i.remove(n.getItemGraphicEl(t))}).execute()},yL.updateLayout=function(){var t=this._lineData;t\&\&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},yL.incrementalPrepareUpdate=function(t){this._seriesScope=ef(t),this._lineData=null,this.group.removeAll()},yL.incrementalUpdate=function(t,e){for(var i=t.start;i<t.end;i++)if(of(e.getItemLayout(i))){var n=new this._ctor(e,i,this._seriesScope);n.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(n),e.setItemGraphicEl(i,n)}},yL.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},yL._clearIncremental=function(){var t=this._incremental;t\&\&t.clearDisplaybles()};var xL=[],_L=[],wL=[],bL=rn,SL=iw,ML=Math.abs,IL=function(t,e){function i(t){var e=t.getVisual(\"symbolSize\");return e instanceof Array\&\&(e=(e[0]+e[1])/2),e}var n=[],o=hn,a=[[],[],[]],r=[[],[]],s=[];e/=2,t.eachEdge(function(t,l){var u=t.getLayout(),h=t.getVisual(\"fromSymbol\"),c=t.getVisual(\"toSymbol\");u.__original||(u.__original=[F(u[0]),F(u[1])],u[2]\&\&u.__original.push(F(u[2])));var d=u.__original;if(null!=u[2]){if(G(a[0],d[0]),G(a[1],d[2]),G(a[2],d[1]),h\&\&\"none\"!==h){var f=i(t.node1),p=af(a,d[0],f*e);o(a[0][0],a[1][0],a[2][0],p,n),a[0][0]=n[3],a[1][0]=n[4],o(a[0][1],a[1][1],a[2][1],p,n),a[0][1]=n[3],a[1][1]=n[4]}if(c\&\&\"none\"!==c){var f=i(t.node2),p=af(a,d[1],f*e);o(a[0][0],a[1][0],a[2][0],p,n),a[1][0]=n[1],a[2][0]=n[2],o(a[0][1],a[1][1],a[2][1],p,n),a[1][1]=n[1],a[2][1]=n[2]}G(u[0],a[0]),G(u[1],a[2]),G(u[2],a[1])}else{if(G(r[0],d[0]),G(r[1],d[1]),U(s,r[1],r[0]),q(s,s),h\&\&\"none\"!==h){f=i(t.node1);Z(r[0],r[0],s,f*e)}if(c\&\&\"none\"!==c){f=i(t.node2);Z(r[1],r[1],s,-f*e)}G(u[0],r[0]),G(u[1],r[1])}})},TL=[\"itemStyle\",\"opacity\"],AL=[\"lineStyle\",\"opacity\"];Fs({type:\"graph\",init:function(t,e){var i=new Su,n=new Jd,o=this.group;this._controller=new ac(e.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get(\"nodeScaleRatio\");var o=this._symbolDraw,a=this._lineDraw,r=this.group;if(\"view\"===n.type){var s={position:n.position,scale:n.scale};this._firstRender?r.attr(s):bo(r,s,t)}IL(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();o.updateData(l);var u=t.getEdgeData();a.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var h=t.forceLayout,c=t.get(\"force.layoutAnimation\");h\&\&this._startForceLayoutIteration(h,c),l.eachItemGraphicEl(function(e,n){var o=l.getItemModel(n);e.off(\"drag\").off(\"dragend\");var a=o.get(\"draggable\");a\&\&e.on(\"drag\",function(){h\&\&(h.warmUp(),!this._layouting\&\&this._startForceLayoutIteration(h,c),h.setFixed(n),l.setItemLayout(n,e.position))},this).on(\"dragend\",function(){h\&\&h.setUnfixed(n)},this),e.setDraggable(a\&\&h),e.off(\"mouseover\",e.__focusNodeAdjacency),e.off(\"mouseout\",e.__unfocusNodeAdjacency),o.get(\"focusNodeAdjacency\")\&\&(e.on(\"mouseover\",e.__focusNodeAdjacency=function(){i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:t.id,dataIndex:e.dataIndex})}),e.on(\"mouseout\",e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:t.id})}))},this),l.graph.eachEdge(function(e){var n=e.getGraphicEl();n.off(\"mouseover\",n.__focusNodeAdjacency),n.off(\"mouseout\",n.__unfocusNodeAdjacency),e.getModel().get(\"focusNodeAdjacency\")\&\&(n.on(\"mouseover\",n.__focusNodeAdjacency=function(){i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:t.id,edgeDataIndex:e.dataIndex})}),n.on(\"mouseout\",n.__unfocusNodeAdjacency=function(){i.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:t.id})}))});var d=\"circular\"===t.get(\"layout\")\&\&t.get(\"circular.rotateLabel\"),f=l.getLayout(\"cx\"),p=l.getLayout(\"cy\");l.eachItemGraphicEl(function(t,e){var i=t.getSymbolPath();if(d){var n=l.getItemLayout(e),o=Math.atan2(n[1]-p,n[0]-f);o<0\&\&(o=2*Math.PI+o);var a=n[0]<f;a\&\&(o-=Math.PI);var r=a?\"left\":\"right\";i.setStyle({textRotation:-o,textPosition:r,textOrigin:\"center\"}),i.hoverStyle\&\&(i.hoverStyle.textPosition=r)}else i.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller\&\&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,i,n){var o=this._model.getData().graph,a=n.dataIndex,r=n.edgeDataIndex,s=o.getNodeByIndex(a),l=o.getEdgeByIndex(r);(s||l)\&\&(o.eachNode(function(t){sf(t,TL,.1)}),o.eachEdge(function(t){sf(t,AL,.1)}),s\&\&(lf(s,TL),d(s.edges,function(t){t.dataIndex<0||(lf(t,AL),lf(t.node1,TL),lf(t.node2,TL))})),l\&\&(lf(l,AL),lf(l.node1,TL),lf(l.node2,TL)))},unfocusNodeAdjacency:function(t,e,i,n){var o=this._model.getData().graph;o.eachNode(function(t){sf(t,TL)}),o.eachEdge(function(t){sf(t,AL)})},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)\&\&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e,i){var n=this._controller,o=this._controllerHost,a=this.group;n.setPointerChecker(function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)\&\&!mc(e,i,t)}),\"view\"===t.coordinateSystem.type?(n.enable(t.get(\"roam\")),o.zoomLimit=t.get(\"scaleLimit\"),o.zoom=t.coordinateSystem.getZoom(),n.off(\"pan\").off(\"zoom\").on(\"pan\",function(e){pc(o,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:\"graphRoam\",dx:e.dx,dy:e.dy})}).on(\"zoom\",function(e){gc(o,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:\"graphRoam\",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(),IL(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):n.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr(\"scale\",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if(\"view\"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n\&\&n[0]||1;return((e.getZoom()-1)*i+1)/o},updateLayout:function(t){IL(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw\&\&this._symbolDraw.remove(),this._lineDraw\&\&this._lineDraw.remove()}}),Ps({type:\"focusNodeAdjacency\",event:\"focusNodeAdjacency\",update:\"series:focusNodeAdjacency\"},function(){}),Ps({type:\"unfocusNodeAdjacency\",event:\"unfocusNodeAdjacency\",update:\"series:unfocusNodeAdjacency\"},function(){}),Ps({type:\"graphRoam\",event:\"graphRoam\",update:\"none\"},function(t,e){e.eachComponent({mainType:\"series\",query:t},function(e){var i=wc(e.coordinateSystem,t);e.setCenter\&\&e.setCenter(i.center),e.setZoom\&\&e.setZoom(i.zoom)})});var DL=Z;ks(function(t){var e=t.findComponents({mainType:\"legend\"});e\&\&e.length\&\&t.eachSeriesByType(\"graph\",function(t){var i=t.getCategoriesData(),n=t.getGraph().data,o=i.mapArray(i.getName);n.filterSelf(function(t){var i=n.getItemModel(t).getShallow(\"category\");if(null!=i){\"number\"==typeof i\&\&(i=o[i]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(i))return!1}return!0})},this)}),Es(hD(\"graph\",\"circle\",null)),Es(function(t){var e={};t.eachSeriesByType(\"graph\",function(t){var i=t.getCategoriesData(),n=t.getData(),o={};i.each(function(n){var a=i.getName(n);o[\"ec-\"+a]=n;var r=i.getItemModel(n).get(\"itemStyle.color\")||t.getColorFromPalette(a,e);i.setItemVisual(n,\"color\",r)}),i.count()\&\&n.each(function(t){var e=n.getItemModel(t).getShallow(\"category\");null!=e\&\&(\"string\"==typeof e\&\&(e=o[\"ec-\"+e]),n.getItemVisual(t,\"color\",!0)||n.setItemVisual(t,\"color\",i.getItemVisual(e,\"color\")))})})}),Es(function(t){t.eachSeriesByType(\"graph\",function(t){var e=t.getGraph(),i=t.getEdgeData(),n=uf(t.get(\"edgeSymbol\")),o=uf(t.get(\"edgeSymbolSize\")),a=\"lineStyle.color\".split(\".\"),r=\"lineStyle.opacity\".split(\".\");i.setVisual(\"fromSymbol\",n\&\&n[0]),i.setVisual(\"toSymbol\",n\&\&n[1]),i.setVisual(\"fromSymbolSize\",o\&\&o[0]),i.setVisual(\"toSymbolSize\",o\&\&o[1]),i.setVisual(\"color\",t.get(a)),i.setVisual(\"opacity\",t.get(r)),i.each(function(t){var n=i.getItemModel(t),o=e.getEdgeByIndex(t),s=uf(n.getShallow(\"symbol\",!0)),l=uf(n.getShallow(\"symbolSize\",!0)),u=n.get(a),h=n.get(r);switch(u){case\"source\":u=o.node1.getVisual(\"color\");break;case\"target\":u=o.node2.getVisual(\"color\")}s[0]\&\&o.setVisual(\"fromSymbol\",s[0]),s[1]\&\&o.setVisual(\"toSymbol\",s[1]),l[0]\&\&o.setVisual(\"fromSymbolSize\",l[0]),l[1]\&\&o.setVisual(\"toSymbolSize\",l[1]),o.setVisual(\"color\",u),o.setVisual(\"opacity\",h)})})}),Os(function(t,e){t.eachSeriesByType(\"graph\",function(t){var e=t.get(\"layout\"),i=t.coordinateSystem;if(i\&\&\"view\"!==i.type){var n=t.getData(),o=[];d(i.dimensions,function(t){o=o.concat(n.mapDimension(t,!0))});for(var a=0;a<n.count();a++){for(var r=[],s=!1,l=0;l<o.length;l++){var u=n.get(o[l],a);isNaN(u)||(s=!0),r.push(u)}s?n.setItemLayout(a,i.dataToPoint(r)):n.setItemLayout(a,[NaN,NaN])}cf(n.graph)}else e\&\&\"none\"!==e||hf(t)})}),Os(function(t){t.eachSeriesByType(\"graph\",function(t){\"circular\"===t.get(\"layout\")\&\&df(t)})}),Os(function(t){t.eachSeriesByType(\"graph\",function(t){var e=t.coordinateSystem;if(!e||\"view\"===e.type)if(\"force\"===t.get(\"layout\")){var i=t.preservedPoints||{},n=t.getGraph(),o=n.data,a=n.edgeData,r=t.getModel(\"force\"),s=r.get(\"initLayout\");t.preservedPoints?o.each(function(t){var e=o.getId(t);o.setItemLayout(t,i[e]||[NaN,NaN])}):s\&\&\"none\"!==s?\"circular\"===s\&\&df(t):hf(t);var l=o.getDataExtent(\"value\"),u=a.getDataExtent(\"value\"),h=r.get(\"repulsion\"),c=r.get(\"edgeLength\");y(h)||(h=[h,h]),y(c)||(c=[c,c]),c=[c[1],c[0]];var d=o.mapArray(\"value\",function(t,e){var i=o.getItemLayout(e),n=Eo(t,l,h);return isNaN(n)\&\&(n=(h[0]+h[1])/2),{w:n,rep:n,fixed:o.getItemModel(e).get(\"fixed\"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),f=a.mapArray(\"value\",function(t,e){var i=n.getEdgeByIndex(e),o=Eo(t,u,c);return isNaN(o)\&\&(o=(c[0]+c[1])/2),{n1:d[i.node1.dataIndex],n2:d[i.node2.dataIndex],d:o,curveness:i.getModel().get(\"lineStyle.curveness\")||0}}),p=(e=t.coordinateSystem).getBoundingRect(),g=ff(d,f,{rect:p,gravity:r.get(\"gravity\")}),m=g.step;g.step=function(t){for(var e=0,a=d.length;e<a;e++)d[e].fixed\&\&G(d[e].p,n.getNodeByIndex(e).getLayout());m(function(e,a,r){for(var s=0,l=e.length;s<l;s++)e[s].fixed||n.getNodeByIndex(s).setLayout(e[s].p),i[o.getId(s)]=e[s].p;for(var s=0,l=a.length;s<l;s++){var u=a[s],h=n.getEdgeByIndex(s),c=u.n1.p,d=u.n2.p,f=h.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],G(f[0],c),G(f[1],d),+u.curveness\&\&(f[2]=[(c[0]+d[0])/2-(c[1]-d[1])*u.curveness,(c[1]+d[1])/2-(d[0]-c[0])*u.curveness]),h.setLayout(f)}t\&\&t(r)})},t.forceLayout=g,t.preservedPoints=i,g.step()}else t.forceLayout=null})}),Ns(\"graphView\",{create:function(t,e){var i=[];return t.eachSeriesByType(\"graph\",function(t){var n=t.get(\"coordinateSystem\");if(!n||\"view\"===n){var o=t.getData(),a=[],r=[];dn(o.mapArray(function(t){var e=o.getItemModel(t);return[+e.get(\"x\"),+e.get(\"y\")]}),a,r),r[0]-a[0]==0\&\&(r[0]+=1,a[0]-=1),r[1]-a[1]==0\&\&(r[1]+=1,a[1]-=1);var s=(r[0]-a[0])/(r[1]-a[1]),l=pf(t,e,s);isNaN(s)\&\&(a=[l.x,l.y],r=[l.x+l.width,l.y+l.height]);var u=r[0]-a[0],h=r[1]-a[1],c=l.width,d=l.height,f=t.coordinateSystem=new Uh;f.zoomLimit=t.get(\"scaleLimit\"),f.setBoundingRect(a[0],a[1],u,h),f.setViewRect(l.x,l.y,c,d),f.setCenter(t.get(\"center\")),f.setZoom(t.get(\"zoom\")),i.push(f)}}),i}});OI.extend({type:\"series.gauge\",getInitialData:function(t,e){var i=t.data||[];return y(i)||(i=[i]),t.data=i,WD(this,[\"value\"])},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],legendHoverLink:!0,radius:\"75%\",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,\"#91c7ae\"],[.8,\"#63869e\"],[1,\"#c23531\"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:\"#eee\",width:2,type:\"solid\"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:\"#eee\",width:1,type:\"solid\"}},axisLabel:{show:!0,distance:5,color:\"auto\"},pointer:{show:!0,length:\"80%\",width:8},itemStyle:{color:\"auto\"},title:{show:!0,offsetCenter:[0,\"-40%\"],color:\"#333\",fontSize:15},detail:{show:!0,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:0,borderColor:\"#ccc\",width:100,height:null,padding:[5,10],offsetCenter:[0,\"40%\"],color:\"auto\",fontSize:30}}});var CL=kn.extend({type:\"echartsGaugePointer\",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-i(r)*a*(a>=o/3?1:2),l=e.y-n(r)*a*(a>=o/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*a,e.y+n(r)*a),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(r)*a,e.y-n(r)*a),t.lineTo(s,l)}}),LL=2*Math.PI,kL=(Mr.extend({type:\"gauge\",render:function(t,e,i){this.group.removeAll();var n=t.get(\"axisLine.lineStyle.color\"),o=gf(t,i);this._renderMain(t,e,i,n,o)},dispose:function(){},_renderMain:function(t,e,i,n,o){for(var a=this.group,r=t.getModel(\"axisLine\").getModel(\"lineStyle\"),s=t.get(\"clockwise\"),l=-t.get(\"startAngle\")/180*Math.PI,u=-t.get(\"endAngle\")/180*Math.PI,h=(u-l)%LL,c=l,d=r.get(\"width\"),f=0;f<n.length;f++){var p=Math.min(Math.max(n[f][0],0),1),g=new QS({shape:{startAngle:c,endAngle:u=l+h*p,cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-d,r:o.r},silent:!0});g.setStyle({fill:n[f][1]}),g.setStyle(r.getLineStyle([\"color\",\"borderWidth\",\"borderColor\"])),a.add(g),c=u}var m=function(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t\&\&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!s){var v=l;l=u,u=v}this._renderTicks(t,e,i,m,o,l,u,s),this._renderPointer(t,e,i,m,o,l,u,s),this._renderTitle(t,e,i,m,o),this._renderDetail(t,e,i,m,o)},_renderTicks:function(t,e,i,n,o,a,r,s){for(var l=this.group,u=o.cx,h=o.cy,c=o.r,d=+t.get(\"min\"),f=+t.get(\"max\"),p=t.getModel(\"splitLine\"),g=t.getModel(\"axisTick\"),m=t.getModel(\"axisLabel\"),v=t.get(\"splitNumber\"),y=g.get(\"splitNumber\"),x=Ro(p.get(\"length\"),c),_=Ro(g.get(\"length\"),c),w=a,b=(r-a)/v,S=b/y,M=p.getModel(\"lineStyle\").getLineStyle(),I=g.getModel(\"lineStyle\").getLineStyle(),T=0;T<=v;T++){var A=Math.cos(w),D=Math.sin(w);if(p.get(\"show\")){var C=new rM({shape:{x1:A*c+u,y1:D*c+h,x2:A*(c-x)+u,y2:D*(c-x)+h},style:M,silent:!0});\"auto\"===M.stroke\&\&C.setStyle({stroke:n(T/v)}),l.add(C)}if(m.get(\"show\")){var L=mf(zo(T/v*(f-d)+d),m.get(\"formatter\")),k=m.get(\"distance\"),P=n(T/v);l.add(new qS({style:fo({},m,{text:L,x:A*(c-x-k)+u,y:D*(c-x-k)+h,textVerticalAlign:D<-.4?\"top\":D>.4?\"bottom\":\"middle\",textAlign:A<-.4?\"left\":A>.4?\"right\":\"center\"},{autoColor:P}),silent:!0}))}if(g.get(\"show\")\&\&T!==v){for(var N=0;N<=y;N++){var A=Math.cos(w),D=Math.sin(w),O=new rM({shape:{x1:A*c+u,y1:D*c+h,x2:A*(c-_)+u,y2:D*(c-_)+h},silent:!0,style:I});\"auto\"===I.stroke\&\&O.setStyle({stroke:n((T+N/y)/v)}),l.add(O),w+=S}w-=S}else w+=b}},_renderPointer:function(t,e,i,n,o,a,r,s){var l=this.group,u=this._data;if(t.get(\"pointer.show\")){var h=[+t.get(\"min\"),+t.get(\"max\")],c=[a,r],d=t.getData(),f=d.mapDimension(\"value\");d.diff(u).add(function(e){var i=new CL({shape:{angle:a}});So(i,{shape:{angle:Eo(d.get(f,e),h,c,!0)}},t),l.add(i),d.setItemGraphicEl(e,i)}).update(function(e,i){var n=u.getItemGraphicEl(i);bo(n,{shape:{angle:Eo(d.get(f,e),h,c,!0)}},t),l.add(n),d.setItemGraphicEl(e,n)}).remove(function(t){var e=u.getItemGraphicEl(t);l.remove(e)}).execute(),d.eachItemGraphicEl(function(t,e){var i=d.getItemModel(e),a=i.getModel(\"pointer\");t.setShape({x:o.cx,y:o.cy,width:Ro(a.get(\"width\"),o.r),r:Ro(a.get(\"length\"),o.r)}),t.useStyle(i.getModel(\"itemStyle\").getItemStyle()),\"auto\"===t.style.fill\&\&t.setStyle(\"fill\",n(Eo(d.get(f,e),h,[0,1],!0))),uo(t,i.getModel(\"emphasis.itemStyle\").getItemStyle())}),this._data=d}else u\&\&u.eachItemGraphicEl(function(t){l.remove(t)})},_renderTitle:function(t,e,i,n,o){var a=t.getData(),r=a.mapDimension(\"value\"),s=t.getModel(\"title\");if(s.get(\"show\")){var l=s.get(\"offsetCenter\"),u=o.cx+Ro(l[0],o.r),h=o.cy+Ro(l[1],o.r),c=+t.get(\"min\"),d=+t.get(\"max\"),f=n(Eo(t.getData().get(r,0),[c,d],[0,1],!0));this.group.add(new qS({silent:!0,style:fo({},s,{x:u,y:h,text:a.getName(0),textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(t,e,i,n,o){var a=t.getModel(\"detail\"),r=+t.get(\"min\"),s=+t.get(\"max\");if(a.get(\"show\")){var l=a.get(\"offsetCenter\"),u=o.cx+Ro(l[0],o.r),h=o.cy+Ro(l[1],o.r),c=Ro(a.get(\"width\"),o.r),d=Ro(a.get(\"height\"),o.r),f=t.getData(),p=f.get(f.mapDimension(\"value\"),0),g=n(Eo(p,[r,s],[0,1],!0));this.group.add(new qS({silent:!0,style:fo({},a,{x:u,y:h,text:mf(p,a.get(\"formatter\")),textWidth:isNaN(c)?null:c,textHeight:isNaN(d)?null:d,textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:g,forceRich:!0})}))}}}),Gs({type:\"series.funnel\",init:function(t){kL.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return WD(this,[\"value\"])},_defaultLabelLine:function(t){Ci(t,\"labelLine\",[\"show\"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show\&\&t.label.show,i.show=i.show\&\&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),i=kL.superCall(this,\"getDataParams\",t),n=e.mapDimension(\"value\"),o=e.getSum(n);return i.percent=o?+(e.get(n,t)/o*100).toFixed(2):0,i.\$vars.push(\"percent\"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:\"0%\",maxSize:\"100%\",sort:\"descending\",gap:0,funnelAlign:\"center\",label:{show:!0,position:\"outer\"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderColor:\"#fff\",borderWidth:1},emphasis:{label:{show:!0}}}})),PL=vf.prototype,NL=[\"itemStyle\",\"opacity\"];PL.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e),l=t.getItemModel(e).get(NL);l=null==l?1:l,n.useStyle({}),i?(n.setShape({points:s.points}),n.setStyle({opacity:0}),So(n,{style:{opacity:l}},o,e)):bo(n,{style:{opacity:l},shape:{points:s.points}},o,e);var u=a.getModel(\"itemStyle\"),h=t.getItemVisual(e,\"color\");n.setStyle(r({lineJoin:\"round\",fill:h},u.getItemStyle([\"opacity\"]))),n.hoverStyle=u.getModel(\"emphasis\").getItemStyle(),this._updateLabel(t,e),uo(this)},PL._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),r=t.getItemLayout(e).label,s=t.getItemVisual(e,\"color\");bo(i,{shape:{points:r.linePoints||r.linePoints}},o,e),bo(n,{style:{x:r.x,y:r.y}},o,e),n.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var l=a.getModel(\"label\"),u=a.getModel(\"emphasis.label\"),h=a.getModel(\"labelLine\"),c=a.getModel(\"emphasis.labelLine\"),s=t.getItemVisual(e,\"color\");co(n.style,n.hoverStyle={},l,u,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign}),n.ignore=n.normalIgnore=!l.get(\"show\"),n.hoverIgnore=!u.get(\"show\"),i.ignore=i.normalIgnore=!h.get(\"show\"),i.hoverIgnore=!c.get(\"show\"),i.setStyle({stroke:s}),i.setStyle(h.getModel(\"lineStyle\").getLineStyle()),i.hoverStyle=c.getModel(\"lineStyle\").getLineStyle()},u(vf,Zw);Mr.extend({type:\"funnel\",render:function(t,e,i){var n=t.getData(),o=this._data,a=this.group;n.diff(o).add(function(t){var e=new vf(n,t);n.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),a.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});Es(jD(\"funnel\")),Os(function(t,e,i){t.eachSeriesByType(\"funnel\",function(t){var i=t.getData(),n=i.mapDimension(\"value\"),o=t.get(\"sort\"),a=yf(t,e),r=xf(i,o),s=[Ro(t.get(\"minSize\"),a.width),Ro(t.get(\"maxSize\"),a.width)],l=i.getDataExtent(n),u=t.get(\"min\"),h=t.get(\"max\");null==u\&\&(u=Math.min(l[0],0)),null==h\&\&(h=l[1]);var c=t.get(\"funnelAlign\"),d=t.get(\"gap\"),f=(a.height-d*(i.count()-1))/i.count(),p=a.y,g=function(t,e){var o,r=Eo(i.get(n,t)||0,[u,h],s,!0);switch(c){case\"left\":o=a.x;break;case\"center\":o=a.x+(a.width-r)/2;break;case\"right\":o=a.x+a.width-r}return[[o,e],[o+r,e]]};\"ascending\"===o\&\&(f=-f,d=-d,p+=a.height,r=r.reverse());for(var m=0;m<r.length;m++){var v=r[m],y=r[m+1],x=i.getItemModel(v).get(\"itemStyle.height\");null==x?x=f:(x=Ro(x,a.height),\"ascending\"===o\&\&(x=-x));var _=g(v,p),w=g(y,p+x);p+=x+d,i.setItemLayout(v,{points:_.concat(w.slice().reverse())})}_f(i)})}),ks(\$D(\"funnel\"));var OL=function(t,e,i,n,o){HA.call(this,t,e,i),this.type=n||\"value\",this.axisIndex=o};OL.prototype={constructor:OL,model:null,isHorizontal:function(){return\"horizontal\"!==this.coordinateSystem.getModel().get(\"layout\")}},u(OL,HA);var EL=function(t,e,i,n,o,a){e[0]=Mf(e[0],i),e[1]=Mf(e[1],i),t=t||0;var r=i[1]-i[0];null!=o\&\&(o=Mf(o,[0,r])),null!=a\&\&(a=Math.max(a,null!=o?o:0)),\"all\"===n\&\&(o=a=Math.abs(e[1]-e[0]),n=0);var s=Sf(e,n);e[n]+=t;var l=o||0,u=i.slice();s.sign<0?u[0]+=l:u[1]-=l,e[n]=Mf(e[n],u);h=Sf(e,n);null!=o\&\&(h.sign!==s.sign||h.span<o)\&\&(e[1-n]=e[n]+s.sign*o);var h=Sf(e,n);return null!=a\&\&h.span>a\&\&(e[1-n]=e[n]+h.sign*a),e},RL=d,zL=Math.min,BL=Math.max,VL=Math.floor,GL=Math.ceil,FL=zo,WL=Math.PI;If.prototype={type:\"parallel\",constructor:If,_init:function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;RL(n,function(t,i){var n=o[i],a=e.getComponent(\"parallelAxis\",n),r=this._axesMap.set(t,new OL(t,Vl(a),[0,0],a.get(\"type\"),n)),s=\"category\"===r.type;r.onBand=s\&\&a.get(\"boundaryGap\"),r.inverse=a.get(\"inverse\"),a.axis=r,r.model=a,r.coordinateSystem=a.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],r=t[o];return a>=i\&\&a<=i+e.axisLength\&\&r>=n\&\&r<=n+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();RL(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),Bl(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=la(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,n=[\"x\",\"y\"],o=[\"width\",\"height\"],a=e.get(\"layout\"),r=\"horizontal\"===a?0:1,s=i[o[r]],l=[0,s],u=this.dimensions.length,h=Tf(e.get(\"axisExpandWidth\"),l),c=Tf(e.get(\"axisExpandCount\")||0,[0,u]),d=e.get(\"axisExpandable\")\&\&u>3\&\&u>c\&\&c>1\&\&h>0\&\&s>0,f=e.get(\"axisExpandWindow\");f?(t=Tf(f[1]-f[0],l),f[1]=f[0]+t):(t=Tf(h*(c-1),l),(f=[h*(e.get(\"axisExpandCenter\")||VL(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-c);p<3\&\&(p=0);var g=[VL(FL(f[0]/h,1))+1,GL(FL(f[1]/h,1))-1],m=p/h*f[0];return{layout:a,pixelDimIndex:r,layoutBase:i[n[r]],layoutLength:s,axisBase:i[n[1-r]],axisLength:i[o[1-r]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;e.each(function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])}),RL(i,function(e,i){var a=(n.axisExpandable?Df:Af)(i,n),r={horizontal:{x:a.position,y:n.axisLength},vertical:{x:0,y:a.position}},s={horizontal:WL/2,vertical:0},l=[r[o].x+t.x,r[o].y+t.y],u=s[o],h=mt();wt(h,h,u),_t(h,h,l),this._axesLayout[e]={position:l,rotation:u,transform:h,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,i,n){null==i\&\&(i=0),null==n\&\&(n=t.count());var o=this._axesMap,a=this.dimensions,r=[],s=[];d(a,function(e){r.push(t.mapDimension(e)),s.push(o.get(e).model)});for(var l=this.hasAxisBrushed(),u=i;u<n;u++){var h;if(l){h=\"active\";for(var c=t.getValues(r,u),f=0,p=a.length;f<p;f++)if(\"inactive\"===s[f].getActiveState(c[f])){h=\"inactive\";break}}else h=\"normal\";e(h,u)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)\"normal\"!==e.get(t[n]).model.getActiveState()\&\&(i=!0);return i},axisCoordToPoint:function(t,e){return Io([t,0],this._axesLayout[e].transform)},getAxisLayout:function(t){return i(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:\"none\",axisExpandWindow:n};var r,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l=\"slide\",u=e.axisCollapseWidth,h=this._model.get(\"axisExpandSlideTriggerArea\"),c=null!=h[0];if(u)c\&\&u\&\&s<o*h[0]?(l=\"jump\",r=s-o*h[2]):c\&\&u\&\&s>o*(1-h[0])?(l=\"jump\",r=s-o*(1-h[2])):(r=s-o*h[1])>=0\&\&(r=s-o*(1-h[1]))<=0\&\&(r=0),(r*=e.axisExpandWidth/u)?EL(r,n,a,\"all\"):l=\"none\";else{o=n[1]-n[0];(n=[BL(0,a[1]*s/o-o/2)])[1]=zL(a[1],n[0]+o),n[0]=n[1]-o}return{axisExpandWindow:n,behavior:l}}},Ba.register(\"parallel\",{create:function(t,e){var i=[];return t.eachComponent(\"parallel\",function(n,o){var a=new If(n,t,e);a.name=\"parallel_\"+o,a.resize(n,e),n.coordinateSystem=a,a.model=n,i.push(a)}),t.eachSeries(function(e){if(\"parallel\"===e.get(\"coordinateSystem\")){var i=t.queryComponents({mainType:\"parallel\",index:e.get(\"parallelIndex\"),id:e.get(\"parallelId\")})[0];e.coordinateSystem=i.coordinateSystem}}),i}});var HL=YM.extend({type:\"baseParallelAxis\",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Wb([[\"fill\",\"color\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"borderColor\"],[\"width\",\"width\"],[\"opacity\",\"opacity\"]])(this.getModel(\"areaSelectStyle\"))},setActiveIntervals:function(t){var e=this.activeIntervals=i(t);if(e)for(var n=e.length-1;n>=0;n--)Bo(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return\"normal\";if(null==t||isNaN(t))return\"inactive\";if(1===e.length){var i=e[0];if(i[0]<=t\&\&t<=i[1])return\"active\"}else for(var n=0,o=e.length;n<o;n++)if(e[n][0]<=t\&\&t<=e[n][1])return\"active\";return\"inactive\"}}),ZL={type:\"value\",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:\"rgba(160,197,232)\",color:\"rgba(160,197,232)\",opacity:.3},realtime:!0,z:10};n(HL.prototype,CA),xD(\"parallel\",HL,function(t,e){return e.type||(e.data?\"category\":\"value\")},ZL),YM.extend({type:\"parallel\",dependencies:[\"parallelAxis\"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:\"box\",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:\"horizontal\",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:\"click\",parallelAxisDefault:null},init:function(){YM.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t\&\&n(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get(\"parallelIndex\");return null!=i\&\&e.getComponent(\"parallel\",i)===this},setAxisExpand:function(t){d([\"axisExpandable\",\"axisExpandCenter\",\"axisExpandCount\",\"axisExpandWidth\",\"axisExpandWindow\"],function(e){t.hasOwnProperty(e)\&\&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];d(g(this.dependentModels.parallelAxis,function(t){return(t.get(\"parallelIndex\")||0)===this.componentIndex},this),function(i){t.push(\"dim\"+i.get(\"dim\")),e.push(i.componentIndex)})}}),Ps({type:\"axisAreaSelect\",event:\"axisAreaSelected\"},function(t,e){e.eachComponent({mainType:\"parallelAxis\",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),Ps(\"parallelAxisExpand\",function(t,e){e.eachComponent({mainType:\"parallel\",query:t},function(e){e.setAxisExpand(t)})});var UL=v,XL=d,jL=f,YL=Math.min,qL=Math.max,KL=Math.pow,\$L=1e4,JL=6,QL=6,tk=\"globalPan\",ek={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ik={w:\"ew\",e:\"ew\",n:\"ns\",s:\"ns\",ne:\"nesw\",sw:\"nesw\",nw:\"nwse\",se:\"nwse\"},nk={brushStyle:{lineWidth:2,stroke:\"rgba(0,0,0,0.3)\",fill:\"rgba(0,0,0,0.1)\"},transformable:!0,brushMode:\"single\",removeOnClick:!1},ok=0;Cf.prototype={constructor:Cf,enableBrush:function(t){return this._brushType\&\&kf(this),t.brushType\&\&Lf(this,t),this},setPanels:function(t){if(t\&\&t.length){var e=this._panels={};d(t,function(t){e[t.panelId]=i(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){XL(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:a+e)+\"-\"+t.brushType}function o(e,i){var n=t[e];if(null!=i\&\&r[i]===u)s[e]=r[i];else{var o=s[e]=null!=i?(r[i].__brushOption=n,r[i]):Nf(l,Pf(l,n));Rf(l,o)}}t=f(t,function(t){return n(i(nk),t,!0)});var a=\"\\0-brush-index-\",r=this._covers,s=this._covers=[],l=this,u=this._creatingCover;return new Hs(r,t,function(t,i){return e(t.__brushOption,i)},e).add(o).update(o).remove(function(t){r[t]!==u\&\&l.group.remove(r[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),Gf(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},h(Cf,aw);var ak={mousedown:function(t){if(this._dragging)lp.call(this,t);else if(!t.target||!t.target.draggable){op(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Bf(this,t,e))\&\&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(np(this,t,e),this._dragging){op(t);var i=rp(this,t,e,!1);i\&\&Ff(this,i)}},mouseup:lp},rk={lineX:up(0),lineY:up(1),rect:{createCover:function(t,e){return Zf(UL(Jf,function(t){return t},function(t){return t}),t,e,[\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"])},getCreatingRange:function(t){var e=Hf(t);return qf(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){Uf(t,e,i,n)},updateCommon:Xf,contain:ap},polygon:{createCover:function(t,e){var i=new Zw;return i.add(new oM({name:\"main\",style:Yf(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new nM({name:\"main\",draggable:!0,drift:UL(Qf,t,e),ondragend:UL(Ff,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:ep(t,e,i)})},updateCommon:Xf,contain:ap}},sk=[\"axisLine\",\"axisTickLabel\",\"axisName\"],lk=Vs({type:\"parallelAxis\",init:function(t,e){lk.superApply(this,\"init\",arguments),(this._brushController=new Cf(e.getZr())).on(\"brush\",m(this._onBrush,this))},render:function(t,e,i,n){if(!pp(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Zw,this.group.add(this._axisGroup),t.get(\"show\")){var r=mp(t,e),s=r.coordinateSystem,l=t.getAreaSelectStyle(),u=l.width,h=t.axis.dim,c=a({strokeContainThreshold:u},s.getAxisLayout(h)),f=new ID(t,c);d(sk,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(c,l,t,r,u,i);var p=n\&\&!1===n.animation?null:t;Ao(o,this._axisGroup,p)}}},_refreshBrushController:function(t,e,i,n,o,a){var r=i.axis.getExtent(),s=r[1]-r[0],l=Math.min(30,.1*Math.abs(s)),u=ue.create({x:r[0],y:-o/2,width:s,height:o});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:\"pl\",clipPath:hp(u),isTargetByCursor:dp(u,a,n),getLinearBrushOtherExtent:cp(u,0)}]).enableBrush({brushType:\"lineX\",brushStyle:e,removeOnClick:!0}).updateCovers(gp(i))},_onBrush:function(t,e){var i=this.axisModel,n=i.axis,o=f(t,function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)\&\&this.api.dispatchAction({type:\"axisAreaSelect\",parallelAxisId:i.id,intervals:o})},dispose:function(){this._brushController.dispose()}});Vs({type:\"parallel\",render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},d(uk,function(t,e){i.getZr().on(e,this._handlers[e]=m(t,this))},this)),Lr(this,\"_throttledDispatchExpand\",t.get(\"axisExpandRate\"),\"fixRate\")},dispose:function(t,e){d(this._handlers,function(t,i){e.getZr().off(i,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t\&\&this._api.dispatchAction(a({type:\"parallelAxisExpand\"},t))}});var uk={mousedown:function(t){vp(this,\"click\")\&\&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(vp(this,\"click\")\&\&e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);\"none\"!==n.behavior\&\&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint\&\&vp(this,\"mousemove\")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;\"jump\"===n\&\&this._throttledDispatchExpand.debounceNextCall(e.get(\"axisExpandDebounce\")),this._throttledDispatchExpand(\"none\"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:\"jump\"===n\&\&null})}}};Ls(function(t){wf(t),bf(t)}),OI.extend({type:\"series.parallel\",dependencies:[\"parallel\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(t,e){var i=this.getSource();return yp(i,this),dl(i,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,o){t===e\&\&n.push(i.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:\"parallel\",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:\"solid\"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:\"linear\"}});var hk=.3,ck=(Mr.extend({type:\"parallel\",init:function(){this._dataGroup=new Zw,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,i,n){var o=this._dataGroup,a=t.getData(),r=this._data,s=t.coordinateSystem,l=s.dimensions,u=Sp(t);if(a.diff(r).add(function(t){Mp(bp(a,o,t,l,s),a,t,u)}).update(function(e,i){var o=r.getItemGraphicEl(i),h=wp(a,e,l,s);a.setItemGraphicEl(e,o),bo(o,{shape:{points:h}},n\&\&!1===n.animation?null:t,e),Mp(o,a,e,u)}).remove(function(t){var e=r.getItemGraphicEl(t);o.remove(e)}).execute(),!this._initialized){this._initialized=!0;var h=_p(s,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(h)}this._data=a},incrementalPrepareRender:function(t,e,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,i){for(var n=e.getData(),o=e.coordinateSystem,a=o.dimensions,r=Sp(e),s=t.start;s<t.end;s++){var l=bp(n,this._dataGroup,s,a,o);l.incremental=!0,Mp(l,n,s,r)}},dispose:function(){},remove:function(){this._dataGroup\&\&this._dataGroup.removeAll(),this._data=null}}),[\"lineStyle\",\"normal\",\"opacity\"]);Es({seriesType:\"parallel\",reset:function(t,e,i){var n=t.getModel(\"itemStyle\"),o=t.getModel(\"lineStyle\"),a=e.get(\"color\"),r=o.get(\"color\")||n.get(\"color\")||a[t.seriesIndex%a.length],s=t.get(\"inactiveOpacity\"),l=t.get(\"activeOpacity\"),u=t.getModel(\"lineStyle\").getLineStyle(),h=t.coordinateSystem,c=t.getData(),d={normal:u.opacity,active:l,inactive:s};return c.setVisual(\"color\",r),{progress:function(t,e){h.eachActiveState(e,function(t,i){var n=d[t];if(\"normal\"===t\&\&e.hasItemOption){var o=e.getItemModel(i).get(ck,!0);null!=o\&\&(n=o)}e.setItemVisual(i,\"opacity\",n)},t.start,t.end)}}}});var dk=OI.extend({type:\"series.sankey\",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,i=t.data||t.nodes;if(i\&\&e)return cL(i,e,this,!0).data},setNodePosition:function(t,e){var i=this.option.data[t];i.localX=e[0],i.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if(\"edge\"===i){var n=this.getDataParams(t,i),o=n.data,a=o.source+\" -- \"+o.target;return n.value\&\&(a+=\" : \"+n.value),Qo(a)}return dk.superCall(this,\"formatTooltip\",t,e)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency\&\&(t.focusNodeAdjacency=\"allEdges\")},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",layout:null,left:\"5%\",top:\"5%\",right:\"20%\",bottom:\"5%\",orient:\"horizontal\",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:\"right\",color:\"#000\",fontSize:12},itemStyle:{borderWidth:1,borderColor:\"#333\"},lineStyle:{color:\"#314656\",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:\"linear\",animationDuration:1e3}}),fk=[\"itemStyle\",\"opacity\"],pk=[\"lineStyle\",\"opacity\"],gk=Fn({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:\"\"},buildPath:function(t,e){var i=e.extent;\"vertical\"===e.orient?(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2+i,e.y2),t.bezierCurveTo(e.cpx2+i,e.cpy2,e.cpx1+i,e.cpy1,e.x1+i,e.y1)):(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i)),t.closePath()}});Fs({type:\"sankey\",_model:null,_focusAdjacencyDisabled:!1,render:function(t,e,i){var n=this,o=t.getGraph(),a=this.group,r=t.layoutInfo,s=r.width,l=r.height,u=t.getData(),h=t.getData(\"edge\"),c=t.get(\"orient\");this._model=t,a.removeAll(),a.attr(\"position\",[r.x,r.y]),o.eachEdge(function(e){var i=new gk;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType=\"edge\";var n,o,r,u,d,f,p,g,m=e.getModel(\"lineStyle\"),v=m.get(\"curveness\"),y=e.node1.getLayout(),x=e.node1.getModel(),_=x.get(\"localX\"),w=x.get(\"localY\"),b=e.node2.getLayout(),S=e.node2.getModel(),M=S.get(\"localX\"),I=S.get(\"localY\"),T=e.getLayout();switch(i.shape.extent=Math.max(1,T.dy),i.shape.orient=c,\"vertical\"===c?(n=(null!=_?_*s:y.x)+T.sy,o=(null!=w?w*l:y.y)+y.dy,r=(null!=M?M*s:b.x)+T.ty,d=n,f=o*(1-v)+(u=null!=I?I*l:b.y)*v,p=r,g=o*v+u*(1-v)):(n=(null!=_?_*s:y.x)+y.dx,o=(null!=w?w*l:y.y)+T.sy,d=n*(1-v)+(r=null!=M?M*s:b.x)*v,f=o,p=n*v+r*(1-v),g=u=(null!=I?I*l:b.y)+T.ty),i.setShape({x1:n,y1:o,x2:r,y2:u,cpx1:d,cpy1:f,cpx2:p,cpy2:g}),i.setStyle(m.getItemStyle()),i.style.fill){case\"source\":i.style.fill=e.node1.getVisual(\"color\");break;case\"target\":i.style.fill=e.node2.getVisual(\"color\")}uo(i,e.getModel(\"emphasis.lineStyle\").getItemStyle()),a.add(i),h.setItemGraphicEl(e.dataIndex,i)}),o.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),o=n.get(\"localX\"),r=n.get(\"localY\"),h=n.getModel(\"label\"),c=n.getModel(\"emphasis.label\"),d=new aM({shape:{x:null!=o?o*s:i.x,y:null!=r?r*l:i.y,width:i.dx,height:i.dy},style:n.getModel(\"itemStyle\").getItemStyle()}),f=e.getModel(\"emphasis.itemStyle\").getItemStyle();co(d.style,f,h,c,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),d.setStyle(\"fill\",e.getVisual(\"color\")),uo(d,f),a.add(d),u.setItemGraphicEl(e.dataIndex,d),d.dataType=\"node\"}),u.eachItemGraphicEl(function(e,o){var a=u.getItemModel(o);a.get(\"draggable\")\&\&(e.drift=function(e,a){n._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=a,this.dirty(),i.dispatchAction({type:\"dragNode\",seriesId:t.id,dataIndex:u.getRawIndex(o),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){n._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor=\"move\"),a.get(\"focusNodeAdjacency\")\&\&(e.off(\"mouseover\").on(\"mouseover\",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:t.id,dataIndex:e.dataIndex})}),e.off(\"mouseout\").on(\"mouseout\",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:t.id})}))}),h.eachItemGraphicEl(function(e,o){h.getItemModel(o).get(\"focusNodeAdjacency\")\&\&(e.off(\"mouseover\").on(\"mouseover\",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:t.id,edgeDataIndex:e.dataIndex})}),e.off(\"mouseout\").on(\"mouseout\",function(){n._focusAdjacencyDisabled||i.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:t.id})}))}),!this._data\&\&t.get(\"animation\")\&\&a.setClipPath(Cp(a.getBoundingRect(),t,function(){a.removeClipPath()})),this._data=t.getData()},dispose:function(){},focusNodeAdjacency:function(t,e,i,n){var o=this._model.getData(),a=o.graph,r=n.dataIndex,s=o.getItemModel(r),l=n.edgeDataIndex;if(null!=r||null!=l){var u=a.getNodeByIndex(r),h=a.getEdgeByIndex(l);if(a.eachNode(function(t){Ap(t,fk,.1)}),a.eachEdge(function(t){Ap(t,pk,.1)}),u){Dp(u,fk);var c=s.get(\"focusNodeAdjacency\");\"outEdges\"===c?d(u.outEdges,function(t){t.dataIndex<0||(Dp(t,pk),Dp(t.node2,fk))}):\"inEdges\"===c?d(u.inEdges,function(t){t.dataIndex<0||(Dp(t,pk),Dp(t.node1,fk))}):\"allEdges\"===c\&\&d(u.edges,function(t){t.dataIndex<0||(Dp(t,pk),Dp(t.node1,fk),Dp(t.node2,fk))})}h\&\&(Dp(h,pk),Dp(h.node1,fk),Dp(h.node2,fk))}},unfocusNodeAdjacency:function(t,e,i,n){var o=this._model.getGraph();o.eachNode(function(t){Ap(t,fk)}),o.eachEdge(function(t){Ap(t,pk)})}}),Ps({type:\"dragNode\",event:\"dragNode\",update:\"update\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sankey\",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})});Os(function(t,e,i){t.eachSeriesByType(\"sankey\",function(t){var i=t.get(\"nodeWidth\"),n=t.get(\"nodeGap\"),o=kp(t,e);t.layoutInfo=o;var a=o.width,r=o.height,s=t.getGraph(),l=s.nodes,u=s.edges;Np(l),Pp(l,u,i,n,a,r,0!==g(l,function(t){return 0===t.getLayout().value}).length?0:t.get(\"layoutIterations\"),t.get(\"orient\"))})}),Es(function(t,e){t.eachSeriesByType(\"sankey\",function(t){var e=t.getGraph().nodes;if(e.length){var i=1/0,n=-1/0;d(e,function(t){var e=t.getLayout().value;e<i\&\&(i=e),e>n\&\&(n=e)}),d(e,function(e){var o=new jC({type:\"color\",mappingMethod:\"linear\",dataExtent:[i,n],visual:t.get(\"color\")}).mapValueToVisual(e.getLayout().value);e.setVisual(\"color\",o);var a=e.getModel().get(\"itemStyle.color\");null!=a\&\&e.setVisual(\"color\",a)})}})});var mk={_baseAxisDim:null,getInitialData:function(t,e){var i,n,o=e.getComponent(\"xAxis\",this.get(\"xAxisIndex\")),a=e.getComponent(\"yAxis\",this.get(\"yAxisIndex\")),r=o.get(\"type\"),s=a.get(\"type\");\"category\"===r?(t.layout=\"horizontal\",i=o.getOrdinalMeta(),n=!0):\"category\"===s?(t.layout=\"vertical\",i=a.getOrdinalMeta(),n=!0):t.layout=t.layout||\"horizontal\";var l=[\"x\",\"y\"],u=\"horizontal\"===t.layout?0:1,h=this._baseAxisDim=l[u],c=l[1-u],f=[o,a],p=f[u].get(\"type\"),g=f[1-u].get(\"type\"),m=t.data;if(m\&\&n){var v=[];d(m,function(t,e){var i;t.value\&\&y(t.value)?(i=t.value.slice(),t.value.unshift(e)):y(t)?(i=t.slice(),t.unshift(e)):i=t,v.push(i)}),t.data=v}var x=this.defaultValueDimensions;return WD(this,{coordDimensions:[{name:h,type:Xs(p),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:[\"base\"]},{name:c,type:Xs(g),dimsDef:x.slice()}],dimensionsCount:x.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+\"Axis\",this.get(t+\"AxisIndex\")).axis}};h(OI.extend({type:\"series.boxplot\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[{name:\"min\",defaultTooltip:!0},{name:\"Q1\",defaultTooltip:!0},{name:\"median\",defaultTooltip:!0},{name:\"Q3\",defaultTooltip:!0},{name:\"max\",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:\"#fff\",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:\"rgba(0,0,0,0.4)\"}},animationEasing:\"elasticOut\",animationDuration:800}}),mk,!0);var vk=[\"itemStyle\"],yk=[\"emphasis\",\"itemStyle\"],xk=(Mr.extend({type:\"boxplot\",render:function(t,e,i){var n=t.getData(),o=this.group,a=this._data;this._data||o.removeAll();var r=\"horizontal\"===t.get(\"layout\")?1:0;n.diff(a).add(function(t){if(n.hasValue(t)){var e=qp(n.getItemLayout(t),n,t,r,!0);n.setItemGraphicEl(t,e),o.add(e)}}).update(function(t,e){var i=a.getItemGraphicEl(e);if(n.hasValue(t)){var s=n.getItemLayout(t);i?Kp(s,i,n,t):i=qp(s,n,t,r),o.add(i),n.setItemGraphicEl(t,i)}else o.remove(i)}).remove(function(t){var e=a.getItemGraphicEl(t);e\&\&o.remove(e)}).execute(),this._data=n},remove:function(t){var e=this.group,i=this._data;this._data=null,i\&\&i.eachItemGraphicEl(function(t){t\&\&e.remove(t)})},dispose:B}),kn.extend({type:\"boxplotBoxPath\",shape:{},buildPath:function(t,e){var i=e.points,n=0;for(t.moveTo(i[n][0],i[n][1]),n++;n<4;n++)t.lineTo(i[n][0],i[n][1]);for(t.closePath();n<i.length;n++)t.moveTo(i[n][0],i[n][1]),n++,t.lineTo(i[n][0],i[n][1])}})),_k=[\"itemStyle\",\"borderColor\"],wk=d;Es(function(t,e){var i=t.get(\"color\");t.eachRawSeriesByType(\"boxplot\",function(e){var n=i[e.seriesIndex%i.length],o=e.getData();o.setVisual({legendSymbol:\"roundRect\",color:e.get(_k)||n}),t.isSeriesFiltered(e)||o.each(function(t){var e=o.getItemModel(t);o.setItemVisual(t,{color:e.get(_k,!0)})})})}),Os(function(t){var e=Jp(t);wk(e,function(t){var e=t.seriesModels;e.length\&\&(Qp(t),wk(e,function(e,i){tg(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}),h(OI.extend({type:\"series.candlestick\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[{name:\"open\",defaultTooltip:!0},{name:\"close\",defaultTooltip:!0},{name:\"lowest\",defaultTooltip:!0},{name:\"highest\",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:\"#c23531\",color0:\"#314656\",borderWidth:1,borderColor:\"#c23531\",borderColor0:\"#314656\"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:\"mod\",animationUpdate:!1,animationEasing:\"linear\",animationDuration:300},getShadowDim:function(){return\"open\"},brushSelector:function(t,e,i){var n=e.getItemLayout(t);return n\&\&i.rect(n.brushRect)}}),mk,!0);var bk=[\"itemStyle\"],Sk=[\"emphasis\",\"itemStyle\"],Mk=[\"color\",\"color0\",\"borderColor\",\"borderColor0\"],Ik=(Mr.extend({type:\"candlestick\",render:function(t,e,i){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)\&\&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),i=this._data,n=this.group,o=e.getLayout(\"isSimpleBox\");this._data||n.removeAll(),e.diff(i).add(function(i){if(e.hasValue(i)){var a,r=e.getItemLayout(i);So(a=eg(r,0,!0),{shape:{points:r.ends}},t,i),ig(a,e,i,o),n.add(a),e.setItemGraphicEl(i,a)}}).update(function(a,r){var s=i.getItemGraphicEl(r);if(e.hasValue(a)){var l=e.getItemLayout(a);s?bo(s,{shape:{points:l.ends}},t,a):s=eg(l),ig(s,e,a,o),n.add(s),e.setItemGraphicEl(a,s)}else n.remove(s)}).remove(function(t){var e=i.getItemGraphicEl(t);e\&\&n.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),og(t,this.group)},_incrementalRenderNormal:function(t,e){for(var i,n=e.getData(),o=n.getLayout(\"isSimpleBox\");null!=(i=t.next());){var a;ig(a=eg(n.getItemLayout(i)),n,i,o),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(t,e){og(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:B}),kn.extend({type:\"normalCandlestickBox\",shape:{},buildPath:function(t,e){var i=e.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))}})),Tk=kn.extend({type:\"largeCandlestickBox\",shape:{},buildPath:function(t,e){for(var i=e.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];t.moveTo(o,i[n++]),t.lineTo(o,i[n++])}else n+=3}}),Ak=[\"itemStyle\",\"borderColor\"],Dk=[\"itemStyle\",\"borderColor0\"],Ck=[\"itemStyle\",\"color\"],Lk=[\"itemStyle\",\"color0\"],kk={seriesType:\"candlestick\",plan:zI(),performRawSeries:!0,reset:function(t,e){function i(t,e){return e.get(t>0?Ck:Lk)}function n(t,e){return e.get(t>0?Ak:Dk)}var o=t.getData(),a=t.pipelineContext.large;if(o.setVisual({legendSymbol:\"roundRect\",colorP:i(1,t),colorN:i(-1,t),borderColorP:n(1,t),borderColorN:n(-1,t)}),!e.isSeriesFiltered(t))return!a\&\&{progress:function(t,e){for(var o;null!=(o=t.next());){var a=e.getItemModel(o),r=e.getItemLayout(o).sign;e.setItemVisual(o,{color:i(r,a),borderColor:n(r,a)})}}}}},Pk=\"undefined\"!=typeof Float32Array?Float32Array:Array,Nk={seriesType:\"candlestick\",plan:zI(),reset:function(t){var e=t.coordinateSystem,i=t.getData(),n=sg(t,i),o=0,a=1,r=[\"x\",\"y\"],s=i.mapDimension(r[o]),l=i.mapDimension(r[a],!0),u=l[0],h=l[1],c=l[2],d=l[3];if(i.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(null==s||l.length<4))return{progress:t.pipelineContext.large?function(t,i){for(var n,r,l=new Pk(5*t.count),f=0,p=[],g=[];null!=(r=t.next());){var m=i.get(s,r),v=i.get(u,r),y=i.get(h,r),x=i.get(c,r),_=i.get(d,r);isNaN(m)||isNaN(x)||isNaN(_)?(l[f++]=NaN,f+=4):(l[f++]=rg(i,r,v,y,h),p[o]=m,p[a]=x,n=e.dataToPoint(p,null,g),l[f++]=n?n[0]:NaN,l[f++]=n?n[1]:NaN,p[a]=_,n=e.dataToPoint(p,null,g),l[f++]=n?n[1]:NaN)}i.setLayout(\"largePoints\",l)}:function(t,i){function r(t,i){var n=[];return n[o]=i,n[a]=t,isNaN(i)||isNaN(t)?[NaN,NaN]:e.dataToPoint(n)}function l(t,e,i){var a=e.slice(),r=e.slice();a[o]=Yn(a[o]+n/2,1,!1),r[o]=Yn(r[o]-n/2,1,!0),i?t.push(a,r):t.push(r,a)}function f(t){return t[o]=Yn(t[o],1),t}for(var p;null!=(p=t.next());){var g=i.get(s,p),m=i.get(u,p),v=i.get(h,p),y=i.get(c,p),x=i.get(d,p),_=Math.min(m,v),w=Math.max(m,v),b=r(_,g),S=r(w,g),M=r(y,g),I=r(x,g),T=[];l(T,S,0),l(T,b,1),T.push(f(I),f(S),f(M),f(b)),i.setItemLayout(p,{sign:rg(i,p,m,v,h),initBaseline:m>v?S[a]:b[a],ends:T,brushRect:function(t,e,i){var s=r(t,i),l=r(e,i);return s[o]-=n/2,l[o]-=n/2,{x:s[0],y:s[1],width:a?n:l[0]-s[0],height:a?l[1]-s[1]:n}}(y,x,g)})}}}}};Ls(function(t){t\&\&y(t.series)\&\&d(t.series,function(t){w(t)\&\&\"k\"===t.type\&\&(t.type=\"candlestick\")})}),Es(kk),Os(Nk),OI.extend({type:\"series.effectScatter\",dependencies:[\"grid\",\"polar\"],getInitialData:function(t,e){return dl(this.getSource(),this)},brushSelector:\"point\",defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,effectType:\"ripple\",progressive:0,showEffectOn:\"render\",rippleEffect:{period:4,scale:2.5,brushType:\"fill\"},symbolSize:10}});var Ok=hg.prototype;Ok.stopEffectAnimation=function(){this.childAt(1).removeAll()},Ok.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),o=0;o<3;o++){var a=Xl(e,-1,-1,2,2,i);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var r=-o/3*t.period+t.effectOffset;a.animate(\"\",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(r).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(r).start(),n.add(a)}ug(n,t)},Ok.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=[\"symbolType\",\"period\",\"rippleScale\"],o=0;o<n.length;o++){var a=n[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}ug(i,t)},Ok.highlight=function(){this.trigger(\"emphasis\")},Ok.downplay=function(){this.trigger(\"normal\")},Ok.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var n=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,\"symbol\"),r=lg(t.getItemVisual(e,\"symbolSize\")),s=t.getItemVisual(e,\"color\");n.attr(\"scale\",r),n.traverse(function(t){t.attr({fill:s})});var l=o.getShallow(\"symbolOffset\");if(l){var u=n.position;u[0]=Ro(l[0],r[0]),u[1]=Ro(l[1],r[1])}n.rotation=(o.getShallow(\"symbolRotate\")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=i.get(\"showEffectOn\"),h.rippleScale=o.get(\"rippleEffect.scale\"),h.brushType=o.get(\"rippleEffect.brushType\"),h.period=1e3*o.get(\"rippleEffect.period\"),h.effectOffset=e/t.count(),h.z=o.getShallow(\"z\")||0,h.zlevel=o.getShallow(\"zlevel\")||0,h.symbolType=a,h.color=s,this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),\"render\"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var c=this.childAt(0),d=function(){c.highlight(),\"render\"!==h.showEffectOn\&\&this.startEffectAnimation(h)},f=function(){c.downplay(),\"render\"!==h.showEffectOn\&\&this.stopEffectAnimation()};this.on(\"mouseover\",d,this).on(\"mouseout\",f,this).on(\"emphasis\",d,this).on(\"normal\",f,this)}this._effectCfg=h},Ok.fadeOut=function(t){this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),t\&\&t()},u(hg,Zw),Fs({type:\"effectScatter\",init:function(){this._symbolDraw=new Su(hg)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(t,e,i){var n=t.getData();this.group.dirty();var o=cD().reset(t);o.progress\&\&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e\&\&e.getRoamTransform\&\&(this.group.transform=Mt(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw\&\&this._symbolDraw.remove(e)},dispose:function(){}}),Es(hD(\"effectScatter\",\"circle\")),Os(cD(\"effectScatter\"));var Ek=\"undefined\"==typeof Uint32Array?Array:Uint32Array,Rk=\"undefined\"==typeof Float64Array?Array:Float64Array,zk=OI.extend({type:\"series.lines\",dependencies:[\"grid\",\"polar\"],visualColorAccessPath:\"lineStyle.color\",init:function(t){t.data=t.data||[],cg(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords\&\&(t.data=new Float32Array(e.count)),zk.superApply(this,\"init\",arguments)},mergeOption:function(t){if(t.data=t.data||[],cg(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords\&\&(t.data=new Float32Array(e.count))}zk.superApply(this,\"mergeOption\",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords\&\&(this._flatCoords?(this._flatCoords=z(this._flatCoords,e.flatCoords),this._flatCoordsOffset=z(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow(\"coords\")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}for(var a=this._getCoordsFromItemModel(t),o=0;o<a.length;o++)e[o]=e[o]||[],e[o][0]=a[o][0],e[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords\&\&(e=this._flatCoords.length),\"number\"==typeof t[0]){for(var i=t.length,n=new Ek(i),o=new Rk(i),a=0,r=0,s=0,l=0;l<i;){s++;var u=t[l++];n[r++]=a+e,n[r++]=u;for(var h=0;h<u;h++){var c=t[l++],d=t[l++];o[a++]=c,o[a++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var i=new eA([\"value\"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[o]:a:void 0}),i},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get(\"name\");if(i)return i;var n=e.get(\"fromName\"),o=e.get(\"toName\"),a=[];return null!=n\&\&a.push(n),null!=o\&\&a.push(o),Qo(a.join(\" > \"))},preventIncremental:function(){return!!this.get(\"effect.show\")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get(\"progressive\"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get(\"progressiveThreshold\"):t},defaultOption:{coordinateSystem:\"geo\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:[\"none\",\"none\"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:\"circle\",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:\"end\"},lineStyle:{opacity:.5}}}),Bk=dg.prototype;Bk.createLine=function(t,e,i){return new \$d(t,e,i)},Bk._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel(\"effect\"),n=i.get(\"symbolSize\"),o=i.get(\"symbol\");y(n)||(n=[n,n]);var a=i.get(\"color\")||t.getItemVisual(e,\"color\"),r=this.childAt(1);this._symbolType!==o\&\&(this.remove(r),(r=Xl(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r\&\&(r.setStyle(\"shadowColor\",a),r.setStyle(i.getItemStyle([\"color\"])),r.attr(\"scale\",n),r.setColor(a),r.attr(\"scale\",n),this._symbolType=o,this._updateEffectAnimation(t,i,e))},Bk._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=this,a=t.getItemLayout(i),r=1e3*e.get(\"period\"),s=e.get(\"loop\"),l=e.get(\"constantSpeed\"),u=T(e.get(\"delay\"),function(e){return e/t.count()*r/3}),h=\"function\"==typeof u;if(n.ignore=!0,this.updateAnimationPoints(n,a),l>0\&\&(r=this.getLineLength(n)/l*1e3),r!==this._period||s!==this._loop){n.stopAnimation();var c=u;h\&\&(c=u(i)),n.__t>0\&\&(c=-r*n.__t),n.__t=0;var d=n.animate(\"\",s).when(r,{__t:1}).delay(c).during(function(){o.updateSymbolPosition(n)});s||d.done(function(){o.remove(n)}),d.start()}this._period=r,this._loop=s}},Bk.getLineLength=function(t){return ew(t.__p1,t.__cp1)+ew(t.__cp1,t.__p2)},Bk.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},Bk.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},Bk.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,a=t.position,r=rn,s=sn;a[0]=r(e[0],n[0],i[0],o),a[1]=r(e[1],n[1],i[1],o);var l=s(e[0],n[0],i[0],o),u=s(e[1],n[1],i[1],o);t.rotation=-Math.atan2(u,l)-Math.PI/2,t.ignore=!1},Bk.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel(\"effect\");this._updateEffectAnimation(t,i,e)},u(dg,Zw);var Vk=fg.prototype;Vk._createPolyline=function(t,e,i){var n=t.getItemLayout(e),o=new oM({shape:{points:n}});this.add(o),this._updateCommonStl(t,e,i)},Vk.updateData=function(t,e,i){var n=t.hostModel;bo(this.childAt(0),{shape:{points:t.getItemLayout(e)}},n,e),this._updateCommonStl(t,e,i)},Vk._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),a=t.getItemVisual(e,\"color\"),s=i\&\&i.lineStyle,l=i\&\&i.hoverLineStyle;i\&\&!t.hasItemOption||(s=o.getModel(\"lineStyle\").getLineStyle(),l=o.getModel(\"emphasis.lineStyle\").getLineStyle()),n.useStyle(r({strokeNoScale:!0,fill:\"none\",stroke:a},s)),n.hoverStyle=l,uo(this)},Vk.updateLayout=function(t,e){this.childAt(0).setShape(\"points\",t.getItemLayout(e))},u(fg,Zw);var Gk=pg.prototype;Gk.createLine=function(t,e,i){return new fg(t,e,i)},Gk.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];n+=ew(a,r),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},Gk.getLineLength=function(t){return this._length},Gk.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(a+1,o-1);r>=0\&\&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o\&\&!(n[r]>e);r++);r=Math.min(r-1,o-2)}J(t.position,i[r],i[r+1],(e-n[r])/(n[r+1]-n[r]));var s=i[r+1][0]-i[r][0],l=i[r+1][1]-i[r][1];t.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},u(pg,dg);var Fk=Fn({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(r=0;r<i.length;){var o=i[r++];if(o>0){t.moveTo(i[r++],i[r++]);for(var a=1;a<o;a++)t.lineTo(i[r++],i[r++])}}else for(var r=0;r<i.length;){var s=i[r++],l=i[r++],u=i[r++],h=i[r++];if(t.moveTo(s,l),n>0){var c=(s+u)/2-(l-h)*n,d=(l+h)/2-(u-s)*n;t.quadraticCurveTo(c,d,u,h)}else t.lineTo(u,h)}},findDataIndex:function(t,e){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var a=0,r=0;r<n.length;){var s=n[r++];if(s>0)for(var l=n[r++],u=n[r++],h=1;h<s;h++)if(vn(l,u,c=n[r++],d=n[r++]))return a;a++}else for(var a=0,r=0;r<n.length;){var l=n[r++],u=n[r++],c=n[r++],d=n[r++];if(o>0){if(xn(l,u,(l+c)/2-(u-d)*o,(u+d)/2-(c-l)*o,c,d))return a}else if(vn(l,u,c,d))return a;a++}return-1}}),Wk=gg.prototype;Wk.isPersistent=function(){return!this._incremental},Wk.updateData=function(t){this.group.removeAll();var e=new Fk({rectHover:!0,cursor:\"default\"});e.setShape({segs:t.getLayout(\"linesPoints\")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},Wk.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new Gn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Wk.incrementalUpdate=function(t,e){var i=new Fk;i.setShape({segs:e.getLayout(\"linesPoints\")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor=\"default\",i.__startIndex=t.start,this.group.add(i))},Wk.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Wk._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get(\"polyline\"),curveness:n.get(\"lineStyle.curveness\")}),t.useStyle(n.getModel(\"lineStyle\").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual(\"color\");o\&\&t.setStyle(\"stroke\",o),t.setStyle(\"fill\"),i||(t.seriesIndex=n.seriesIndex,t.on(\"mousemove\",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>0\&\&(t.dataIndex=i+t.__startIndex)}))},Wk._clearIncremental=function(){var t=this._incremental;t\&\&t.clearDisplaybles()};var Hk={seriesType:\"lines\",plan:zI(),reset:function(t){var e=t.coordinateSystem,i=t.get(\"polyline\"),n=t.pipelineContext.large;return{progress:function(o,a){var r=[];if(n){var s,l=o.end-o.start;if(i){for(var u=0,h=o.start;h<o.end;h++)u+=t.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);for(var c=0,d=[],h=o.start;h<o.end;h++){g=t.getLineCoords(h,r),i\&\&(s[c++]=g);for(var f=0;f<g;f++)d=e.dataToPoint(r[f],!1,d),s[c++]=d[0],s[c++]=d[1]}a.setLayout(\"linesPoints\",s)}else for(h=o.start;h<o.end;h++){var p=a.getItemModel(h),g=t.getLineCoords(h,r),m=[];if(i)for(var v=0;v<g;v++)m.push(e.dataToPoint(r[v]));else{m[0]=e.dataToPoint(r[0]),m[1]=e.dataToPoint(r[1]);var y=p.get(\"lineStyle.curveness\");+y\&\&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(h,m)}}}}};Fs({type:\"lines\",init:function(){},render:function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),a=t.get(\"zlevel\"),r=t.get(\"effect.trailLength\"),s=i.getZr(),l=\"svg\"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)\&\&r\&\&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=Hk.reset(t);a.progress\&\&a.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get(\"polyline\"),a=e.pipelineContext.large;return i\&\&n===this._hasEffet\&\&o===this._isPolyline\&\&a===this._isLargeDraw||(i\&\&i.remove(),i=this._lineDraw=a?new gg:new Jd(o?n?pg:fg:n?dg:\$d),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get(\"effect.show\")},_clearLayer:function(t){var e=t.getZr();\"svg\"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw\&\&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var Zk=\"lineStyle.opacity\".split(\".\"),Uk={seriesType:\"lines\",reset:function(t,e,i){var n=mg(t.get(\"symbol\")),o=mg(t.get(\"symbolSize\")),a=t.getData();return a.setVisual(\"fromSymbol\",n\&\&n[0]),a.setVisual(\"toSymbol\",n\&\&n[1]),a.setVisual(\"fromSymbolSize\",o\&\&o[0]),a.setVisual(\"toSymbolSize\",o\&\&o[1]),a.setVisual(\"opacity\",t.get(Zk)),{dataEach:a.hasItemOption?function(t,e){var i=t.getItemModel(e),n=mg(i.getShallow(\"symbol\",!0)),o=mg(i.getShallow(\"symbolSize\",!0)),a=i.get(Zk);n[0]\&\&t.setItemVisual(e,\"fromSymbol\",n[0]),n[1]\&\&t.setItemVisual(e,\"toSymbol\",n[1]),o[0]\&\&t.setItemVisual(e,\"fromSymbolSize\",o[0]),o[1]\&\&t.setItemVisual(e,\"toSymbolSize\",o[1]),t.setItemVisual(e,\"opacity\",a)}:null}}};Os(Hk),Es(Uk),OI.extend({type:\"series.heatmap\",getInitialData:function(t,e){return dl(this.getSource(),this,{generateCoord:\"value\"})},preventIncremental:function(){var t=Ba.get(this.get(\"coordinateSystem\"));if(t\&\&t.dimensions)return\"lng\"===t.dimensions[0]\&\&\"lat\"===t.dimensions[1]},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});vg.prototype={update:function(t,e,i,n,o,a){var r=this._getBrush(),s=this._getGradient(t,o,\"inRange\"),l=this._getGradient(t,o,\"outOfRange\"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext(\"2d\"),d=t.length;h.width=e,h.height=i;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=n(p[2]);c.globalAlpha=v,c.drawImage(r,g-u,m-u)}if(!h.width||!h.height)return h;for(var y=c.getImageData(0,0,h.width,h.height),x=y.data,_=0,w=x.length,b=this.minOpacity,S=this.maxOpacity-b;_<w;){var v=x[_+3]/256,M=4*Math.floor(255*v);if(v>0){var I=a(v)?s:l;v>0\&\&(v=v*S+b),x[_++]=I[M],x[_++]=I[M+1],x[_++]=I[M+2],x[_++]=I[M+3]*v*256}else _+=4}return c.putImageData(y,0,0),h},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=Y_()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext(\"2d\");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor=\"#000\",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++)e[i](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o}},Fs({type:\"heatmap\",render:function(t,e,i){var n;e.eachComponent(\"visualMap\",function(e){e.eachTargetSeries(function(i){i===t\&\&(n=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=t.coordinateSystem;\"cartesian2d\"===o.type||\"calendar\"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):_g(o)\&\&this._renderOnGeo(o,t,n,i)},incrementalPrepareRender:function(t,e,i){this.group.removeAll()},incrementalRender:function(t,e,i,n){e.coordinateSystem\&\&this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,n,o){var r,s,l=t.coordinateSystem;if(\"cartesian2d\"===l.type){var u=l.getAxis(\"x\"),h=l.getAxis(\"y\");r=u.getBandWidth(),s=h.getBandWidth()}for(var c=this.group,d=t.getData(),f=t.getModel(\"itemStyle\").getItemStyle([\"color\"]),p=t.getModel(\"emphasis.itemStyle\").getItemStyle(),g=t.getModel(\"label\"),m=t.getModel(\"emphasis.label\"),v=l.type,y=\"cartesian2d\"===v?[d.mapDimension(\"x\"),d.mapDimension(\"y\"),d.mapDimension(\"value\")]:[d.mapDimension(\"time\"),d.mapDimension(\"value\")],x=i;x<n;x++){var _;if(\"cartesian2d\"===v){if(isNaN(d.get(y[2],x)))continue;var w=l.dataToPoint([d.get(y[0],x),d.get(y[1],x)]);_=new aM({shape:{x:w[0]-r/2,y:w[1]-s/2,width:r,height:s},style:{fill:d.getItemVisual(x,\"color\"),opacity:d.getItemVisual(x,\"opacity\")}})}else{if(isNaN(d.get(y[1],x)))continue;_=new aM({z2:1,shape:l.dataToRect([d.get(y[0],x)]).contentShape,style:{fill:d.getItemVisual(x,\"color\"),opacity:d.getItemVisual(x,\"opacity\")}})}var b=d.getItemModel(x);d.hasItemOption\&\&(f=b.getModel(\"itemStyle\").getItemStyle([\"color\"]),p=b.getModel(\"emphasis.itemStyle\").getItemStyle(),g=b.getModel(\"label\"),m=b.getModel(\"emphasis.label\"));var S=t.getRawValue(x),M=\"-\";S\&\&null!=S[2]\&\&(M=S[2]),co(f,p,g,m,{labelFetcher:t,labelDataIndex:x,defaultText:M,isRectText:!0}),_.setStyle(f),uo(_,d.hasItemOption?p:a({},p)),_.incremental=o,o\&\&(_.useHoverLayer=!0),c.add(_),d.setItemGraphicEl(x,_)}},_renderOnGeo:function(t,e,i,n){var o=i.targetVisuals.inRange,a=i.targetVisuals.outOfRange,r=e.getData(),s=this._hmLayer||this._hmLayer||new vg;s.blurSize=e.get(\"blurSize\"),s.pointSize=e.get(\"pointSize\"),s.minOpacity=e.get(\"minOpacity\"),s.maxOpacity=e.get(\"maxOpacity\");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,n.getWidth()),f=Math.min(l.height+l.y,n.getHeight()),p=d-h,g=f-c,m=[r.mapDimension(\"lng\"),r.mapDimension(\"lat\"),r.mapDimension(\"value\")],v=r.mapArray(m,function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=h,o[1]-=c,o.push(n),o}),y=i.getExtent(),x=\"visualMap.continuous\"===i.type?xg(y,i.option.range):yg(y,i.getPieceList(),i.option.selected);s.update(v,p,g,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},x);var _=new hi({style:{width:p,height:g,x:h,y:c,image:s.canvas},silent:!0});this.group.add(_)},dispose:function(){}});var Xk=ED.extend({type:\"series.pictorialBar\",dependencies:[\"grid\"],defaultOption:{symbol:\"circle\",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:\"end\",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:\"-100%\",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,Xk.superApply(this,\"getInitialData\",arguments)}}),jk=[\"itemStyle\",\"borderWidth\"],Yk=[{xy:\"x\",wh:\"width\",index:0,posDesc:[\"left\",\"right\"]},{xy:\"y\",wh:\"height\",index:1,posDesc:[\"top\",\"bottom\"]}],qk=new KS;Fs({type:\"pictorialBar\",render:function(t,e,i){var n=this.group,o=t.getData(),a=this._data,r=t.coordinateSystem,s=!!r.getBaseAxis().isHorizontal(),l=r.grid.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:Yk[+s],categoryDim:Yk[1-s]};return o.diff(a).add(function(t){if(o.hasValue(t)){var e=Pg(o,t),i=wg(o,t,e,u),a=Rg(o,u,i);o.setItemGraphicEl(t,a),n.add(a),Wg(a,u,i)}}).update(function(t,e){var i=a.getItemGraphicEl(e);if(o.hasValue(t)){var r=Pg(o,t),s=wg(o,t,r,u),l=Vg(o,s);i\&\&l!==i.__pictorialShapeStr\&\&(n.remove(i),o.setItemGraphicEl(t,null),i=null),i?zg(i,u,s):i=Rg(o,u,s,!0),o.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=s,n.add(i),Wg(i,u,s)}else n.remove(i)}).remove(function(t){var e=a.getItemGraphicEl(t);e\&\&Bg(a,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=o,this.group},dispose:B,remove:function(t,e){var i=this.group,n=this._data;t.get(\"animation\")?n\&\&n.eachItemGraphicEl(function(e){Bg(n,e.dataIndex,t,e)}):i.removeAll()}});Os(v(kl,\"pictorialBar\")),Es(hD(\"pictorialBar\",\"roundRect\"));var Kk=function(t,e,i,n,o){HA.call(this,t,e,i),this.type=n||\"value\",this.position=o||\"bottom\",this.orient=null};Kk.prototype={constructor:Kk,model:null,isHorizontal:function(){var t=this.position;return\"top\"===t||\"bottom\"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},u(Kk,HA),Zg.prototype={type:\"singleAxis\",axisPointerEnabled:!0,constructor:Zg,_init:function(t,e,i){var n=this.dimension,o=new Kk(n,Vl(t),[0,0],t.get(\"type\"),t.get(\"position\")),a=\"category\"===o.type;o.onBand=a\&\&t.get(\"boundaryGap\"),o.inverse=t.get(\"inverse\"),o.orient=t.get(\"orient\"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();d(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),Bl(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=la({left:t.get(\"left\"),top:t.get(\"top\"),right:t.get(\"right\"),bottom:t.get(\"bottom\"),width:t.get(\"width\"),height:t.get(\"height\")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return n-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return\"horizontal\"===i.orient?i.contain(i.toLocalCoord(t[0]))\&\&t[1]>=e.y\&\&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))\&\&t[0]>=e.y\&\&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[\"horizontal\"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),n=[],o=\"horizontal\"===e.orient?0:1;return t instanceof Array\&\&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n}},Ba.register(\"single\",{create:function(t,e){var i=[];return t.eachComponent(\"singleAxis\",function(n,o){var a=new Zg(n,t,e);a.name=\"single_\"+o,a.resize(n,e),n.coordinateSystem=a,i.push(a)}),t.eachSeries(function(e){if(\"singleAxis\"===e.get(\"coordinateSystem\")){var i=t.queryComponents({mainType:\"singleAxis\",index:e.get(\"singleAxisIndex\"),id:e.get(\"singleAxisId\")})[0];e.coordinateSystem=i\&\&i.coordinateSystem}}),i},dimensions:Zg.prototype.dimensions});var \$k=[\"axisLine\",\"axisTickLabel\",\"axisName\"],Jk=LD.extend({type:\"singleAxis\",axisPointerClass:\"SingleAxisPointer\",render:function(t,e,i,n){var o=this.group;o.removeAll();var a=Ug(t),r=new ID(t,a);d(\$k,r.add,r),o.add(r.getGroup()),t.get(\"splitLine.show\")\&\&this._splitLine(t),Jk.superCall(this,\"render\",t,e,i,n)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var i=t.getModel(\"splitLine\"),n=i.getModel(\"lineStyle\"),o=n.get(\"width\"),a=n.get(\"color\");a=a instanceof Array?a:[a];for(var r=t.coordinateSystem.getRect(),s=e.isHorizontal(),l=[],u=0,h=e.getTicksCoords({tickModel:i}),c=[],d=[],f=0;f<h.length;++f){var p=e.toGlobalCoord(h[f].coord);s?(c[0]=p,c[1]=r.y,d[0]=p,d[1]=r.y+r.height):(c[0]=r.x,c[1]=p,d[0]=r.x+r.width,d[1]=p);var g=u++%a.length;l[g]=l[g]||[],l[g].push(new rM(Xn({shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:{lineWidth:o},silent:!0})))}for(f=0;f<l.length;++f)this.group.add(xM(l[f],{style:{stroke:a[f%a.length],lineDash:n.getLineDash(o),lineWidth:o},silent:!0}))}}}),Qk=YM.extend({type:\"singleAxis\",layoutMode:\"box\",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),tP={left:\"5%\",top:\"5%\",right:\"5%\",bottom:\"5%\",type:\"value\",position:\"bottom\",orient:\"horizontal\",axisLine:{show:!0,lineStyle:{width:2,type:\"solid\"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:\"auto\"},splitLine:{show:!0,lineStyle:{type:\"dashed\",opacity:.2}}};n(Qk.prototype,CA),xD(\"single\",Qk,function(t,e){return e.type||(e.data?\"category\":\"value\")},tP);var eP=function(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var a=i.getData(),r=zi(a,t);if(null==r||r<0||y(r))return{point:[]};var s=a.getItemGraphicEl(r),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(r)||[];else if(l\&\&l.dataToPoint)n=l.dataToPoint(a.getValues(f(l.dimensions,function(t){return a.mapDimension(t)}),r,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),n=[u.x+u.width/2,u.y+u.height/2]}return{point:n,el:s}},iP=d,nP=v,oP=Bi(),aP=(Bs({type:\"axisPointer\",coordSysAxesInfo:null,defaultOption:{show:\"auto\",triggerOn:null,zlevel:0,z:50,type:\"line\",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:\"#aaa\",width:1,type:\"solid\"},shadowStyle:{color:\"rgba(150,150,150,0.3)\"},label:{show:!0,formatter:null,precision:\"auto\",margin:3,color:\"#fff\",padding:[5,7,5,7],backgroundColor:\"auto\",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:\"#aaa\"},handle:{show:!1,icon:\"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z\",size:45,margin:50,color:\"#333\",shadowBlur:3,shadowColor:\"#aaa\",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Bi()),rP=d,sP=Vs({type:\"axisPointer\",render:function(t,e,i){var n=e.getComponent(\"tooltip\"),o=t.get(\"triggerOn\")||n\&\&n.get(\"triggerOn\")||\"mousemove|click\";im(\"axisPointer\",i,function(t,e,i){\"none\"!==o\&\&(\"leave\"===t||o.indexOf(t)>=0)\&\&i({type:\"updateAxisPointer\",currTrigger:t,x:e\&\&e.offsetX,y:e\&\&e.offsetY})})},remove:function(t,e){lm(e.getZr(),\"axisPointer\"),sP.superApply(this._model,\"remove\",arguments)},dispose:function(t,e){lm(\"axisPointer\",e),sP.superApply(this._model,\"dispose\",arguments)}}),lP=Bi(),uP=i,hP=m;(um.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var o=e.get(\"value\"),a=e.get(\"status\");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||\"hide\"===a)return r\&\&r.hide(),void(s\&\&s.hide());r\&\&r.show(),s\&\&s.show();var l={};this.makeElOption(l,o,t,e,i);var u=l.graphicKey;u!==this._lastGraphicKey\&\&this.clear(i),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(r){var c=v(hm,e,h);this.updatePointerEl(r,l,c,e),this.updateLabelEl(r,l,c,e)}else r=this._group=new Zw,this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),i.getZr().add(r);pm(r,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get(\"animation\"),n=t.axis,o=\"category\"===n.type,a=e.get(\"snap\");if(!a\&\&!o)return!1;if(\"auto\"===i||null==i){var r=this.animationThreshold;if(o\&\&n.getBandWidth()>r)return!0;if(a){var s=xh(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===i},makeElOption:function(t,e,i,n,o){},createPointerEl:function(t,e,i,n){var o=e.pointer;if(o){var a=lP(t).pointerEl=new bM[o.type](uP(e.pointer));t.add(a)}},createLabelEl:function(t,e,i,n){if(e.label){var o=lP(t).labelEl=new aM(uP(e.label));t.add(o),dm(o,n)}},updatePointerEl:function(t,e,i){var n=lP(t).pointerEl;n\&\&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var o=lP(t).labelEl;o\&\&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),dm(o,n))},_renderHandle:function(t){if(!this._dragging\&\&this.updateHandleTransform){var e=this._axisPointerModel,i=this._api.getZr(),n=this._handle,o=e.getModel(\"handle\"),a=e.get(\"status\");if(!o.get(\"show\")||!a||\"hide\"===a)return n\&\&i.remove(n),void(this._handle=null);var r;this._handle||(r=!0,n=this._handle=Co(o.get(\"icon\"),{cursor:\"move\",draggable:!0,onmousemove:function(t){lw(t.event)},onmousedown:hP(this._onHandleDragMove,this,0,0),drift:hP(this._onHandleDragMove,this),ondragend:hP(this._onHandleDragEnd,this)}),i.add(n)),pm(n,e,!1);var s=[\"color\",\"borderColor\",\"borderWidth\",\"opacity\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"];n.setStyle(o.getItemStyle(null,s));var l=o.get(\"size\");y(l)||(l=[l,l]),n.attr(\"scale\",[l[0]/2,l[1]/2]),Lr(this,\"_doDispatchAxisPointer\",o.get(\"throttle\")||0,\"fixRate\"),this._moveHandleToValue(t,r)}},_moveHandleToValue:function(t,e){hm(this._axisPointerModel,!e\&\&this._moveAnimation,this._handle,fm(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(fm(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(fm(n)),lP(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:\"updateAxisPointer\",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get(\"value\");this._moveHandleToValue(e),this._api.dispatchAction({type:\"hideTip\"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e\&\&i\&\&(this._lastGraphicKey=null,i\&\&e.remove(i),n\&\&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=um,Xi(um);var cP=um.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,r=a.grid,s=n.get(\"type\"),l=Mm(r,a).getOtherAxis(a).getGlobalExtent(),u=a.toGlobalCoord(a.dataToCoord(e,!0));if(s\&\&\"none\"!==s){var h=gm(n),c=dP[s](a,u,l,h);c.style=h,t.graphicKey=c.type,t.pointer=c}_m(e,t,Ih(r.model,i),i,n,o)},getHandleTransform:function(t,e,i){var n=Ih(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get(\"handle.margin\"),{position:xm(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=Mm(a,o).getOtherAxis(o).getGlobalExtent(),l=\"x\"===o.dim?0:1,u=t.position;u[l]+=e[l],u[l]=Math.min(r[1],u[l]),u[l]=Math.max(r[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];var d=[{verticalAlign:\"middle\"},{align:\"center\"}];return{position:u,rotation:t.rotation,cursorPoint:c,tooltipOption:d[l]}}}),dP={line:function(t,e,i,n){var o=wm([e,i[0]],[e,i[1]],Im(t));return Xn({shape:o,style:n}),{type:\"Line\",shape:o}},shadow:function(t,e,i,n){var o=Math.max(1,t.getBandWidth()),a=i[1]-i[0];return{type:\"Rect\",shape:bm([e-o/2,i[0]],[o,a],Im(t))}}};LD.registerAxisPointerClass(\"CartesianAxisPointer\",cP),Ls(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)\&\&(t.axisPointer={});var e=t.axisPointer.link;e\&\&!y(e)\&\&(t.axisPointer.link=[e])}}),ks(IT.PROCESSOR.STATISTIC,function(t,e){t.getComponent(\"axisPointer\").coordSysAxesInfo=dh(t,e)}),Ps({type:\"updateAxisPointer\",event:\"updateAxisPointer\",update:\":updateAxisPointer\"},function(t,e,i){var n=t.currTrigger,o=[t.x,t.y],a=t,r=t.dispatchAction||m(i.dispatchAction,i),s=e.getComponent(\"axisPointer\").coordSysAxesInfo;if(s){em(o)\&\&(o=eP({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=em(o),u=a.axesInfo,h=s.axesInfo,c=\"leave\"===n||em(o),d={},f={},p={list:[],map:{}},g={showPointer:nP(Yg,f),showTooltip:nP(qg,p)};iP(s.coordSysMap,function(t,e){var i=l||t.containPoint(o);iP(s.coordSysAxesInfo[e],function(t,e){var n=t.axis,a=Qg(u,t);if(!c\&\&i\&\&(!u||a)){var r=a\&\&a.value;null!=r||l||(r=n.pointToData(o)),null!=r\&\&Xg(t,r,g,!1,d)}})});var v={};return iP(h,function(t,e){var i=t.linkGroup;i\&\&!f[e]\&\&iP(i.axesInfo,function(e,n){var o=f[n];if(e!==t\&\&o){var a=o.value;i.mapper\&\&(a=t.axis.scale.parse(i.mapper(a,tm(e),tm(t)))),v[t.key]=a}})}),iP(v,function(t,e){Xg(h[e],t,g,!0,d)}),Kg(f,h,d),\$g(p,o,t,r),Jg(h,0,i),d}});var fP=[\"x\",\"y\"],pP=[\"width\",\"height\"],gP=um.extend({makeElOption:function(t,e,i,n,o){var a=i.axis,r=a.coordinateSystem,s=Am(r,1-Tm(a)),l=r.dataToPoint(e)[0],u=n.get(\"type\");if(u\&\&\"none\"!==u){var h=gm(n),c=mP[u](a,l,s,h);c.style=h,t.graphicKey=c.type,t.pointer=c}_m(e,t,Ug(i),i,n,o)},getHandleTransform:function(t,e,i){var n=Ug(e,{labelInside:!1});return n.labelMargin=i.get(\"handle.margin\"),{position:xm(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.coordinateSystem,r=Tm(o),s=Am(a,r),l=t.position;l[r]+=e[r],l[r]=Math.min(s[1],l[r]),l[r]=Math.max(s[0],l[r]);var u=Am(a,1-r),h=(u[1]+u[0])/2,c=[h,h];return c[r]=l[r],{position:l,rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:\"middle\"}}}}),mP={line:function(t,e,i,n){var o=wm([e,i[0]],[e,i[1]],Tm(t));return Xn({shape:o,style:n}),{type:\"Line\",shape:o}},shadow:function(t,e,i,n){var o=t.getBandWidth(),a=i[1]-i[0];return{type:\"Rect\",shape:bm([e-o/2,i[0]],[o,a],Tm(t))}}};LD.registerAxisPointerClass(\"SingleAxisPointer\",gP),Vs({type:\"single\"});var vP=OI.extend({type:\"series.themeRiver\",dependencies:[\"singleAxis\"],nameMap:null,init:function(t){vP.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,i=f(Lp().key(function(t){return t[2]}).entries(t),function(t){return{name:t.key,dataList:t.values}}),n=i.length,o=-1,a=-1,r=0;r<n;++r){var s=i[r].dataList.length;s>o\&\&(o=s,a=r)}for(var l=0;l<n;++l)if(l!==a)for(var u=i[l].name,h=0;h<o;++h){for(var c=i[a].dataList[h][0],d=i[l].dataList.length,p=-1,g=0;g<d;++g)if(i[l].dataList[g][0]===c){p=g;break}-1===p\&\&(t[e]=[],t[e][0]=c,t[e][1]=0,t[e][2]=u,e++)}return t},getInitialData:function(t,e){for(var i=e.queryComponents({mainType:\"singleAxis\",index:this.get(\"singleAxisIndex\"),id:this.get(\"singleAxisId\")})[0].get(\"type\"),n=g(t.data,function(t){return void 0!==t[2]}),o=this.fixData(n||[]),a=[],r=this.nameMap=R(),s=0,l=0;l<o.length;++l)a.push(o[l][2]),r.get(o[l][2])||(r.set(o[l][2],s),s++);var u=oA(o,{coordDimensions:[\"single\"],dimensionsDefine:[{name:\"time\",type:Xs(i)},{name:\"value\",type:\"float\"},{name:\"name\",type:\"ordinal\"}],encodeDefine:{single:0,value:1,itemName:2}}),h=new eA(u,this);return h.initData(o),h},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),i=[],n=0;n<e;++n)i[n]=n;for(var o=f(Lp().key(function(e){return t.get(\"name\",e)}).entries(i),function(t){return{name:t.key,indices:t.values}}),a=t.mapDimension(\"single\"),r=0;r<o.length;++r)o[r].indices.sort(function(e,i){return t.get(a,e)-t.get(a,i)});return o},getAxisTooltipData:function(t,e,i){y(t)||(t=t?[t]:[]);for(var n,o=this.getData(),a=this.getLayerSeries(),r=[],s=a.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=a[l].indices.length,d=0;d<c;++d){var f=o.get(t[0],a[l].indices[d]),p=Math.abs(f-e);p<=u\&\&(n=f,u=p,h=a[l].indices[d])}r.push(h)}return{dataIndices:r,nestestValue:n}},formatTooltip:function(t){var e=this.getData(),i=e.getName(t),n=e.get(e.mapDimension(\"value\"),t);return(isNaN(n)||null==n)\&\&(n=\"-\"),Qo(i+\" : \"+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"singleAxis\",boundaryGap:[\"10%\",\"10%\"],singleAxisIndex:0,animationEasing:\"linear\",label:{margin:4,show:!0,position:\"left\",color:\"#000\",fontSize:11},emphasis:{label:{show:!0}}}});Fs({type:\"themeRiver\",init:function(){this._layers=[]},render:function(t,e,i){function n(t){return t.name}function o(e,i,n){var o=this._layers;if(\"remove\"!==e){for(var u,h=[],c=[],f=l[i].indices,p=0;p<f.length;p++){var g=r.getItemLayout(f[p]),m=g.x,v=g.y0,y=g.y;h.push([m,v]),c.push([m,v+y]),u=r.getItemVisual(f[p],\"color\")}var x,_,w=r.getItemLayout(f[0]),b=r.getItemModel(f[p-1]),S=b.getModel(\"label\"),M=S.get(\"margin\");if(\"add\"===e){I=d[i]=new Zw;x=new uD({shape:{points:h,stackedOnPoints:c,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),_=new qS({style:{x:w.x-M,y:w.y0+w.y/2}}),I.add(x),I.add(_),s.add(I),x.setClipPath(Dm(x.getBoundingRect(),t,function(){x.removeClipPath()}))}else{var I=o[n];x=I.childAt(0),_=I.childAt(1),s.add(I),d[i]=I,bo(x,{shape:{points:h,stackedOnPoints:c}},t),bo(_,{style:{x:w.x-M,y:w.y0+w.y/2}},t)}var T=b.getModel(\"emphasis.itemStyle\"),A=b.getModel(\"itemStyle\");fo(_.style,S,{text:S.get(\"show\")?t.getFormattedLabel(f[p-1],\"normal\")||r.getName(f[p-1]):null,textVerticalAlign:\"middle\"}),x.setStyle(a({fill:u},A.getItemStyle([\"color\"]))),uo(x,T.getItemStyle())}else s.remove(o[i])}var r=t.getData(),s=this.group,l=t.getLayerSeries(),u=r.getLayout(\"layoutInfo\"),h=u.rect,c=u.boundaryGap;s.attr(\"position\",[0,h.y+c[0]]);var d={};new Hs(this._layersSeries||[],l,n,n).add(m(o,this,\"add\")).update(m(o,this,\"update\")).remove(m(o,this,\"remove\")).execute(),this._layersSeries=l,this._layers=d},dispose:function(){}});Os(function(t,e){t.eachSeriesByType(\"themeRiver\",function(t){var e=t.getData(),i=t.coordinateSystem,n={},o=i.getRect();n.rect=o;var a=t.get(\"boundaryGap\"),r=i.getAxis();n.boundaryGap=a,\"horizontal\"===r.orient?(a[0]=Ro(a[0],o.height),a[1]=Ro(a[1],o.height),Cm(e,t,o.height-a[0]-a[1])):(a[0]=Ro(a[0],o.width),a[1]=Ro(a[1],o.width),Cm(e,t,o.width-a[0]-a[1])),e.setLayout(\"layoutInfo\",n)})}),Es(function(t){t.eachSeriesByType(\"themeRiver\",function(t){var e=t.getData(),i=t.getRawData(),n=t.get(\"color\"),o=R();e.each(function(t){o.set(e.getRawIndex(t),t)}),i.each(function(a){var r=i.getName(a),s=n[(t.nameMap.get(r)-1)%n.length];i.setItemVisual(a,\"color\",s);var l=o.get(a);null!=l\&\&e.setItemVisual(l,\"color\",s)})})}),ks(\$D(\"themeRiver\")),OI.extend({type:\"series.sunburst\",_viewRoot:null,getInitialData:function(t,e){var i={name:t.name,children:t.data};km(i);var n=t.levels||[],o={};return o.levels=n,kc.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=OI.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=nd(i,this),e},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:\"descendant\",nodeClick:\"rootToNode\",renderLabelForZeroData:!1,label:{rotate:\"radial\",show:!0,opacity:1,align:\"center\",position:\"inside\",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:\"white\",borderType:\"solid\",shadowBlur:0,shadowColor:\"rgba(0, 0, 0, 0.2)\",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:\"expansion\",animationDuration:1e3,animationDurationUpdate:500,animationEasing:\"cubicOut\",data:[],levels:[],sort:\"desc\"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t\&\&(t===e||e.contains(t))||(this._viewRoot=e)}});var yP={NONE:\"none\",DESCENDANT:\"descendant\",ANCESTOR:\"ancestor\",SELF:\"self\"},xP=2,_P=4,wP=Pm.prototype;wP.updateData=function(t,e,i,o,s){this.node=e,e.piece=this,o=o||this._seriesModel,s=s||this._ecModel;var l=this.childAt(0);l.dataIndex=e.dataIndex;var u=e.getModel(),h=e.getLayout();h||console.log(e.getLayout());var c=a({},h);c.label=null;var d,f=Nm(e,0,s),p=u.getModel(\"itemStyle\").getItemStyle();d=r({lineJoin:\"bevel\",fill:(d=\"normal\"===i?p:n(u.getModel(i+\".itemStyle\").getItemStyle(),p)).fill||f},d),t?(l.setShape(c),l.shape.r=h.r0,bo(l,{shape:{r:h.r}},o,e.dataIndex),l.useStyle(d)):\"object\"==typeof d.fill\&\&d.fill.type||\"object\"==typeof l.style.fill\&\&l.style.fill.type?(bo(l,{shape:c},o),l.useStyle(d)):bo(l,{shape:c,style:d},o),this._updateLabel(o,f,i);var g=u.getShallow(\"cursor\");if(g\&\&l.attr(\"cursor\",g),t){var m=o.getShallow(\"highlightPolicy\");this._initEvents(l,e,o,m)}this._seriesModel=o||this._seriesModel,this._ecModel=s||this._ecModel},wP.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(i){i.piece\&\&(e.node===i?i.piece.updateData(!1,i,\"emphasis\"):Em(i,e.node,t)?i.piece.childAt(0).trigger(\"highlight\"):t!==yP.NONE\&\&i.piece.childAt(0).trigger(\"downplay\"))})},wP.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece\&\&t.piece.updateData(!1,t,\"normal\")})},wP.onHighlight=function(){this.updateData(!1,this.node,\"highlight\")},wP.onDownplay=function(){this.updateData(!1,this.node,\"downplay\")},wP._updateLabel=function(t,e,i){function n(t){var e=r.get(t);return null==e?a.get(t):e}var o=this.node.getModel(),a=o.getModel(\"label\"),r=\"normal\"===i||\"emphasis\"===i?a:o.getModel(i+\".label\"),s=o.getModel(\"emphasis.label\"),l=T(t.getFormattedLabel(this.node.dataIndex,\"normal\",null,null,\"label\"),this.node.name);!1===n(\"show\")\&\&(l=\"\");var u=this.node.getLayout(),h=r.get(\"minAngle\");null==h\&\&(h=a.get(\"minAngle\")),h=h/180*Math.PI;var c=u.endAngle-u.startAngle;null!=h\&\&Math.abs(c)<h\&\&(l=\"\");var d=this.childAt(1);co(d.style,d.hoverStyle||{},a,s,{defaultText:r.getShallow(\"show\")?l:null,autoColor:e,useInsideStyle:!0});var f,p=(u.startAngle+u.endAngle)/2,g=Math.cos(p),m=Math.sin(p),v=n(\"position\"),y=n(\"distance\")||0,x=n(\"align\");\"outside\"===v?(f=u.r+y,x=p>Math.PI/2?\"right\":\"left\"):x\&\&\"center\"!==x?\"left\"===x?(f=u.r0+y,p>Math.PI/2\&\&(x=\"right\")):\"right\"===x\&\&(f=u.r-y,p>Math.PI/2\&\&(x=\"left\")):(f=(u.r+u.r0)/2,x=\"center\"),d.attr(\"style\",{text:l,textAlign:x,textVerticalAlign:n(\"verticalAlign\")||\"middle\",opacity:n(\"opacity\")});var _=f*g+u.cx,w=f*m+u.cy;d.attr(\"position\",[_,w]);var b=n(\"rotate\"),S=0;\"radial\"===b?(S=-p)<-Math.PI/2\&\&(S+=Math.PI):\"tangential\"===b?(S=Math.PI/2-p)>Math.PI/2?S-=Math.PI:S<-Math.PI/2\&\&(S+=Math.PI):\"number\"==typeof b\&\&(S=b*Math.PI/180),d.attr(\"rotation\",S)},wP._initEvents=function(t,e,i,n){t.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\");var o=this,a=function(){o.onEmphasis(n)},r=function(){o.onNormal()};i.isAnimationEnabled()\&\&t.on(\"mouseover\",a).on(\"mouseout\",r).on(\"emphasis\",a).on(\"normal\",r).on(\"downplay\",function(){o.onDownplay()}).on(\"highlight\",function(){o.onHighlight()})},u(Pm,Zw);Mr.extend({type:\"sunburst\",init:function(){},render:function(t,e,i,n){function o(i,n){if(c||!i||i.getValue()||(i=null),i!==l\&\&n!==l)if(n\&\&n.piece)i?(n.piece.updateData(!1,i,\"normal\",t,e),s.setItemGraphicEl(i.dataIndex,n.piece)):a(n);else if(i){var o=new Pm(i,t,e);h.add(o),s.setItemGraphicEl(i.dataIndex,o)}}function a(t){t\&\&t.piece\&\&(h.remove(t.piece),t.piece=null)}var r=this;this.seriesModel=t,this.api=i,this.ecModel=e;var s=t.getData(),l=s.tree.root,u=t.getViewRoot(),h=this.group,c=t.get(\"renderLabelForZeroData\"),d=[];u.eachNode(function(t){d.push(t)});var f=this._oldChildren||[];if(function(t,e){function i(t){return t.getId()}function n(i,n){o(null==i?null:t[i],null==n?null:e[n])}0===t.length\&\&0===e.length||new Hs(e,t,i,i).add(n).update(n).remove(v(n,null)).execute()}(d,f),function(i,n){if(n.depth>0){r.virtualPiece?r.virtualPiece.updateData(!1,i,\"normal\",t,e):(r.virtualPiece=new Pm(i,t,e),h.add(r.virtualPiece)),n.piece._onclickEvent\&\&n.piece.off(\"click\",n.piece._onclickEvent);var o=function(t){r._rootToNode(n.parentNode)};n.piece._onclickEvent=o,r.virtualPiece.on(\"click\",o)}else r.virtualPiece\&\&(h.remove(r.virtualPiece),r.virtualPiece=null)}(l,u),n\&\&n.highlight\&\&n.highlight.piece){var p=t.getShallow(\"highlightPolicy\");n.highlight.piece.onEmphasis(p)}else if(n\&\&n.unhighlight){var g=this.virtualPiece;!g\&\&l.children.length\&\&(g=l.children[0].piece),g\&\&g.onNormal()}this._initEvents(),this._oldChildren=d},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var i=!1;t.seriesModel.getViewRoot().eachNode(function(n){if(!i\&\&n.piece\&\&n.piece.childAt(0)===e.target){var o=n.getModel().get(\"nodeClick\");if(\"rootToNode\"===o)t._rootToNode(n);else if(\"link\"===o){var a=n.getModel(),r=a.get(\"link\");if(r){var s=a.get(\"target\",!0)||\"_blank\";window.open(r,s)}}i=!0}})};this.group._onclickEvent\&\&this.group.off(\"click\",this.group._onclickEvent),this.group.on(\"click\",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()\&\&this.api.dispatchAction({type:\"sunburstRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r\&\&a>=i.r0}}});var bP=\"sunburstRootToNode\";Ps({type:bP,update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sunburst\",query:t},function(e,i){var n=td(t,[bP],e);if(n){var o=e.getViewRoot();o\&\&(t.direction=id(o,n.node)?\"rollUp\":\"drillDown\"),e.resetViewRoot(n.node)}})});var SP=\"sunburstHighlight\";Ps({type:SP,update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sunburst\",query:t},function(e,i){var n=td(t,[SP],e);n\&\&(t.highlight=n.node)})});Ps({type:\"sunburstUnhighlight\",update:\"updateView\"},function(t,e){e.eachComponent({mainType:\"series\",subType:\"sunburst\",query:t},function(e,i){t.unhighlight=!0})});var MP=Math.PI/180;Es(v(jD,\"sunburst\")),Os(v(function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.get(\"center\"),n=t.get(\"radius\");y(n)||(n=[0,n]),y(e)||(e=[e,e]);var o=i.getWidth(),a=i.getHeight(),r=Math.min(o,a),s=Ro(e[0],o),l=Ro(e[1],a),u=Ro(n[0],r/2),h=Ro(n[1],r/2),c=-t.get(\"startAngle\")*MP,f=t.get(\"minAngle\")*MP,p=t.getData().tree.root,g=t.getViewRoot(),m=g.depth,v=t.get(\"sort\");null!=v\&\&Rm(g,v);var x=0;d(g.children,function(t){!isNaN(t.getValue())\&\&x++});var _=g.getValue(),w=Math.PI/(_||x)*2,b=g.depth>0,S=g.height-(b?-1:1),M=(h-u)/(S||1),I=t.get(\"clockwise\"),T=t.get(\"stillShowZeroSum\"),A=I?1:-1,D=function(t,e){if(t){var i=e;if(t!==p){var n=t.getValue(),o=0===_\&\&T?w:n*w;o<f\&\&(o=f),i=e+A*o;var a=t.depth-m-(b?-1:1),h=u+M*a,c=u+M*(a+1),g=t.getModel();null!=g.get(\"r0\")\&\&(h=Ro(g.get(\"r0\"),r/2)),null!=g.get(\"r\")\&\&(c=Ro(g.get(\"r\"),r/2)),t.setLayout({angle:o,startAngle:e,endAngle:i,clockwise:I,cx:s,cy:l,r0:h,r:c})}if(t.children\&\&t.children.length){var v=0;d(t.children,function(t){v+=D(t,e+v)})}return i-e}};if(b){var C=u,L=u+M,k=2*Math.PI;p.setLayout({angle:k,startAngle:c,endAngle:c+k,clockwise:I,cx:s,cy:l,r0:C,r:L})}D(g,c)})},\"sunburst\")),ks(v(\$D,\"sunburst\"));var IP=[\"itemStyle\"],TP=[\"emphasis\",\"itemStyle\"],AP=[\"label\"],DP=[\"emphasis\",\"label\"],CP=\"e\\0\\0\",LP={cartesian2d:function(t){var e=t.grid.getRect();return{coordSys:{type:\"cartesian2d\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:m(Bm,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:\"geo\",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:m(Vm,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:\"singleAxis\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:m(Gm,t)}}},polar:function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),n=e.getExtent();return n[0]>n[1]\&\&n.reverse(),{coordSys:{type:\"polar\",cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:m(function(n){var o=e.dataToRadius(n[0]),a=i.dataToAngle(n[1]),r=t.coordToPoint([o,a]);return r.push(o,a*Math.PI/180),r}),size:m(Fm,t)}}},calendar:function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:\"calendar\",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}}};OI.extend({type:\"series.custom\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(t,e){return dl(this.getSource(),this)},getDataParams:function(t,e,i){var n=OI.prototype.getDataParams.apply(this,arguments);return i\&\&(n.info=i.info),n}}),Mr.extend({type:\"custom\",_data:null,render:function(t,e,i,n){var o=this._data,a=t.getData(),r=this.group,s=Um(t,a,e,i);a.diff(o).add(function(e){jm(null,e,s(e,n),t,r,a)}).update(function(e,i){jm(o.getItemGraphicEl(i),e,s(e,n),t,r,a)}).remove(function(t){var e=o.getItemGraphicEl(t);e\&\&r.remove(e)}).execute(),this._data=a},incrementalPrepareRender:function(t,e,i){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,i,n,o){for(var a=e.getData(),r=Um(e,a,i,n),s=t.start;s<t.end;s++)jm(null,s,r(s,o),e,this.group,a).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},dispose:B,filterForExposedEvent:function(t,e,i,n){var o=e.element;if(null==o||i.name===o)return!0;for(;(i=i.parent)\&\&i!==this.group;)if(i.name===o)return!0;return!1}}),Ls(function(t){var e=t.graphic;y(e)?e[0]\&\&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e\&\&!e.elements\&\&(t.graphic=[{elements:[e]}])});var kP=Bs({type:\"graphic\",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,kP.superApply(this,\"mergeOption\",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,a=[];this._flatten(n,a);var r=Pi(o,a);Ni(r);var s=this._elOptionsToUpdate=[];d(r,function(t,e){var i=t.option;i\&\&(s.push(i),sv(t,i),lv(o,e,i),uv(o[e],i))},this);for(var l=o.length-1;l>=0;l--)null==o[l]?o.splice(l,1):delete o[l].\$action},_flatten:function(t,e,i){d(t,function(t){if(t){i\&\&(t.parentOption=i),e.push(t);var n=t.children;\"group\"===t.type\&\&n\&\&this._flatten(n,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});Vs({type:\"graphic\",init:function(t,e){this._elMap=R(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel\&\&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var i=this._elMap,n=this.group;d(e,function(e){var o=e.\$action,a=e.id,r=i.get(a),s=e.parentId,l=null!=s?i.get(s):n,u=e.style;\"text\"===e.type\&\&u\&\&(e.hv\&\&e.hv[1]\&\&(u.textVerticalAlign=u.textBaseline=null),!u.hasOwnProperty(\"textFill\")\&\&u.fill\&\&(u.textFill=u.fill),!u.hasOwnProperty(\"textStroke\")\&\&u.stroke\&\&(u.textStroke=u.stroke));var h=av(e);o\&\&\"merge\"!==o?\"replace\"===o?(ov(r,i),nv(a,l,h,i)):\"remove\"===o\&\&ov(r,i):r?r.attr(h):nv(a,l,h,i);var c=i.get(a);c\&\&(c.__ecGraphicWidth=e.width,c.__ecGraphicHeight=e.height,hv(c,t))})}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,a=i.length-1;a>=0;a--){var r=i[a],s=o.get(r.id);if(s){var l=s.parent;ua(s,r,l===n?{width:e.getWidth(),height:e.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0},null,{hv:r.hv,boundingMode:r.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){ov(e,t)}),this._elMap=R()},dispose:function(){this._clear()}});var PP=Bs({type:\"legend.plain\",dependencies:[\"series\"],layoutMode:{type:\"box\",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{}},mergeOption:function(t){PP.superCall(this,\"mergeOption\",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]\&\&\"single\"===this.get(\"selectedMode\")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get(\"name\");if(this.isSelected(n)){this.select(n),e=!0;break}}!e\&\&this.select(t[0].get(\"name\"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries(function(n){var o=n.name;i.push(o);var a;if(n.legendDataProvider){var r=n.legendDataProvider(),s=r.mapArray(r.getName);t.isSeriesFiltered(n)||(i=i.concat(s)),s.length?e=e.concat(s):a=!0}else a=!0;a\&\&Oi(n)\&\&e.push(n.name)}),this._availableNames=i;var n=f(this.get(\"data\")||e,function(t){return\"string\"!=typeof t\&\&\"number\"!=typeof t||(t={name:t}),new Lo(t,this,this.ecModel)},this);this._data=n},getData:function(){return this._data},select:function(t){var e=this.option.selected;\"single\"===this.get(\"selectedMode\")\&\&d(this._data,function(t){e[t.get(\"name\")]=!1}),e[t]=!0},unSelect:function(t){\"single\"!==this.get(\"selectedMode\")\&\&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?\"unSelect\":\"select\"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)\&\&!e[t])\&\&l(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:\"horizontal\",left:\"center\",top:0,align:\"auto\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:\"#ccc\",textStyle:{color:\"#333\"},selectedMode:!0,tooltip:{show:!1}}});Ps(\"legendToggleSelect\",\"legendselectchanged\",v(cv,\"toggleSelected\")),Ps(\"legendSelect\",\"legendselected\",v(cv,\"select\")),Ps(\"legendUnSelect\",\"legendunselected\",v(cv,\"unSelect\"));var NP=v,OP=d,EP=Zw,RP=Vs({type:\"legend.plain\",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new EP),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,i){if(this.resetInner(),t.get(\"show\",!0)){var n=t.get(\"align\");n\&\&\"auto\"!==n||(n=\"right\"===t.get(\"left\")\&\&\"vertical\"===t.get(\"orient\")?\"right\":\"left\"),this.renderInner(n,t,e,i);var o=t.getBoxLayoutParams(),a={width:i.getWidth(),height:i.getHeight()},s=t.get(\"padding\"),l=la(o,a,s),u=this.layoutInner(t,n,l),h=la(r({width:u.width,height:u.height},o),a,s);this.group.attr(\"position\",[h.x-u.x,h.y-u.y]),this.group.add(this._backgroundEl=fv(u,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl\&\&this.group.remove(this._backgroundEl)},renderInner:function(t,e,i,n){var o=this.getContentGroup(),a=R(),r=e.get(\"selectedMode\"),s=[];i.eachRawSeries(function(t){!t.get(\"legendHoverLink\")\&\&s.push(t.id)}),OP(e.getData(),function(l,u){var h=l.get(\"name\");if(this.newlineDisabled||\"\"!==h\&\&\"\\n\"!==h){var c=i.getSeriesByName(h)[0];if(!a.get(h))if(c){var d=c.getData(),f=d.getVisual(\"color\");\"function\"==typeof f\&\&(f=f(c.getDataParams(0)));var p=d.getVisual(\"legendSymbol\")||\"roundRect\",g=d.getVisual(\"symbol\");this._createItem(h,u,l,e,p,g,t,f,r).on(\"click\",NP(pv,h,n)).on(\"mouseover\",NP(gv,c.name,null,n,s)).on(\"mouseout\",NP(mv,c.name,null,n,s)),a.set(h,!0)}else i.eachRawSeries(function(i){if(!a.get(h)\&\&i.legendDataProvider){var o=i.legendDataProvider(),c=o.indexOfName(h);if(c<0)return;var d=o.getItemVisual(c,\"color\");this._createItem(h,u,l,e,\"roundRect\",null,t,d,r).on(\"click\",NP(pv,h,n)).on(\"mouseover\",NP(gv,null,h,n,s)).on(\"mouseout\",NP(mv,null,h,n,s)),a.set(h,!0)}},this)}else o.add(new EP({newline:!0}))},this)},_createItem:function(t,e,i,n,o,r,s,l,u){var h=n.get(\"itemWidth\"),c=n.get(\"itemHeight\"),d=n.get(\"inactiveColor\"),f=n.get(\"symbolKeepAspect\"),p=n.isSelected(t),g=new EP,m=i.getModel(\"textStyle\"),v=i.get(\"icon\"),y=i.getModel(\"tooltip\"),x=y.parentModel;if(o=v||o,g.add(Xl(o,0,0,h,c,p?l:d,null==f||f)),!v\&\&r\&\&(r!==o||\"none\"===r)){var _=.8*c;\"none\"===r\&\&(r=\"circle\"),g.add(Xl(r,(h-_)/2,(c-_)/2,_,_,p?l:d,null==f||f))}var w=\"left\"===s?h+5:-5,b=s,S=n.get(\"formatter\"),M=t;\"string\"==typeof S\&\&S?M=S.replace(\"{name}\",null!=t?t:\"\"):\"function\"==typeof S\&\&(M=S(t)),g.add(new qS({style:fo({},m,{text:M,x:w,y:c/2,textFill:p?m.getTextColor():d,textAlign:b,textVerticalAlign:\"middle\"})}));var I=new aM({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get(\"show\")?a({content:t,formatter:x.get(\"formatter\",!0)||function(){return t},formatterParams:{componentType:\"legend\",legendIndex:n.componentIndex,name:t,\$vars:[\"name\"]}},y.option):null});return g.add(I),g.eachChild(function(t){t.silent=!0}),I.silent=!u,this.getContentGroup().add(g),uo(g),g.__legendDataIndex=e,g},layoutInner:function(t,e,i){var n=this.getContentGroup();UM(t.get(\"orient\"),n,t.get(\"itemGap\"),i.width,i.height);var o=n.getBoundingRect();return n.attr(\"position\",[-o.x,-o.y]),this.group.getBoundingRect()}});ks(function(t){var e=t.findComponents({mainType:\"legend\"});e\&\&e.length\&\&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}),YM.registerSubTypeDefaulter(\"legend\",function(){return\"plain\"});var zP=PP.extend({type:\"legend.scroll\",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:\"end\",pageFormatter:\"{current}/{total}\",pageIcons:{horizontal:[\"M0,0L12,-10L12,10z\",\"M0,0L-12,-10L-12,10z\"],vertical:[\"M0,0L20,0L10,-20z\",\"M0,0L20,0L10,20z\"]},pageIconColor:\"#2f4554\",pageIconInactiveColor:\"#aaa\",pageIconSize:15,pageTextStyle:{color:\"#333\"},animationDurationUpdate:800},init:function(t,e,i,n){var o=da(t);zP.superCall(this,\"init\",t,e,i,n),vv(this,t,o)},mergeOption:function(t,e){zP.superCall(this,\"mergeOption\",t,e),vv(this,this.option,t)},getOrient:function(){return\"vertical\"===this.get(\"orient\")?{index:1,name:\"vertical\"}:{index:0,name:\"horizontal\"}}}),BP=Zw,VP=[\"width\",\"height\"],GP=[\"x\",\"y\"],FP=RP.extend({type:\"legend.scroll\",newlineDisabled:!0,init:function(){FP.superCall(this,\"init\"),this._currentIndex=0,this.group.add(this._containerGroup=new BP),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new BP),this._showController},resetInner:function(){FP.superCall(this,\"resetInner\"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,n){function o(t,i){var o=t+\"DataIndex\",l=Co(e.get(\"pageIcons\",!0)[e.getOrient().name][i],{onclick:m(a._pageGo,a,o,e,n)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});l.name=t,r.add(l)}var a=this;FP.superCall(this,\"renderInner\",t,e,i,n);var r=this._controllerGroup,s=e.get(\"pageIconSize\",!0);y(s)||(s=[s,s]),o(\"pagePrev\",0);var l=e.getModel(\"pageTextStyle\");r.add(new qS({name:\"pageText\",style:{textFill:l.getTextColor(),font:l.getFont(),textVerticalAlign:\"middle\",textAlign:\"center\"},silent:!0})),o(\"pageNext\",1)},layoutInner:function(t,e,i){var n=this.getContentGroup(),o=this._containerGroup,a=this._controllerGroup,r=t.getOrient().index,s=VP[r],l=VP[1-r],u=GP[1-r];UM(t.get(\"orient\"),n,t.get(\"itemGap\"),r?i.width:null,r?null:i.height),UM(\"horizontal\",a,t.get(\"pageButtonItemGap\",!0));var h=n.getBoundingRect(),c=a.getBoundingRect(),d=this._showController=h[s]>i[s],f=[-h.x,-h.y];f[r]=n.position[r];var p=[0,0],g=[-c.x,-c.y],m=A(t.get(\"pageButtonGap\",!0),t.get(\"itemGap\",!0));d\&\&(\"end\"===t.get(\"pageButtonPosition\",!0)?g[r]+=i[s]-c[s]:p[r]+=c[s]+m),g[1-r]+=h[l]/2-c[l]/2,n.attr(\"position\",f),o.attr(\"position\",p),a.attr(\"position\",g);var v=this.group.getBoundingRect();if((v={x:0,y:0})[s]=d?i[s]:h[s],v[l]=Math.max(h[l],c[l]),v[u]=Math.min(0,c[u]+g[1-r]),o.__rectSize=i[s],d){var y={x:0,y:0};y[s]=Math.max(i[s]-c[s]-m,0),y[l]=v[l],o.setClipPath(new aM({shape:y})),o.__rectSize=y[s]}else a.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(t);return null!=x.pageIndex\&\&bo(n,{position:x.contentPosition},!!d\&\&t),this._updatePageInfoView(t,x),v},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n\&\&i.dispatchAction({type:\"legendScroll\",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;d([\"pagePrev\",\"pageNext\"],function(n){var o=null!=e[n+\"DataIndex\"],a=i.childOfName(n);a\&\&(a.setStyle(\"fill\",o?t.get(\"pageIconColor\",!0):t.get(\"pageIconInactiveColor\",!0)),a.cursor=o?\"pointer\":\"default\")});var n=i.childOfName(\"pageText\"),o=t.get(\"pageFormatter\"),a=e.pageIndex,r=null!=a?a+1:0,s=e.pageCount;n\&\&o\&\&n.setStyle(\"text\",_(o)?o.replace(\"{current}\",r).replace(\"{total}\",s):o({current:r,total:s}))},_getPageInfo:function(t){function e(t){var e=t.getBoundingRect().clone();return e[f]+=t.position[h],e}var i,n,o,a,r=t.get(\"scrollDataIndex\",!0),s=this.getContentGroup(),l=s.getBoundingRect(),u=this._containerGroup.__rectSize,h=t.getOrient().index,c=VP[h],d=VP[1-h],f=GP[h],p=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===r\&\&(a=t)}):a=s.childAt(0);var g=u?Math.ceil(l[c]/u):0;if(a){var m=a.getBoundingRect(),v=a.position[h]+m[f];p[h]=-v-l[f],i=Math.floor(g*(v+m[f]+u/2)/l[c]),i=l[c]\&\&g?Math.max(0,Math.min(g-1,i)):-1;var y={x:0,y:0};y[c]=u,y[d]=l[d],y[f]=-p[h]-l[f];var x,_=s.children();if(s.eachChild(function(t,i){var n=e(t);n.intersect(y)\&\&(null==x\&\&(x=i),o=t.__legendDataIndex),i===_.length-1\&\&n[f]+n[c]<=y[f]+y[c]\&\&(o=null)}),null!=x){var w=e(_[x]);if(y[f]=w[f]+w[c]-y[c],x<=0\&\&w[f]>=y[f])n=null;else{for(;x>0\&\&e(_[x-1]).intersect(y);)x--;n=_[x].__legendDataIndex}}}return{contentPosition:p,pageIndex:i,pageCount:g,pagePrevDataIndex:n,pageNextDataIndex:o}}});Ps(\"legendScroll\",\"legendscroll\",function(t,e){var i=t.scrollDataIndex;null!=i\&\&e.eachComponent({mainType:\"legend\",subType:\"scroll\",query:t},function(t){t.setScrollDataIndex(i)})}),Bs({type:\"tooltip\",dependencies:[\"axisPointer\"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:\"item\",triggerOn:\"mousemove|click\",alwaysShowContent:!1,displayMode:\"single\",renderMode:\"auto\",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:\"rgba(50,50,50,0.7)\",borderColor:\"#333\",borderRadius:4,borderWidth:0,padding:5,extraCssText:\"\",axisPointer:{type:\"line\",axis:\"auto\",animation:\"auto\",animationDurationUpdate:200,animationEasingUpdate:\"exponentialOut\",crossStyle:{color:\"#999\",width:1,type:\"dashed\",textStyle:{}}},textStyle:{color:\"#fff\",fontSize:14}}});var WP=d,HP=Jo,ZP=[\"\",\"-webkit-\",\"-moz-\",\"-o-\"];wv.prototype={constructor:wv,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;\"absolute\"!==i.position\&\&\"absolute\"!==e.position\&\&(i.position=\"relative\")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=\"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\"+_v(t)+\";left:\"+this._x+\"px;top:\"+this._y+\"px;\"+(t.get(\"extraCssText\")||\"\"),e.style.display=e.innerHTML?\"block\":\"none\",e.style.pointerEvents=this._enterable?\"auto\":\"none\",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?\"\":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,n=this._zr;n\&\&n.painter\&\&(i=n.painter.getViewportRootOffset())\&\&(t+=i.offsetLeft,e+=i.offsetTop);var o=this.el.style;o.left=t+\"px\",o.top=e+\"px\",this._x=t,this._y=e},hide:function(){this.el.style.display=\"none\",this._show=!1},hideLater:function(t){!this._show||this._inContent\&\&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView\&\&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i\&\&(t+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),e+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:e}}},bv.prototype={constructor:bv,_enterable:!0,update:function(){},show:function(t){this._hideTimeout\&\&clearTimeout(this._hideTimeout),this.el.attr(\"show\",!0),this._show=!0},setContent:function(t,e,i){this.el\&\&this._zr.remove(this.el);for(var n={},o=t,a=o.indexOf(\"{marker\");a>=0;){var r=o.indexOf(\"|}\"),s=o.substr(a+\"{marker\".length,r-a-\"{marker\".length);s.indexOf(\"sub\")>-1?n[\"marker\"+s]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[s],textOffset:[3,0]}:n[\"marker\"+s]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[s]},a=(o=o.substr(r+1)).indexOf(\"{marker\")}this.el=new qS({style:{rich:n,text:t,textLineHeight:20,textBackgroundColor:i.get(\"backgroundColor\"),textBorderRadius:i.get(\"borderRadius\"),textFill:i.get(\"textStyle.color\"),textPadding:i.get(\"padding\")},z:i.get(\"z\")}),this._zr.add(this.el);var l=this;this.el.on(\"mouseover\",function(){l._enterable\&\&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on(\"mouseout\",function(){l._enterable\&\&l._show\&\&l.hideLater(l._hideDelay),l._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el\&\&this.el.attr(\"position\",[t,e])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent\&\&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(m(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var UP=m,XP=d,jP=Ro,YP=new aM({shape:{x:-1,y:-1,width:2,height:2}});Vs({type:\"tooltip\",init:function(t,e){if(!z_.node){var i=t.getComponent(\"tooltip\").get(\"renderMode\");this._renderMode=Hi(i);var n;\"html\"===this._renderMode?(n=new wv(e.getDom(),e),this._newLine=\"<br/>\"):(n=new bv(e),this._newLine=\"\\n\"),this._tooltipContent=n}},render:function(t,e,i){if(!z_.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get(\"alwaysShowContent\");var n=this._tooltipContent;n.update(),n.setEnterable(t.get(\"enterable\")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get(\"triggerOn\");im(\"itemTooltip\",this._api,UP(function(e,i,n){\"none\"!==t\&\&(t.indexOf(e)>=0?this._tryShow(i,n):\"leave\"===e\&\&this._hide(n))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX\&\&null!=this._lastY\&\&\"none\"!==t.get(\"triggerOn\")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid\&\&!z_.node){var o=Mv(n,i);this._ticket=\"\";var a=n.dataByCoordSys;if(n.tooltip\&\&null!=n.x\&\&null!=n.y){var r=YP;r.position=[n.x,n.y],r.update(),r.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:r},o)}else if(a)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=eP(n,e),l=s.point[0],u=s.point[1];null!=l\&\&null!=u\&\&this._tryShow({offsetX:l,offsetY:u,position:n.position,target:s.el,event:{}},o)}else null!=n.x\&\&null!=n.y\&\&(i.dispatchAction({type:\"updateAxisPointer\",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},o))}},manuallyHideTip:function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent\&\&this._tooltipModel\&\&o.hideLater(this._tooltipModel.get(\"hideDelay\")),this._lastX=this._lastY=null,n.from!==this.uid\&\&this._hide(Mv(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var o=n.seriesIndex,a=n.dataIndex,r=e.getComponent(\"axisPointer\").coordSysAxesInfo;if(null!=o\&\&null!=a\&\&null!=r){var s=e.getSeriesByIndex(o);if(s\&\&\"axis\"===(t=Sv([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t])).get(\"trigger\"))return i.dispatchAction({type:\"updateAxisPointer\",seriesIndex:o,dataIndex:a,position:n.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n\&\&n.length?this._showAxisTooltip(n,t):i\&\&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i\&\&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get(\"showDelay\");e=m(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,o=this._tooltipModel,a=[e.offsetX,e.offsetY],r=[],s=[],l=Sv([e.tooltipOption,o]),u=this._renderMode,h=this._newLine,c={};XP(t,function(t){XP(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+\"Axis\",t.axisIndex),o=t.value,a=[];if(e\&\&null!=o){var l=ym(o,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);d(t.seriesDataIndices,function(r){var h=i.getSeriesByIndex(r.seriesIndex),d=r.dataIndexInside,f=h\&\&h.getDataParams(d);if(f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=Wl(e.axis,o),f.axisValueLabel=l,f){s.push(f);var p,g=h.formatTooltip(d,!0,null,u);if(w(g)){p=g.html;var m=g.markers;n(c,m)}else p=g;a.push(p)}});var f=l;\"html\"!==u?r.push(a.join(h)):r.push((f?Qo(f)+h:\"\")+a.join(h))}})},this),r.reverse(),r=r.join(this._newLine+this._newLine);var f=e.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,f,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(l,r,s,Math.random(),a[0],a[1],f,void 0,c)})},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,o=e.seriesIndex,a=n.getSeriesByIndex(o),r=e.dataModel||a,s=e.dataIndex,l=e.dataType,u=r.getData(),h=Sv([u.getItemModel(s),r,a\&\&(a.coordinateSystem||{}).model,this._tooltipModel]),c=h.get(\"trigger\");if(null==c||\"item\"===c){var d,f,p=r.getDataParams(s,l),g=r.formatTooltip(s,!1,l,this._renderMode);w(g)?(d=g.html,f=g.markers):(d=g,f=null);var m=\"item_\"+r.name+\"_\"+s;this._showOrMove(h,function(){this._showTooltipContent(h,d,p,m,t.offsetX,t.offsetY,t.position,t.target,f)}),i({type:\"showTip\",dataIndexInside:s,dataIndex:u.getRawIndex(s),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if(\"string\"==typeof n){var o=n;n={content:o,formatter:o}}var a=new Lo(n,this._tooltipModel,this._ecModel),r=a.get(\"content\"),s=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,r,a.get(\"formatterParams\")||{},s,t.offsetX,t.offsetY,t.position,e)}),i({type:\"showTip\",from:this.uid})},_showTooltipContent:function(t,e,i,n,o,a,r,s,l){if(this._ticket=\"\",t.get(\"showContent\")\&\&t.get(\"show\")){var u=this._tooltipContent,h=t.get(\"formatter\");r=r||t.get(\"position\");var c=e;if(h\&\&\"string\"==typeof h)c=ta(h,i,!0);else if(\"function\"==typeof h){var d=UP(function(e,n){e===this._ticket\&\&(u.setContent(n,l,t),this._updatePosition(t,r,o,a,u,i,s))},this);this._ticket=n,c=h(i,n,d)}u.setContent(c,l,t),u.show(t),this._updatePosition(t,r,o,a,u,i,s)}},_updatePosition:function(t,e,i,n,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get(\"position\");var u=o.getSize(),h=t.get(\"align\"),c=t.get(\"verticalAlign\"),d=r\&\&r.getBoundingRect().clone();if(r\&\&d.applyTransform(r.transform),\"function\"==typeof e\&\&(e=e([i,n],a,o.el,d,{viewSize:[s,l],contentSize:u.slice()})),y(e))i=jP(e[0],s),n=jP(e[1],l);else if(w(e)){e.width=u[0],e.height=u[1];var f=la(e,{width:s,height:l});i=f.x,n=f.y,h=null,c=null}else\"string\"==typeof e\&\&r?(i=(p=Av(e,d,u))[0],n=p[1]):(i=(p=Iv(i,n,o,s,l,h?null:20,c?null:20))[0],n=p[1]);if(h\&\&(i-=Dv(h)?u[0]/2:\"right\"===h?u[0]:0),c\&\&(n-=Dv(c)?u[1]/2:\"bottom\"===c?u[1]:0),t.get(\"confine\")){var p=Tv(i,n,o,s,l);i=p[0],n=p[1]}o.moveTo(i,n)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e\&\&e.length===t.length;return i\&\&XP(e,function(e,n){var o=e.dataByAxis||{},a=(t[n]||{}).dataByAxis||[];(i\&=o.length===a.length)\&\&XP(o,function(t,e){var n=a[e]||{},o=t.seriesDataIndices||[],r=n.seriesDataIndices||[];(i\&=t.value===n.value\&\&t.axisType===n.axisType\&\&t.axisId===n.axisId\&\&o.length===r.length)\&\&XP(o,function(t,e){var n=r[e];i\&=t.seriesIndex===n.seriesIndex\&\&t.dataIndex===n.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:\"hideTip\",from:this.uid})},dispose:function(t,e){z_.node||(this._tooltipContent.hide(),lm(\"itemTooltip\",e))}}),Ps({type:\"showTip\",event:\"showTip\",update:\"tooltip:manuallyShowTip\"},function(){}),Ps({type:\"hideTip\",event:\"hideTip\",update:\"tooltip:manuallyHideTip\"},function(){}),Pv.prototype={constructor:Pv,pointToData:function(t,e){return this.polar.pointToData(t,e)[\"radius\"===this.dim?0:1]},dataToRadius:HA.prototype.dataToCoord,radiusToData:HA.prototype.coordToData},u(Pv,HA);var qP=Bi();Nv.prototype={constructor:Nv,pointToData:function(t,e){return this.polar.pointToData(t,e)[\"radius\"===this.dim?0:1]},dataToAngle:HA.prototype.dataToCoord,angleToData:HA.prototype.coordToData,calculateCategoryInterval:function(){var t=this,e=t.getLabelModel(),i=t.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var a=n[0],r=t.dataToCoord(a+1)-t.dataToCoord(a),s=Math.abs(r),l=De(a,e.getFont(),\"center\",\"top\"),u=Math.max(l.height,7)/s;isNaN(u)\&\&(u=1/0);var h=Math.max(0,Math.floor(u)),c=qP(t.model),d=c.lastAutoInterval,f=c.lastTickCount;return null!=d\&\&null!=f\&\&Math.abs(d-h)<=1\&\&Math.abs(f-o)<=1\&\&d>h?h=d:(c.lastTickCount=o,c.lastAutoInterval=h),h}},u(Nv,HA);var KP=function(t){this.name=t||\"\",this.cx=0,this.cy=0,this._radiusAxis=new Pv,this._angleAxis=new Nv,this._radiusAxis.polar=this._angleAxis.polar=this};KP.prototype={type:\"polar\",axisPointerEnabled:!0,constructor:KP,dimensions:[\"radius\",\"angle\"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])\&\&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])\&\&this._angleAxis.containData(t[1])},getAxis:function(t){return this[\"_\"+t+\"Axis\"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t\&\&e.push(i),n.scale.type===t\&\&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t\&\&\"auto\"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);n.inverse?a=r-360:r=a+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,u=l<a?1:-1;l<a||l>r;)l+=360*u;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]}};var \$P=YM.extend({type:\"polarAxis\",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"polar\",index:this.option.polarIndex,id:this.option.polarId})[0]}});n(\$P.prototype,CA);var JP={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};xD(\"angle\",\$P,Ov,JP.angle),xD(\"radius\",\$P,Ov,JP.radius),Bs({type:\"polar\",dependencies:[\"polarAxis\",\"angleAxis\"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this\&\&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"80%\"}});var QP={dimensions:KP.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent(\"polar\",function(t,n){var o=new KP(n);o.update=Rv;var a=o.getRadiusAxis(),r=o.getAngleAxis(),s=t.findAxisModel(\"radiusAxis\"),l=t.findAxisModel(\"angleAxis\");zv(a,s),zv(r,l),Ev(o,t,e),i.push(o),t.coordinateSystem=o,o.model=t}),t.eachSeries(function(e){if(\"polar\"===e.get(\"coordinateSystem\")){var i=t.queryComponents({mainType:\"polar\",index:e.get(\"polarIndex\"),id:e.get(\"polarId\")})[0];e.coordinateSystem=i.coordinateSystem}}),i}};Ba.register(\"polar\",QP);var tN=[\"axisLine\",\"axisLabel\",\"axisTick\",\"splitLine\",\"splitArea\"];LD.extend({type:\"angleAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(t,e){if(this.group.removeAll(),t.get(\"show\")){var n=t.axis,o=n.polar,a=o.getRadiusAxis().getExtent(),r=n.getTicksCoords(),s=f(n.getViewLabels(),function(t){return(t=i(t)).coord=n.dataToCoord(t.tickValue),t});Gv(s),Gv(r),d(tN,function(e){!t.get(e+\".show\")||n.scale.isBlank()\&\&\"axisLine\"!==e||this[\"_\"+e](t,o,r,a,s)},this)}},_axisLine:function(t,e,i,n){var o=t.getModel(\"axisLine.lineStyle\"),a=new KS({shape:{cx:e.cx,cy:e.cy,r:n[Vv(e)]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,i,n){var o=t.getModel(\"axisTick\"),a=(o.get(\"inside\")?-1:1)*o.get(\"length\"),s=n[Vv(e)],l=f(i,function(t){return new rM({shape:Bv(e,[s,s+a],t.coord)})});this.group.add(xM(l,{style:r(o.getModel(\"lineStyle\").getLineStyle(),{stroke:t.get(\"axisLine.lineStyle.color\")})}))},_axisLabel:function(t,e,i,n,o){var a=t.getCategories(!0),r=t.getModel(\"axisLabel\"),s=r.get(\"margin\");d(o,function(i,o){var l=r,u=i.tickValue,h=n[Vv(e)],c=e.coordToPoint([h+s,i.coord]),d=e.cx,f=e.cy,p=Math.abs(c[0]-d)/h<.3?\"center\":c[0]>d?\"left\":\"right\",g=Math.abs(c[1]-f)/h<.3?\"middle\":c[1]>f?\"top\":\"bottom\";a\&\&a[u]\&\&a[u].textStyle\&\&(l=new Lo(a[u].textStyle,r,r.ecModel));var m=new qS({silent:!0});this.group.add(m),fo(m.style,l,{x:c[0],y:c[1],textFill:l.getTextColor()||t.get(\"axisLine.lineStyle.color\"),text:i.formattedLabel,textAlign:p,textVerticalAlign:g})},this)},_splitLine:function(t,e,i,n){var o=t.getModel(\"splitLine\").getModel(\"lineStyle\"),a=o.get(\"color\"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=0;u<i.length;u++){var h=s++%a.length;l[h]=l[h]||[],l[h].push(new rM({shape:Bv(e,n,i[u].coord)}))}for(u=0;u<l.length;u++)this.group.add(xM(l[u],{style:r({stroke:a[u%a.length]},o.getLineStyle()),silent:!0,z:t.get(\"z\")}))},_splitArea:function(t,e,i,n){if(i.length){var o=t.getModel(\"splitArea\").getModel(\"areaStyle\"),a=o.get(\"color\"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=Math.PI/180,h=-i[0].coord*u,c=Math.min(n[0],n[1]),d=Math.max(n[0],n[1]),f=t.get(\"clockwise\"),p=1;p<i.length;p++){var g=s++%a.length;l[g]=l[g]||[],l[g].push(new QS({shape:{cx:e.cx,cy:e.cy,r0:c,r:d,startAngle:h,endAngle:-i[p].coord*u,clockwise:f},silent:!0})),h=-i[p].coord*u}for(p=0;p<l.length;p++)this.group.add(xM(l[p],{style:r({fill:a[p%a.length]},o.getAreaStyle()),silent:!0}))}}});var eN=[\"axisLine\",\"axisTickLabel\",\"axisName\"],iN=[\"splitLine\",\"splitArea\"];LD.extend({type:\"radiusAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(t,e){if(this.group.removeAll(),t.get(\"show\")){var i=t.axis,n=i.polar,o=n.getAngleAxis(),a=i.getTicksCoords(),r=o.getExtent()[0],s=i.getExtent(),l=Fv(n,t,r),u=new ID(t,l);d(eN,u.add,u),this.group.add(u.getGroup()),d(iN,function(e){t.get(e+\".show\")\&\&!i.scale.isBlank()\&\&this[\"_\"+e](t,n,r,s,a)},this)}},_splitLine:function(t,e,i,n,o){var a=t.getModel(\"splitLine\").getModel(\"lineStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new KS({shape:{cx:e.cx,cy:e.cy,r:o[h].coord},silent:!0}))}for(h=0;h<u.length;h++)this.group.add(xM(u[h],{style:r({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,o){if(o.length){var a=t.getModel(\"splitArea\").getModel(\"areaStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new QS({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c<u.length;c++)this.group.add(xM(u[c],{style:r({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}});var nN=um.extend({makeElOption:function(t,e,i,n,o){var a=i.axis;\"angle\"===a.dim\&\&(this.animationThreshold=Math.PI/18);var r,s=a.polar,l=s.getOtherAxis(a).getExtent();r=a[\"dataTo\"+aa(a.dim)](e);var u=n.get(\"type\");if(u\&\&\"none\"!==u){var h=gm(n),c=oN[u](a,s,r,l,h);c.style=h,t.graphicKey=c.type,t.pointer=c}mm(t,i,n,o,Wv(e,i,0,s,n.get(\"label.margin\")))}}),oN={line:function(t,e,i,n,o){return\"angle\"===t.dim?{type:\"Line\",shape:wm(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:\"Circle\",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,o){var a=Math.max(1,t.getBandWidth()),r=Math.PI/180;return\"angle\"===t.dim?{type:\"Sector\",shape:Sm(e.cx,e.cy,n[0],n[1],(-i-a/2)*r,(a/2-i)*r)}:{type:\"Sector\",shape:Sm(e.cx,e.cy,i-a/2,i+a/2,0,2*Math.PI)}}};LD.registerAxisPointerClass(\"PolarAxisPointer\",nN),Os(v(function(t,e,i){var n={},o=kv(g(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)\&\&t.coordinateSystem\&\&\"polar\"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if(\"polar\"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),r=Cv(t),s=o[Lv(a)][r],l=s.offset,u=s.width,h=i.getOtherAxis(a),c=t.coordinateSystem.cx,d=t.coordinateSystem.cy,f=t.get(\"barMinHeight\")||0,p=t.get(\"barMinAngle\")||0;n[r]=n[r]||[];for(var g=e.mapDimension(h.dim),m=e.mapDimension(a.dim),v=hl(e,g),y=h.getExtent()[0],x=0,_=e.count();x<_;x++){var w=e.get(g,x),b=e.get(m,x);if(!isNaN(w)){var S=w>=0?\"p\":\"n\",M=y;v\&\&(n[r][b]||(n[r][b]={p:y,n:y}),M=n[r][b][S]);var I,T,A,D;if(\"radius\"===h.dim){var C=h.dataToRadius(w)-y,L=a.dataToAngle(b);Math.abs(C)<f\&\&(C=(C<0?-1:1)*f),I=M,T=M+C,D=(A=L-l)-u,v\&\&(n[r][b][S]=T)}else{var k=h.dataToAngle(w,!0)-y,P=a.dataToRadius(b);Math.abs(k)<p\&\&(k=(k<0?-1:1)*p),T=(I=P+l)+u,A=M,D=M+k,v\&\&(n[r][b][S]=D)}e.setItemLayout(x,{cx:c,cy:d,r0:I,r:T,startAngle:-A*Math.PI/180,endAngle:-D*Math.PI/180})}}}},this)},\"bar\")),Vs({type:\"polar\"}),h(YM.extend({type:\"geo\",coordinateSystem:null,layoutMode:\"box\",init:function(t){YM.prototype.init.apply(this,arguments),Ci(t,\"label\",[\"show\"])},optionUpdated:function(){var t=this.option,e=this;t.regions=_C.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=p(t.regions||[],function(t,i){return i.name\&\&t.set(i.name,new Lo(i,e)),t},R()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:\"center\",top:\"center\",aspectScale:null,silent:!1,map:\"\",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",color:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new Lo(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t).get(\"label.\"+e+\".formatter\"),n={name:t};return\"function\"==typeof i?(n.status=e,i(n)):\"string\"==typeof i?i.replace(\"{a}\",null!=t?t:\"\"):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}}),HD),Vs({type:\"geo\",init:function(t,e){var i=new _c(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||\"geoToggleSelect\"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get(\"show\")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get(\"silent\")}},dispose:function(){this._mapDraw\&\&this._mapDraw.remove()}}),Hv(\"toggleSelected\",{type:\"geoToggleSelect\",event:\"geoselectchanged\"}),Hv(\"select\",{type:\"geoSelect\",event:\"geoselected\"}),Hv(\"unSelect\",{type:\"geoUnSelect\",event:\"geounselected\"});var aN=[\"rect\",\"polygon\",\"keep\",\"clear\"],rN=d,sN={lineX:Kv(0),lineY:Kv(1),rect:{point:function(t,e,i){return t\&\&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t\&\&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t\&\&i.boundingRect.contain(t[0],t[1])\&\&Yl(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length<=1)return!1;var o=t.x,a=t.y,r=t.width,s=t.height,l=n[0];return!!(Yl(n,o,a)||Yl(n,o+r,a)||Yl(n,o,a+s)||Yl(n,o+r,a+s)||ue.create(t).contain(l[0],l[1])||Jv(o,a,o+r,a,n)||Jv(o,a,o,a+s,n)||Jv(o+r,a,o+r,a+s,n)||Jv(o,a+s,o+r,a+s,n))||void 0}}},lN=d,uN=l,hN=v,cN=[\"dataToPoint\",\"pointToData\"],dN=[\"grid\",\"xAxis\",\"yAxis\",\"geo\",\"graph\",\"polar\",\"radiusAxis\",\"angleAxis\",\"bmap\"],fN=iy.prototype;fN.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=vN[t.brushType](0,i,e);t.__rangeOffset={offset:yN[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})},fN.matchOutputRanges=function(t,e,i){lN(t,function(t){var n=this.findTargetInfo(t,e);n\&\&!0!==n\&\&d(n.coordSyses,function(n){var o=vN[t.brushType](1,n,t.range);i(t,o.values,n,e)})},this)},fN.setInputRanges=function(t,e){lN(t,function(t){var i=this.findTargetInfo(t,e);if(t.range=t.range||[],i\&\&!0!==i){t.panelId=i.panelId;var n=vN[t.brushType](0,i.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?yN[t.brushType](n.values,o.offset,sy(n.xyMinMax,o.xyMinMax)):n.values}},this)},fN.makePanelOpts=function(t,e){return f(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e\&\&e(i),clipPath:hp(n),isTargetByCursor:dp(n,t,i.coordSysModel),getLinearBrushOtherExtent:cp(n)}})},fN.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n\&\&uN(n.coordSyses,e.coordinateSystem)>=0},fN.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=oy(e,t),o=0;o<i.length;o++){var a=i[o],r=t.panelId;if(r){if(a.panelId===r)return a}else for(o=0;o<gN.length;o++)if(gN[o](n,a))return a}return!0};var pN={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,o=t.gridModels,a=R(),r={},s={};(i||n||o)\&\&(lN(i,function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0}),lN(n,function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0}),lN(o,function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0}),a.each(function(t){var o=t.coordinateSystem,a=[];lN(o.getCartesians(),function(t,e){(uN(i,t.getAxis(\"x\").model)>=0||uN(n,t.getAxis(\"y\").model)>=0)\&\&a.push(t)}),e.push({panelId:\"grid--\"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:mN.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){lN(t.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:\"geo--\"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:mN.geo})})}},gN=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o\&\&i\&\&(o=i.axis.grid.model),!o\&\&n\&\&(o=n.axis.grid.model),o\&\&o===e.gridModel},function(t,e){var i=t.geoModel;return i\&\&i===e.geoModel}],mN={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Mo(t)),e}},vN={lineX:hN(ay,0),lineY:hN(ay,1),rect:function(t,e,i){var n=e[cN[t]]([i[0][0],i[1][0]]),o=e[cN[t]]([i[0][1],i[1][1]]),a=[ny([n[0],o[0]]),ny([n[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,i){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:f(i,function(i){var o=e[cN[t]](i);return n[0][0]=Math.min(n[0][0],o[0]),n[1][0]=Math.min(n[1][0],o[1]),n[0][1]=Math.max(n[0][1],o[0]),n[1][1]=Math.max(n[1][1],o[1]),o}),xyMinMax:n}}},yN={lineX:hN(ry,0),lineY:hN(ry,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return f(t,function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]})}},xN=[\"inBrush\",\"outOfBrush\"],_N=\"__ecBrushSelect\",wN=\"__ecInBrushSelectEvent\",bN=IT.VISUAL.BRUSH;Os(bN,function(t,e,i){t.eachComponent({mainType:\"brush\"},function(e){i\&\&\"takeGlobalCursor\"===i.type\&\&e.setBrushOption(\"brush\"===i.key?i.brushOption:{brushType:!1}),(e.brushTargetManager=new iy(e.option,t)).setInputRanges(e.areas,t)})}),Es(bN,function(t,e,n){var o,a,s=[];t.eachComponent({mainType:\"brush\"},function(e,n){function l(t){return\"all\"===m||v[t]}function u(t){return!!t.length}function h(t,e){var i=t.coordinateSystem;w|=i.hasAxisBrushed(),l(e)\&\&i.eachActiveState(t.getData(),function(t,e){\"active\"===t\&\&(x[e]=1)})}function c(i,n,o){var a=dy(i);if(a\&\&!fy(e,n)\&\&(d(b,function(n){a[n.brushType]\&\&e.brushTargetManager.controlSeries(n,i,t)\&\&o.push(n),w|=u(o)}),l(n)\&\&u(o))){var r=i.getData();r.each(function(t){cy(a,o,r,t)\&\&(x[t]=1)})}}var p={brushId:e.id,brushIndex:n,brushName:e.name,areas:i(e.areas),selected:[]};s.push(p);var g=e.option,m=g.brushLink,v=[],x=[],_=[],w=0;n||(o=g.throttleType,a=g.throttleDelay);var b=f(e.areas,function(t){return py(r({boundingRect:SN[t.brushType](t)},t))}),S=Xv(e.option,xN,function(t){t.mappingMethod=\"fixed\"});y(m)\&\&d(m,function(t){v[t]=1}),t.eachSeries(function(t,e){var i=_[e]=[];\"parallel\"===t.subType?h(t,e):c(t,e,i)}),t.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};p.selected.push(i);var n=dy(t),o=_[e],a=t.getData(),r=l(e)?function(t){return x[t]?(i.dataIndex.push(a.getRawIndex(t)),\"inBrush\"):\"outOfBrush\"}:function(t){return cy(n,o,a,t)?(i.dataIndex.push(a.getRawIndex(t)),\"inBrush\"):\"outOfBrush\"};(l(e)?w:u(o))\&\&Yv(xN,S,a,r)})}),uy(e,o,a,s,n)});var SN={lineX:B,lineY:B,rect:function(t){return gy(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=i[n];a[0]<e[0][0]\&\&(e[0][0]=a[0]),a[0]>e[0][1]\&\&(e[0][1]=a[0]),a[1]<e[1][0]\&\&(e[1][0]=a[1]),a[1]>e[1][1]\&\&(e[1][1]=a[1])}return e\&\&gy(e)}},MN=[\"#ddd\"];Bs({type:\"brush\",dependencies:[\"geo\",\"grid\",\"xAxis\",\"yAxis\",\"parallel\",\"series\"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:\"all\",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:\"rect\",brushMode:\"single\",transformable:!0,brushStyle:{borderWidth:1,color:\"rgba(120,140,180,0.3)\",borderColor:\"rgba(120,140,180,0.8)\"},throttleType:\"fixRate\",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;!e\&\&jv(i,t,[\"inBrush\",\"outOfBrush\"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:MN},n.hasOwnProperty(\"liftZ\")||(n.liftZ=5)},setAreas:function(t){t\&\&(this.areas=f(t,function(t){return my(this.option,t)},this))},setBrushOption:function(t){this.brushOption=my(this.option,t),this.brushType=this.brushOption.brushType}});Vs({type:\"brush\",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Cf(e.getZr())).on(\"brush\",m(this._onBrush,this)).mount()},render:function(t){return this.model=t,vy.apply(this,arguments)},updateTransform:vy,updateView:vy,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)\&\&this.api.dispatchAction({type:\"brush\",brushId:n,areas:i(t),\$from:n})}}),Ps({type:\"brush\",event:\"brush\"},function(t,e){e.eachComponent({mainType:\"brush\",query:t},function(e){e.setAreas(t.areas)})}),Ps({type:\"brushSelect\",event:\"brushSelected\",update:\"none\"},function(){});var IN={},TN=XI.toolbox.brush;_y.defaultOption={show:!0,type:[\"rect\",\"polygon\",\"lineX\",\"lineY\",\"keep\",\"clear\"],icon:{rect:\"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13\",polygon:\"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2\",lineX:\"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4\",lineY:\"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4\",keep:\"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z\",clear:\"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2\"},title:i(TN.title)};var AN=_y.prototype;AN.render=AN.updateView=function(t,e,i){var n,o,a;e.eachComponent({mainType:\"brush\"},function(t){n=t.brushType,o=t.brushOption.brushMode||\"single\",a|=t.areas.length}),this._brushType=n,this._brushMode=o,d(t.get(\"type\",!0),function(e){t.setIconStatus(e,(\"keep\"===e?\"multiple\"===o:\"clear\"===e?a:e===n)?\"emphasis\":\"normal\")})},AN.getIcons=function(){var t=this.model,e=t.get(\"icon\",!0),i={};return d(t.get(\"type\",!0),function(t){e[t]\&\&(i[t]=e[t])}),i},AN.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;\"clear\"===i?(e.dispatchAction({type:\"axisAreaSelect\",intervals:[]}),e.dispatchAction({type:\"brush\",command:\"clear\",areas:[]})):e.dispatchAction({type:\"takeGlobalCursor\",key:\"brush\",brushOption:{brushType:\"keep\"===i?n:n!==i\&\&i,brushMode:\"keep\"===i?\"multiple\"===o?\"single\":\"multiple\":o}})},yy(\"brush\",_y),Ls(function(t,e){var i=t\&\&t.brush;if(y(i)||(i=i?[i]:[]),i.length){var n=[];d(i,function(t){var e=t.hasOwnProperty(\"toolbox\")?t.toolbox:[];e instanceof Array\&\&(n=n.concat(e))});var o=t\&\&t.toolbox;y(o)\&\&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,n),Zv(s),e\&\&!s.length\&\&s.push.apply(s,aN)}});wy.prototype={constructor:wy,type:\"calendar\",dimensions:[\"time\",\"value\"],getDimensionsInfo:function(){return[{name:\"time\",type:\"time\"},\"value\"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Uo(t)).getFullYear(),i=t.getMonth()+1;i=i<10?\"0\"+i:i;var n=t.getDate();n=n<10?\"0\"+n:n;var o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e,m:i,d:n,day:o,time:t.getTime(),formatedDate:e+\"-\"+i+\"-\"+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function i(t,e){return null!=t[e]\&\&\"auto\"!==t[e]}this._firstDayOfWeek=+this._model.getModel(\"dayLabel\").get(\"firstDay\"),this._orient=this._model.get(\"orient\"),this._lineWidth=this._model.getModel(\"itemStyle\").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=[\"width\",\"height\"],a=this._model.get(\"cellSize\").slice(),r=this._model.getBoxLayoutParams(),s=\"horizontal\"===this._orient?[n,7]:[7,n];d([0,1],function(t){i(a,t)\&\&(r[o[t]]=a[t]*s[t])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=la(r,l);d([0,1],function(t){i(a,t)||(a[t]=u[o[t]]/s[t])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(t,e){y(t)\&\&(t=t[0]),null==e\&\&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,o=i.formatedDate;if(e\&\&!(i.time>=n.start.time\&\&i.time<n.end.time+864e5))return[NaN,NaN];var a=i.day,r=this._getRangeInfo([n.start.time,o]).nthWeek;return\"vertical\"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]:[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e\&\&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return\"vertical\"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:v(by,\"dataToPoint\"),convertFromPixel:v(by,\"pointToData\"),_initRangeOption:function(){var t=this._model.get(\"range\"),e=t;if(y(e)\&\&1===e.length\&\&(e=e[0]),/^\\d{4}\$/.test(e)\&\&(t=[e+\"-01-01\",e+\"-12-31\"]),/^\\d{4}[\\/|-]\\d{1,2}\$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate]}/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}\$/.test(e)\&\&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time\&\&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time\&\&(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,n=new Date(t[0].time),o=n.getDate(),a=t[1].date.getDate();if(n.setDate(o+i-1),n.getDate()!==a)for(var r=n.getTime()-t[1].time>0?1:-1;n.getDate()!==a\&\&(n.getTime()-t[1].time)*r>0;)i-=r,n.setDate(o+i-1);var s=Math.floor((i+t[0].day+6)/7),l=e?1-s:s-1;return e\&\&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t\&\&e<n.fweek||t===n.weeks\&\&e>n.lweek)return!1;var o=7*(t-1)-n.fweek+e,a=new Date(n.start.time);return a.setDate(n.start.d+o),this.getDateInfo(a)}},wy.dimensions=wy.prototype.dimensions,wy.getDimensionsInfo=wy.prototype.getDimensionsInfo,wy.create=function(t,e){var i=[];return t.eachComponent(\"calendar\",function(n){var o=new wy(n,t,e);i.push(o),n.coordinateSystem=o}),t.eachSeries(function(t){\"calendar\"===t.get(\"coordinateSystem\")\&\&(t.coordinateSystem=i[t.get(\"calendarIndex\")||0])}),i},Ba.register(\"calendar\",wy);var DN=YM.extend({type:\"calendar\",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:\"horizontal\",splitLine:{show:!0,lineStyle:{color:\"#000\",width:1,type:\"solid\"}},itemStyle:{color:\"#fff\",borderWidth:1,borderColor:\"#ccc\"},dayLabel:{show:!0,firstDay:0,position:\"start\",margin:\"50%\",nameMap:\"en\",color:\"#000\"},monthLabel:{show:!0,position:\"start\",margin:5,align:\"center\",nameMap:\"en\",formatter:null,color:\"#000\"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:\"#ccc\",fontFamily:\"sans-serif\",fontWeight:\"bolder\",fontSize:20}},init:function(t,e,i,n){var o=da(t);DN.superApply(this,\"init\",arguments),Sy(t,o)},mergeOption:function(t,e){DN.superApply(this,\"mergeOption\",arguments),Sy(this.option,t)}}),CN={EN:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],CN:[\"ä¸€æœˆ\",\"äºŒæœˆ\",\"ä¸‰æœˆ\",\"å››æœˆ\",\"äº”æœˆ\",\"å…­æœˆ\",\"ä¸ƒæœˆ\",\"å…«æœˆ\",\"ä¹æœˆ\",\"åæœˆ\",\"åä¸€æœˆ\",\"åäºŒæœˆ\"]},LN={EN:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],CN:[\"æ—¥\",\"ä¸€\",\"äºŒ\",\"ä¸‰\",\"å››\",\"äº”\",\"å…­\"]};Vs({type:\"calendar\",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient();this._renderDayRect(t,a,n),this._renderLines(t,a,r,n),this._renderYearText(t,a,r,n),this._renderMonthText(t,r,n),this._renderWeekText(t,a,r,n)},_renderDayRect:function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel(\"itemStyle\").getItemStyle(),a=n.getCellWidth(),r=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,u=new aM({shape:{x:l[0],y:l[1],width:a,height:r},cursor:\"default\",style:o});i.add(u)}},_renderLines:function(t,e,i,n){function o(e){a._firstDayOfMonth.push(r.getDateInfo(e)),a._firstDayPoints.push(r.dataToRect([e],!1).tl);var o=a._getLinePointsOfOneWeek(t,e,i);a._tlpoints.push(o[0]),a._blpoints.push(o[o.length-1]),l\&\&a._drawSplitline(o,s,n)}var a=this,r=t.coordinateSystem,s=t.getModel(\"splitLine.lineStyle\").getLineStyle(),l=t.get(\"splitLine.show\"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=e.start,c=0;h.time<=e.end.time;c++){o(h.formatedDate),0===c\&\&(h=r.getDateInfo(e.start.y+\"-\"+e.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=r.getDateInfo(d)}o(r.getNextNDay(e.end.time,1).formatedDate),l\&\&this._drawSplitline(a._getEdgesPoints(a._tlpoints,u,i),s,n),l\&\&this._drawSplitline(a._getEdgesPoints(a._blpoints,u,i),s,n)},_getEdgesPoints:function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o=\"horizontal\"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},_drawSplitline:function(t,e,i){var n=new oM({z2:20,shape:{points:t},style:e});i.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var o=[],a=0;a<7;a++){var r=n.getNextNDay(e.time,a),s=n.dataToRect([r.time],!1);o[2*r.day]=s.tl,o[2*r.day+1]=s[\"horizontal\"===i?\"bl\":\"tr\"]}return o},_formatterLabel:function(t,e){return\"string\"==typeof t\&\&t?ea(t,e):\"function\"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,n,o){e=e.slice();var a=[\"center\",\"bottom\"];\"bottom\"===n?(e[1]+=o,a=[\"center\",\"top\"]):\"left\"===n?e[0]-=o:\"right\"===n?(e[0]+=o,a=[\"center\",\"top\"]):e[1]-=o;var r=0;return\"left\"!==n\&\&\"right\"!==n||(r=Math.PI/2),{rotation:r,position:e,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(t,e,i,n){var o=t.getModel(\"yearLabel\");if(o.get(\"show\")){var a=o.get(\"margin\"),r=o.get(\"position\");r||(r=\"horizontal\"!==i?\"top\":\"left\");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h=\"horizontal\"===i?0:1,c={top:[l,s[h][1]],bottom:[l,s[1-h][1]],left:[s[1-h][0],u],right:[s[h][0],u]},d=e.start.y;+e.end.y>+e.start.y\&\&(d=d+\"-\"+e.end.y);var f=o.get(\"formatter\"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new qS({z2:30});fo(m.style,o,{text:g}),m.attr(this._yearTextPositionControl(m,c[r],i,r,a)),n.add(m)}},_monthTextPositionControl:function(t,e,i,n,o){var a=\"left\",r=\"top\",s=t[0],l=t[1];return\"horizontal\"===i?(l+=o,e\&\&(a=\"center\"),\"start\"===n\&\&(r=\"bottom\")):(s+=o,e\&\&(r=\"middle\"),\"start\"===n\&\&(a=\"right\")),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderMonthText:function(t,e,i){var n=t.getModel(\"monthLabel\");if(n.get(\"show\")){var o=n.get(\"nameMap\"),r=n.get(\"margin\"),s=n.get(\"position\"),l=n.get(\"align\"),u=[this._tlpoints,this._blpoints];_(o)\&\&(o=CN[o.toUpperCase()]||[]);var h=\"start\"===s?0:1,c=\"horizontal\"===e?0:1;r=\"start\"===s?-r:r;for(var d=\"center\"===l,f=0;f<u[h].length-1;f++){var p=u[h][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[c]=(m[c]+u[0][f+1][c])/2}var v=n.get(\"formatter\"),y=o[+g.m-1],x={yyyy:g.y,yy:(g.y+\"\").slice(2),MM:g.m,M:+g.m,nameMap:y},w=this._formatterLabel(v,x),b=new qS({z2:30});a(fo(b.style,n,{text:w}),this._monthTextPositionControl(p,d,e,s,r)),i.add(b)}}},_weekTextPositionControl:function(t,e,i,n,o){var a=\"center\",r=\"middle\",s=t[0],l=t[1],u=\"start\"===i;return\"horizontal\"===e?(s=s+n+(u?1:-1)*o[0]/2,a=u?\"right\":\"left\"):(l=l+n+(u?1:-1)*o[1]/2,r=u?\"bottom\":\"top\"),{x:s,y:l,textAlign:a,textVerticalAlign:r}},_renderWeekText:function(t,e,i,n){var o=t.getModel(\"dayLabel\");if(o.get(\"show\")){var r=t.coordinateSystem,s=o.get(\"position\"),l=o.get(\"nameMap\"),u=o.get(\"margin\"),h=r.getFirstDayOfWeek();_(l)\&\&(l=LN[l.toUpperCase()]||[]);var c=r.getNextNDay(e.end.time,7-e.lweek).time,d=[r.getCellWidth(),r.getCellHeight()];u=Ro(u,d[\"horizontal\"===i?0:1]),\"start\"===s\&\&(c=r.getNextNDay(e.start.time,-(7+e.fweek)).time,u=-u);for(var f=0;f<7;f++){var p=r.getNextNDay(c,f),g=r.dataToRect([p.time],!1).center,m=f;m=Math.abs((f+h)%7);var v=new qS({z2:30});a(fo(v.style,o,{text:l[m]}),this._weekTextPositionControl(g,i,s,u,d)),n.add(v)}}}}),Bs({type:\"title\",layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:\"\",target:\"blank\",subtext:\"\",subtarget:\"blank\",left:0,top:0,backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:\"bolder\",color:\"#333\"},subtextStyle:{color:\"#aaa\"}}}),Vs({type:\"title\",render:function(t,e,i){if(this.group.removeAll(),t.get(\"show\")){var n=this.group,o=t.getModel(\"textStyle\"),a=t.getModel(\"subtextStyle\"),r=t.get(\"textAlign\"),s=t.get(\"textBaseline\"),l=new qS({style:fo({},o,{text:t.get(\"text\"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=t.get(\"subtext\"),c=new qS({style:fo({},a,{text:h,textFill:a.getTextColor(),y:u.height+t.get(\"itemGap\"),textVerticalAlign:\"top\"},{disableBox:!0}),z2:10}),d=t.get(\"link\"),f=t.get(\"sublink\"),p=t.get(\"triggerEvent\",!0);l.silent=!d\&\&!p,c.silent=!f\&\&!p,d\&\&l.on(\"click\",function(){window.open(d,\"_\"+t.get(\"target\"))}),f\&\&c.on(\"click\",function(){window.open(f,\"_\"+t.get(\"subtarget\"))}),l.eventData=c.eventData=p?{componentType:\"title\",componentIndex:t.componentIndex}:null,n.add(l),h\&\&n.add(c);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=la(m,{width:i.getWidth(),height:i.getHeight()},t.get(\"padding\"));r||(\"middle\"===(r=t.get(\"left\")||t.get(\"right\"))\&\&(r=\"center\"),\"right\"===r?v.x+=v.width:\"center\"===r\&\&(v.x+=v.width/2)),s||(\"center\"===(s=t.get(\"top\")||t.get(\"bottom\"))\&\&(s=\"middle\"),\"bottom\"===s?v.y+=v.height:\"middle\"===s\&\&(v.y+=v.height/2),s=s||\"top\"),n.attr(\"position\",[v.x,v.y]);var y={textAlign:r,textVerticalAlign:s};l.setStyle(y),c.setStyle(y),g=n.getBoundingRect();var x=v.margin,_=t.getItemStyle([\"color\",\"opacity\"]);_.fill=t.get(\"backgroundColor\");var w=new aM({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get(\"borderRadius\")},style:_,silent:!0});jn(w),n.add(w)}}}),YM.registerSubTypeDefaulter(\"dataZoom\",function(){return\"slider\"});var kN=[\"cartesian2d\",\"polar\",\"singleAxis\"],PN=function(t,e){var i=f(t=t.slice(),aa),n=f(e=(e||[]).slice(),aa);return function(o,a){d(t,function(t,r){for(var s={name:t,capital:i[r]},l=0;l<e.length;l++)s[e[l]]=t+n[l];o.call(a,s)})}}([\"x\",\"y\",\"z\",\"radius\",\"angle\",\"single\"],[\"axisIndex\",\"axis\",\"index\",\"id\"]),NN=d,ON=Bo,EN=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i};EN.prototype={constructor:EN,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(My(i.get(\"coordinateSystem\"))){var n=this._dimName,o=e.queryComponents({mainType:n+\"Axis\",index:i.get(n+\"AxisIndex\"),id:i.get(n+\"AxisId\")})[0];this._axisIndex===(o\&\&o.componentIndex)\&\&t.push(i)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+\"Axis\",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel();\"x\"===i||\"y\"===i?(e=\"gridIndex\",t=\"x\"===i?\"y\":\"x\"):(e=\"polarIndex\",t=\"angle\"===i?\"radius\":\"angle\");var a;return n.eachComponent(t+\"Axis\",function(t){(t.get(e)||0)===(o.get(e)||0)\&\&(a=t)}),a},getMinMaxSpan:function(){return i(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,i=this.getAxisModel().axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[t.start,t.end],r=[];return NN([\"startValue\",\"endValue\"],function(e){r.push(null!=t[e]?i.parse(t[e]):null)}),NN([0,1],function(t){var s=r[t],l=a[t];\"percent\"===n[t]?(null==l\&\&(l=o[t]),s=i.parse(Eo(l,o,e,!0))):l=Eo(s,e,o,!0),r[t]=s,a[t]=l}),{valueWindow:ON(r),percentWindow:ON(a)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Ty(this,this._dimName,e);var i=this.calculateDataWindow(t.option);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,Cy(this),Dy(this)}},restore:function(t){t===this._dataZoomModel\&\&(this._valueWindow=this._percentWindow=null,Dy(this,!0))},filterData:function(t,e){function i(t){return t>=r[0]\&\&t<=r[1]}if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),a=t.get(\"filterMode\"),r=this._valueWindow;\"none\"!==a\&\&NN(o,function(t){var e=t.getData(),o=e.mapDimension(n,!0);o.length\&\&(\"weakFilter\"===a?e.filterSelf(function(t){for(var i,n,a,s=0;s<o.length;s++){var l=e.get(o[s],t),u=!isNaN(l),h=l<r[0],c=l>r[1];if(u\&\&!h\&\&!c)return!0;u\&\&(a=!0),h\&\&(i=!0),c\&\&(n=!0)}return a\&\&i\&\&n}):NN(o,function(n){if(\"empty\"===a)t.setData(e.map(n,function(t){return i(t)?t:NaN}));else{var o={};o[n]=r,e.selectRange(o)}}),NN(o,function(t){e.setApproximateExtent(r,t)}))})}}};var RN=d,zN=PN,BN=Bs({type:\"dataZoom\",dependencies:[\"xAxis\",\"yAxis\",\"zAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"series\"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:\"filter\",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=[\"percent\",\"percent\"];var n=Ly(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=Ly(t);n(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;z_.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),ky(this,t),RN([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t,i){\"value\"===this._rangePropMode[i]\&\&(e[t[0]]=null)},this),this.textStyleModel=this.getModel(\"textStyle\"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var a=this.dependentModels[e.axis][i],r=a.__dzAxisProxy||(a.__dzAxisProxy=new EN(e.name,i,this,o));t[e.name+\"_\"+i]=r},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();zN(function(e){var i=e.axisIndex;t[i]=Di(t[i])},this),\"axisIndex\"===e?this._autoSetAxisIndex():\"orient\"===e\&\&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;zN(function(i){null!=t[i.axisIndex]\&\&(e=!0)},this);var i=t.orient;return null==i\&\&e?\"orient\":e?void 0:(null==i\&\&(t.orient=\"horizontal\"),\"axisIndex\")},_autoSetAxisIndex:function(){var t=!0,e=this.get(\"orient\",!0),i=this.option,n=this.dependentModels;if(t){var o=\"vertical\"===e?\"y\":\"x\";n[o+\"Axis\"].length?(i[o+\"AxisIndex\"]=[0],t=!1):RN(n.singleAxis,function(n){t\&\&n.get(\"orient\",!0)===e\&\&(i.singleAxisIndex=[n.componentIndex],t=!1)})}t\&\&zN(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length\&\&!n.length)for(var a=0,r=o.length;a<r;a++)\"category\"===o[a].get(\"type\")\&\&n.push(a);i[e.axisIndex]=n,n.length\&\&(t=!1)}},this),t\&\&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,\"value\")\&\&zN(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex),a=t.get(e.axisId);l(n,o=t.ecModel.queryComponents({mainType:e.axis,index:o,id:a})[0].componentIndex)<0\&\&n.push(o)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t\&\&(t=e.name)},this),this.option.orient=\"y\"===t?\"vertical\":\"horizontal\"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return zN(function(n){var o=t.get(n.axisIndex),a=this.dependentModels[n.axis][o];a\&\&a.get(\"type\")===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty(\"throttle\")\&\&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation\&\&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return zN(function(e){if(null==t){var i=this.get(e.axisIndex);i.length\&\&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;zN(function(n){RN(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+\"_\"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i\&\&i.getAxisModel()},setRawRange:function(t,e){var i=this.option;RN([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(e){null==t[e[0]]\&\&null==t[e[1]]||(i[e[0]]=t[e[0]],i[e[1]]=t[e[1]])},this),!e\&\&ky(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)\&\&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)\&\&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),VN=EI.extend({type:\"dataZoom\",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){function t(t,e,i,n){for(var o,a=0;a<i.length;a++)if(i[a].model===t){o=i[a];break}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n={};return e.eachTargetAxis(function(e,o){var a=i.getComponent(e.axis,o);if(a){var r=a.getCoordSysModel();r\&\&t(r,a,n[r.mainType]||(n[r.mainType]=[]),r.componentIndex)}},this),n}}),GN=(BN.extend({type:\"dataZoom.slider\",layoutMode:\"box\",defaultOption:{show:!0,right:\"ph\",top:\"ph\",width:\"ph\",height:\"ph\",left:null,bottom:null,backgroundColor:\"rgba(47,69,84,0)\",dataBackground:{lineStyle:{color:\"#2f4554\",width:.5,opacity:.3},areaStyle:{color:\"rgba(47,69,84,0.3)\",opacity:.3}},borderColor:\"#ddd\",fillerColor:\"rgba(167,183,204,0.4)\",handleIcon:\"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z\",handleSize:\"100%\",handleStyle:{color:\"#a7b7cc\"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:\"auto\",realtime:!0,zoomLock:!1,textStyle:{color:\"#333\"}}}),aM),FN=Eo,WN=Bo,HN=m,ZN=d,UN=\"horizontal\",XN=5,jN=[\"line\",\"bar\",\"candlestick\",\"scatter\"],YN=VN.extend({type:\"dataZoom.slider\",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){YN.superApply(this,\"render\",arguments),Lr(this,\"_dispatchZoomAction\",this.dataZoomModel.get(\"throttle\"),\"fixRate\"),this._orient=t.get(\"orient\"),!1!==this.dataZoomModel.get(\"show\")?(n\&\&\"dataZoom\"===n.type\&\&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){YN.superApply(this,\"remove\",arguments),kr(this,\"_dispatchZoomAction\")},dispose:function(){YN.superApply(this,\"dispose\",arguments),kr(this,\"_dispatchZoomAction\")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Zw;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},o=this._orient===UN?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=da(t.option);d([\"right\",\"top\",\"width\",\"height\"],function(t){\"ph\"===a[t]\&\&(a[t]=o[t])});var r=la(a,n,t.padding);this._location={x:r.x,y:r.y},this._size=[r.width,r.height],\"vertical\"===this._orient\&\&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n\&\&n.get(\"inverse\"),a=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==UN||o?i===UN\&\&o?{scale:r?[-1,1]:[-1,-1]}:\"vertical\"!==i||o?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr(\"position\",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new GN({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get(\"backgroundColor\")},z2:-40})),i.add(new GN({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:\"transparent\"},z2:0,onclick:m(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var a=n.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,u=[0,e[1]],h=[0,e[0]],c=[[e[0],0],[0,0]],d=[],f=h[1]/(n.count()-1),p=0,g=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(g>0\&\&e%g)p+=f;else{var i=null==t||isNaN(t)||\"\"===t,n=i?0:FN(t,a,u,!0);i\&\&!l\&\&e?(c.push([c[c.length-1][0],0]),d.push([d[d.length-1][0],0])):!i\&\&l\&\&(c.push([p,0]),d.push([p,0])),c.push([p,n]),d.push([p,n]),p+=f,l=i}});var m=this.dataZoomModel;this._displayables.barGroup.add(new nM({shape:{points:c},style:r({fill:m.get(\"dataBackgroundColor\")},m.getModel(\"dataBackground.areaStyle\").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new oM({shape:{points:d},style:m.getModel(\"dataBackground.lineStyle\").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get(\"showDataShadow\");if(!1!==e){var i,n=this.ecModel;return t.eachTargetAxis(function(o,a){d(t.getAxisProxy(o.name,a).getTargetSeriesModels(),function(t){if(!(i||!0!==e\&\&l(jN,t.get(\"type\"))<0)){var r,s=n.getComponent(o.axis,a).axis,u=Py(o.name),h=t.coordinateSystem;null!=u\&\&h.getOtherAxis\&\&(r=h.getOtherAxis(s).inverse),u=t.getData().mapDimension(u),i={thisAxis:s,series:t,thisDim:o.name,otherDim:u,otherAxisInverse:r}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;n.add(t.filler=new GN({draggable:!0,cursor:Ny(this._orient),drift:HN(this._onDragMove,this,\"all\"),onmousemove:function(t){lw(t.event)},ondragstart:HN(this._showDataInfo,this,!0),ondragend:HN(this._onDragEnd,this),onmouseover:HN(this._showDataInfo,this,!0),onmouseout:HN(this._showDataInfo,this,!1),style:{fill:a.get(\"fillerColor\"),textPosition:\"inside\"}})),n.add(new GN(jn({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get(\"dataBackgroundColor\")||a.get(\"borderColor\"),lineWidth:1,fill:\"rgba(0,0,0,0)\"}}))),ZN([0,1],function(t){var o=Co(a.get(\"handleIcon\"),{cursor:Ny(this._orient),draggable:!0,drift:HN(this._onDragMove,this,t),onmousemove:function(t){lw(t.event)},ondragend:HN(this._onDragEnd,this),onmouseover:HN(this._showDataInfo,this,!0),onmouseout:HN(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),r=o.getBoundingRect();this._handleHeight=Ro(a.get(\"handleSize\"),this._size[1]),this._handleWidth=r.width/r.height*this._handleHeight,o.setStyle(a.getModel(\"handleStyle\").getItemStyle());var s=a.get(\"handleColor\");null!=s\&\&(o.style.fill=s),n.add(e[t]=o);var l=a.textStyleModel;this.group.add(i[t]=new qS({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textVerticalAlign:\"middle\",textAlign:\"center\",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[FN(t[0],[0,100],e,!0),FN(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];EL(e,n,o,i.get(\"zoomLock\")?\"all\":t,null!=a.minSpan?FN(a.minSpan,r,o,!0):null,null!=a.maxSpan?FN(a.maxSpan,r,o,!0):null);var s=this._range,l=this._range=WN([FN(n[0],o,r,!0),FN(n[1],o,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,i=this._handleEnds,n=WN(i.slice()),o=this._size;ZN([0,1],function(t){var n=e.handles[t],a=this._handleHeight;n.attr({scale:[a/2,a/2],position:[i[t],o[1]/2-a/2]})},this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=Mo(n.handles[t].parent,this.group),i=To(0===t?\"right\":\"left\",e),s=this._handleWidth/2+XN,l=Io([c[t]+(0===t?-s:s),this._size[1]/2],e);o[t].setStyle({x:l[0],y:l[1],textVerticalAlign:a===UN?\"middle\":i,textAlign:a===UN?i:\"center\",text:r[t]})}var i=this.dataZoomModel,n=this._displayables,o=n.handleLabels,a=this._orient,r=[\"\",\"\"];if(i.get(\"showDetail\")){var s=i.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,h=t?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();r=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var c=WN(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get(\"labelFormatter\"),o=i.get(\"labelPrecision\");null!=o\&\&\"auto\"!==o||(o=e.getPixelPrecision());var a=null==t||isNaN(t)?\"\":\"category\"===e.type||\"time\"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return x(n)?n(t,a):_(n)?n.replace(\"{value}\",a):a},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr(\"invisible\",!t),e[1].attr(\"invisible\",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=Io([e,i],this._displayables.barGroup.getLocalTransform(),!0),o=this._updateInterval(t,n[0]),a=this.dataZoomModel.get(\"realtime\");this._updateView(!a),o\&\&a\&\&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get(\"realtime\")\&\&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,a=this._updateInterval(\"all\",i[0]-o);this._updateView(),a\&\&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:\"dataZoom\",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(ZN(this.getTargetCoordInfo(),function(e){if(!t\&\&e.length){var i=e[0].model.coordinateSystem;t=i.getRect\&\&i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}});BN.extend({type:\"dataZoom.inside\",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var qN=\"\\0_ec_dataZoom_roams\",KN=m,\$N=VN.extend({type:\"dataZoom.inside\",init:function(t,e){this._range},render:function(t,e,i,n){\$N.superApply(this,\"render\",arguments),this._range=t.getPercentRange(),d(this.getTargetCoordInfo(),function(e,n){var o=f(e,function(t){return Ry(t.model)});d(e,function(e){var a=e.model,r={};d([\"pan\",\"zoom\",\"scrollMove\"],function(t){r[t]=KN(JN[t],this,e,n)},this),Oy(i,{coordId:Ry(a),allCoordIds:o,containsPoint:function(t,e,i){return a.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,dataZoomModel:t,getRange:r})},this)},this)},dispose:function(){Ey(this.api,this.dataZoomModel.id),\$N.superApply(this,\"dispose\",arguments),this._range=null}}),JN={zoom:function(t,e,i,n){var o=this._range,a=o.slice(),r=t.axisModels[0];if(r){var s=QN[e](null,[n.originX,n.originY],r,i,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return EL(0,a,[0,100],0,h.minSpan,h.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:Wy(function(t,e,i,n,o,a){var r=QN[n]([a.oldX,a.oldY],[a.newX,a.newY],e,o,i);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength}),scrollMove:Wy(function(t,e,i,n,o,a){return QN[n]([0,0],[a.scrollDelta,a.scrollDelta],e,o,i).signal*(t[1]-t[0])*a.scrollDelta})},QN={grid:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],\"x\"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),\"radiusAxis\"===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,i,n,o){var a=i.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],\"horizontal\"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}};ks({getTargetSeries:function(t){var e=R();return t.eachComponent(\"dataZoom\",function(t){t.eachTargetAxis(function(t,i,n){d(n.getAxisProxy(t.name,i).getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent(\"dataZoom\",function(t){t.eachTargetAxis(function(t,i,n){n.getAxisProxy(t.name,i).reset(n,e)}),t.eachTargetAxis(function(t,i,n){n.getAxisProxy(t.name,i).filterData(n,e)})}),t.eachComponent(\"dataZoom\",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)})}}),Ps(\"dataZoom\",function(t,e){var i=Iy(m(e.eachComponent,e,\"dataZoom\"),PN,function(t,e){return t.get(e.axisIndex)}),n=[];e.eachComponent({mainType:\"dataZoom\",query:t},function(t,e){n.push.apply(n,i(t).nodes)}),d(n,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var tO=d,eO=function(t){var e=t\&\&t.visualMap;y(e)||(e=e?[e]:[]),tO(e,function(t){if(t){Hy(t,\"splitList\")\&\&!Hy(t,\"pieces\")\&\&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e\&\&y(e)\&\&tO(e,function(t){w(t)\&\&(Hy(t,\"start\")\&\&!Hy(t,\"min\")\&\&(t.min=t.start),Hy(t,\"end\")\&\&!Hy(t,\"max\")\&\&(t.max=t.end))})}})};YM.registerSubTypeDefaulter(\"visualMap\",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)\&\&!t.calculable?\"piecewise\":\"continuous\"});var iO=IT.VISUAL.COMPONENT;Es(iO,{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent(\"visualMap\",function(e){var n=t.pipelineContext;!e.isTargetSeries(t)||n\&\&n.large||i.push(qv(e.stateList,e.targetVisuals,m(e.getValueState,e),e.getDataDimension(t.getData())))}),i}}),Es(iO,{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent(\"visualMap\",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(m(Zy,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimension(i),r=i.getDimensionInfo(a);null!=r\&\&(o.dimension=r.index,n.push(o))}}),t.getData().setVisual(\"visualMeta\",n)}});var nO={get:function(t,e,n){var o=i((oO[t]||{})[e]);return n\&\&y(o)?o[o.length-1]:o}},oO={color:{active:[\"#006edd\",\"#e0ffff\"],inactive:[\"rgba(0,0,0,0)\"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[\"circle\",\"roundRect\",\"diamond\"],inactive:[\"none\"]},symbolSize:{active:[10,50],inactive:[0,0]}},aO=jC.mapVisual,rO=jC.eachVisual,sO=y,lO=d,uO=Bo,hO=Eo,cO=B,dO=Bs({type:\"visualMap\",dependencies:[\"series\"],stateList:[\"inRange\",\"outOfRange\"],replacableOptionKeys:[\"inRange\",\"outOfRange\",\"target\",\"controller\",\"color\"],dataBound:[-1/0,1/0],layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:\"all\",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:\"vertical\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",contentColor:\"#5793f3\",inactiveColor:\"#aaa\",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:\"#333\"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;z_.canvasSupported||(i.realtime=!1),!e\&\&jv(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel(\"textStyle\"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=m(t,this),this.controllerVisuals=Xv(this.option.controller,e,t),this.targetVisuals=Xv(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||\"all\"===t?this.ecModel.eachSeries(function(t,i){e.push(i)}):e=Di(t),e},eachTargetSeries:function(t,e){d(this.getTargetSeriesIndices(),function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(i){i===t\&\&(e=!0)}),e},formatValueText:function(t,e,i){function n(t){return t===l[0]?\"min\":t===l[1]?\"max\":(+t).toFixed(Math.min(s,20))}var o,a,r=this.option,s=r.precision,l=this.dataBound,u=r.formatter;return i=i||[\"<\",\">\"],y(t)\&\&(t=t.slice(),o=!0),a=e?t:o?[n(t[0]),n(t[1])]:n(t),_(u)?u.replace(\"{value}\",o?a[0]:a).replace(\"{value2}\",o?a[1]:a):x(u)?o?u(t[0],t[1]):u(t):o?t[0]===l[0]?i[0]+\" \"+a[1]:t[1]===l[1]?i[1]+\" \"+a[0]:a[0]+\" - \"+a[1]:a},resetExtent:function(){var t=this.option,e=uO([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length){if(null!=e)return t.getDimension(e);for(var n=t.dimensions,o=n.length-1;o>=0;o--){var a=n[o];if(!t.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){sO(o.color)\&\&!t.inRange\&\&(t.inRange={color:o.color.slice().reverse()}),t.inRange=t.inRange||{color:e.get(\"gradientColor\")},lO(this.stateList,function(e){var i=t[e];if(_(i)){var n=nO.get(i,\"active\",l);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}var e=this.ecModel,o=this.option,a={inRange:o.inRange,outOfRange:o.outOfRange},r=o.target||(o.target={}),s=o.controller||(o.controller={});n(r,a),n(s,a);var l=this.isCategory();t.call(this,r),t.call(this,s),function(t,e,i){var n=t[e],o=t[i];n\&\&!o\&\&(o=t[i]={},lO(n,function(t,e){if(jC.isValidType(e)){var i=nO.get(e,\"inactive\",l);null!=i\&\&(o[e]=i,\"color\"!==e||o.hasOwnProperty(\"opacity\")||o.hasOwnProperty(\"colorAlpha\")||(o.opacity=[0,0]))}}))}.call(this,r,\"inRange\",\"outOfRange\"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,o=this.get(\"inactiveColor\");lO(this.stateList,function(a){var r=this.itemSize,s=t[a];s||(s=t[a]={color:l?o:[o]}),null==s.symbol\&\&(s.symbol=e\&\&i(e)||(l?\"roundRect\":[\"roundRect\"])),null==s.symbolSize\&\&(s.symbolSize=n\&\&i(n)||(l?r[0]:[r[0],r[0]])),s.symbol=aO(s.symbol,function(t){return\"none\"===t||\"square\"===t?\"roundRect\":t});var u=s.symbolSize;if(null!=u){var h=-1/0;rO(u,function(t){t>h\&\&(h=t)}),s.symbolSize=aO(u,function(t){return hO(t,[0,h],[0,r[0]],!0)})}},this)}.call(this,s)},resetItemSize:function(){this.itemSize=[parseFloat(this.get(\"itemWidth\")),parseFloat(this.get(\"itemHeight\"))]},isCategory:function(){return!!this.option.categories},setSelected:cO,getValueState:cO,getVisualMeta:cO}),fO=[20,140],pO=dO.extend({type:\"visualMap.continuous\",defaultOption:{align:\"auto\",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){pO.superApply(this,\"optionUpdated\",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod=\"linear\",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){pO.superApply(this,\"resetItemSize\",arguments);var t=this.itemSize;\"horizontal\"===this._orient\&\&t.reverse(),(null==t[0]||isNaN(t[0]))\&\&(t[0]=fO[0]),(null==t[1]||isNaN(t[1]))\&\&(t[1]=fO[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):y(e)\&\&(e[0]>e[1]\&\&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){dO.prototype.completeVisualOption.apply(this,arguments),d(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e\&\&e[0]!==e[1]\&\&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Bo((this.get(\"range\")||[]).slice());return e[0]>t[1]\&\&(e[0]=t[1]),e[1]>t[1]\&\&(e[1]=t[1]),e[0]<t[0]\&\&(e[0]=t[0]),e[1]<t[0]\&\&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)\&\&(e[1]>=i[1]||t<=e[1])?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){t[0]<=e\&\&e<=t[1]\&\&n.push(i)},this),e.push({seriesId:i.id,dataIndex:n})},this),e},getVisualMeta:function(t){function e(e,i){o.push({value:e,color:t(e,i)})}for(var i=Uy(0,0,this.getExtent()),n=Uy(0,0,this.option.range.slice()),o=[],a=0,r=0,s=n.length,l=i.length;r<l\&\&(!n.length||i[r]<=n[0]);r++)i[r]<n[a]\&\&e(i[r],\"outOfRange\");for(u=1;a<s;a++,u=0)u\&\&o.length\&\&e(n[a],\"outOfRange\"),e(n[a],\"inRange\");for(var u=1;r<l;r++)(!n.length||n[n.length-1]<i[r])\&\&(u\&\&(o.length\&\&e(o[o.length-1].value,\"outOfRange\"),u=0),e(i[r],\"outOfRange\"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:\"transparent\",h?o[h-1].color:\"transparent\"]}}}),gO=Vs({type:\"visualMap\",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){this.visualMapModel=t,!1!==t.get(\"show\")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=OM(e.get(\"padding\")||0),n=t.getBoundingRect();t.add(new aM({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get(\"backgroundColor\"),stroke:e.get(\"borderColor\"),lineWidth:e.get(\"borderWidth\")}}))},getControllerVisual:function(t,e,i){function n(t){return s[t]}function o(t,e){s[t]=e}var a=(i=i||{}).forceState,r=this.visualMapModel,s={};if(\"symbol\"===e\&\&(s.symbol=r.get(\"itemSymbol\")),\"color\"===e){var l=r.get(\"contentColor\");s.color=l}var u=r.controllerVisuals[a||r.getValueState(t)];return d(jC.prepareVisualTypes(u),function(a){var r=u[a];i.convertOpacityToAlpha\&\&\"opacity\"===a\&\&(a=\"colorAlpha\",r=u.__alphaForOpacity),jC.dependsOn(a,e)\&\&r\&\&r.applyVisual(t,n,o)}),s[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;ua(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:B}),mO=Eo,vO=d,yO=Math.min,xO=Math.max,_O=12,wO=6,bO=gO.extend({type:\"visualMap.continuous\",init:function(){bO.superApply(this,\"init\",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n\&\&\"selectDataRange\"===n.type\&\&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get(\"orient\"),this._useHandle=t.get(\"calculable\"),this._resetInterval(),this._renderBar(e);var i=t.get(\"text\");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+\"\":\"\";var o=this.visualMapModel,a=o.get(\"textGap\"),r=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),u=this._applyTransform(0===i?\"bottom\":\"top\",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new qS({style:{x:l[0],y:l[1],textVerticalAlign:\"horizontal\"===h?\"middle\":u,textAlign:\"horizontal\"===h?u:\"center\",text:n,textFont:c.getFont(),textFill:c.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,a=this._useHandle,r=Xy(e,this.api,n),s=i.barGroup=this._createBarGroup(r);s.add(i.outOfRange=Yy()),s.add(i.inRange=Yy(null,a?Qy(this._orient):null,m(this._dragHandle,this,\"all\",!1),m(this._dragHandle,this,\"all\",!0)));var l=e.textStyleModel.getTextRect(\"å›½\"),u=xO(l.width,l.height);a\&\&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(s,0,n,u,o,r),this._createHandle(s,1,n,u,o,r)),this._createIndicator(s,n,u,o),t.add(s)},_createHandle:function(t,e,i,n,o){var a=m(this._dragHandle,this,e,!1),r=m(this._dragHandle,this,e,!0),s=Yy(qy(e,n),Qy(this._orient),a,r);s.position[0]=i[0],t.add(s);var l=this.visualMapModel.textStyleModel,u=new qS({draggable:!0,drift:a,onmousemove:function(t){lw(t.event)},ondragend:r,style:{x:0,y:0,text:\"\",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(u);var h=[\"horizontal\"===o?n/2:1.5*n,\"horizontal\"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],c=this._shapes;c.handleThumbs[e]=s,c.handleLabelPoints[e]=h,c.handleLabels[e]=u},_createIndicator:function(t,e,i,n){var o=Yy([[0,0]],\"move\");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);var a=this.visualMapModel.textStyleModel,r=new qS({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(r);var s=[\"horizontal\"===n?i/2:wO+3,0],l=this._shapes;l.indicator=o,l.indicatorLabel=r,l.indicatorLabelPoint=s},_dragHandle:function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView()}e===!this.visualMapModel.get(\"realtime\")\&\&this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering\&\&this._clearHoverLinkToSeries():Jy(this.visualMapModel)\&\&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[mO(e[0],i,n,!0),mO(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];EL(e,n,o,t,0);var a=i.getExtent();this._dataInterval=[mO(n[0],o,a,!0),mO(n[1],o,a,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,\"inRange\"),s=this._createBarVisual(i,i,o,\"outOfRange\");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape(\"points\",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape(\"points\",s.barPoints),this._updateHandle(a,r)},_createBarVisual:function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],\"symbolSize\",o),this.getControllerVisual(t[1],\"symbolSize\",o)],s=this._createBarPoints(i,r);return{barColor:new dM(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],\"color\",e),offset:0});for(var o=1;o<100;o++){var a=t[0]+n*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,\"color\",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],\"color\",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get(\"inverse\");return new Zw(\"horizontal\"!==e||i?\"horizontal\"===e\&\&i?{scale:\"bottom\"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:\"vertical\"!==e||i?{scale:\"left\"===t?[1,1]:[-1,1]}:{scale:\"left\"===t?[1,-1]:[-1,-1]}:{scale:\"bottom\"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels;vO([0,1],function(r){var s=o[r];s.setStyle(\"fill\",e.handlesColor[r]),s.position[1]=t[r];var l=Io(i.handleLabelPoints[r],Mo(s,this.group));a[r].setStyle({x:l[0],y:l[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:\"middle\",textAlign:this._applyTransform(\"horizontal\"===this._orient?0===r?\"bottom\":\"top\":\"left\",i.barGroup)})},this)}},_showIndicator:function(t,e,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=mO(t,a,s,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=l,h.attr(\"invisible\",!1),h.setShape(\"points\",Ky(!!i,n,l,r[1]));var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,\"color\",c);h.setStyle(\"fill\",d);var f=Io(u.indicatorLabelPoint,Mo(h,this.group)),p=u.indicatorLabel;p.attr(\"invisible\",!1);var g=this._applyTransform(\"left\",u.barGroup),m=this._orient;p.setStyle({text:(i||\"\")+o.formatValueText(e),textVerticalAlign:\"horizontal\"===m?g:\"middle\",textAlign:\"horizontal\"===m?\"center\":g,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on(\"mousemove\",function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);n[1]=yO(xO(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]\&\&n[0]<=i[0])}}).on(\"mouseout\",function(){t._hovering=!1,!t._dragging\&\&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on(\"mouseover\",this._hoverLinkFromSeriesMouseOver,this),t.on(\"mouseout\",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();t=yO(xO(o[0],t),o[1]);var r=\$y(i,a,o),s=[t-r,t+r],l=mO(t,o,a,!0),u=[mO(s[0],o,a,!0),mO(s[1],o,a,!0)];s[0]<o[0]\&\&(u[0]=-1/0),s[1]>o[1]\&\&(u[1]=1/0),e\&\&(u[0]===-1/0?this._showIndicator(l,u[1],\"< \",r):u[1]===1/0?this._showIndicator(l,u[0],\"> \",r):this._showIndicator(l,l,\"â‰ˆ \",r));var h=this._hoverLinkDataIndices,c=[];(e||Jy(i))\&\&(c=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var d=Ri(h,c);this._dispatchHighDown(\"downplay\",jy(d[0])),this._dispatchHighDown(\"highlight\",jy(d[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e\&\&null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(e.dataType),a=o.get(i.getDataDimension(o),e.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var t=this._shapes;t.indicator\&\&t.indicator.attr(\"invisible\",!0),t.indicatorLabel\&\&t.indicatorLabel.attr(\"invisible\",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown(\"downplay\",jy(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off(\"mouseover\",this._hoverLinkFromSeriesMouseOver),t.off(\"mouseout\",this._hideIndicator)},_applyTransform:function(t,e,i,n){var o=Mo(e,n?null:this.group);return bM[y(t)?\"applyTransform\":\"transformDirection\"](t,o,i)},_dispatchHighDown:function(t,e){e\&\&e.length\&\&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});Ps({type:\"selectDataRange\",event:\"dataRangeSelected\",update:\"update\"},function(t,e){e.eachComponent({mainType:\"visualMap\",query:t},function(e){e.setSelected(t.selected)})}),Ls(eO);var SO=dO.extend({type:\"visualMap.piecewise\",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:\"auto\",itemWidth:20,itemHeight:14,itemSymbol:\"roundRect\",pieceList:null,categories:null,splitNumber:5,selectedMode:\"multiple\",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){SO.superApply(this,\"optionUpdated\",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();MO[this._mode].call(this),this._resetSelected(t,e);var o=this.option.categories;this.resetVisual(function(t,e){\"categories\"===n?(t.mappingMethod=\"category\",t.categories=i(o)):(t.dataExtent=this.getExtent(),t.mappingMethod=\"piecewise\",t.pieceList=f(this._pieceList,function(t){var t=i(t);return\"inRange\"!==e\&\&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,i){return t\&\&t[e]\&\&(w(t[e])?t[e].hasOwnProperty(i):t[e]===i)}var e=this.option,i={},n=jC.listVisualTypes(),o=this.isCategory();d(e.pieces,function(t){d(n,function(e){t.hasOwnProperty(e)\&\&(i[e]=1)})}),d(i,function(i,n){var a=0;d(this.stateList,function(i){a|=t(e,i,n)||t(e.target,i,n)},this),!a\&\&d(this.stateList,function(t){(e[t]||(e[t]={}))[n]=nO.get(n,\"inRange\"===t?\"active\":\"inactive\",o)})},this),dO.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,d(n,function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0)},this),\"single\"===i.selectedMode){var a=!1;d(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]\&\&(a?o[i]=!1:a=!0)},this)}},getSelectedMapKey:function(t){return\"categories\"===this._mode?t.value+\"\":t.index+\"\"},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces\&\&t.pieces.length>0?\"pieces\":this.option.categories?\"categories\":\"splitNumber\"},setSelected:function(t){this.option.selected=i(t)},getValueState:function(t){var e=jC.findPieceIndex(t,this._pieceList);return null!=e\&\&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){jC.findPieceIndex(e,this._pieceList)===t\&\&n.push(i)},this),e.push({seriesId:i.id,dataIndex:n})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0\&\&i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(t){function e(e,a){var r=o.getRepresentValue({interval:e});a||(a=o.getValueState(r));var s=t(r,a);e[0]===-1/0?n[0]=s:e[1]===1/0?n[1]=s:i.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var i=[],n=[],o=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0\&\&a.unshift({interval:[-1/0,r]}),(r=a[a.length-1].interval[1])!==1/0\&\&a.push({interval:[r,1/0]})}else a.push({interval:[-1/0,1/0]});var s=-1/0;return d(a,function(t){var i=t.interval;i\&\&(i[0]>s\&\&e([s,i[0]],\"outOfRange\"),e(i.slice()),s=i[1])},this),{stops:i,outerColors:n}}}}),MO={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var a=(n[1]-n[0])/o;+a.toFixed(i)!==a\&\&i<5;)i++;t.precision=i,a=+a.toFixed(i);var r=0;t.minOpen\&\&e.push({index:r++,interval:[-1/0,n[0]],close:[0,0]});for(var s=n[0],l=r+o;r<l;s+=a){var u=r===o-1?n[1]:s+a;e.push({index:r++,interval:[s,u],close:[1,1]})}t.maxOpen\&\&e.push({index:r++,interval:[n[1],1/0],close:[0,0]}),qo(e),d(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;d(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),tx(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;d(t.pieces,function(t,i){w(t)||(t={value:t});var n={text:\"\",index:i};if(null!=t.label\&\&(n.text=t.label),t.hasOwnProperty(\"value\")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1]}else{for(var a=n.interval=[],r=n.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],h=0;h<2;h++){for(var c=[[\"gte\",\"gt\",\"min\"],[\"lte\",\"lt\",\"max\"]][h],d=0;d<3\&\&null==a[h];d++)a[h]=t[c[d]],r[h]=s[d],u[h]=2===d;null==a[h]\&\&(a[h]=l[h])}u[0]\&\&a[1]===1/0\&\&(r[0]=0),u[1]\&\&a[0]===-1/0\&\&(r[1]=0),a[0]===a[1]\&\&r[0]\&\&r[1]\&\&(n.value=a[0])}n.visual=jC.retrieveVisuals(t),e.push(n)},this),tx(t,e),qo(e),d(e,function(t){var e=t.close,i=[[\"<\",\"â‰¤\"][e[1]],[\">\",\"â‰¥\"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}};gO.extend({type:\"visualMap.piecewise\",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get(\"textGap\"),n=e.textStyleModel,o=n.getFont(),a=n.getTextColor(),r=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,h=T(e.get(\"showLabel\",!0),!u);u\&\&this._renderEndsText(t,u[0],s,h,r),d(l.viewPieceList,function(n){var l=n.piece,u=new Zw;u.onclick=m(this._onItemClick,this,l),this._enableHoverLink(u,n.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(u,c,[0,0,s[0],s[1]]),h){var d=this.visualMapModel.getValueState(c);u.add(new qS({style:{x:\"right\"===r?-i:s[0]+i,y:s[1]/2,text:l.text,textVerticalAlign:\"middle\",textAlign:r,textFont:o,textFill:a,opacity:\"outOfRange\"===d?.5:1}}))}t.add(u)},this),u\&\&this._renderEndsText(t,u[1],s,h,r),UM(e.get(\"orient\"),t,e.get(\"itemGap\")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink\&\&this.api.dispatchAction({type:t,batch:jy(i.findTargetDataIndices(e))})}t.on(\"mouseover\",m(i,this,\"highlight\")).on(\"mouseout\",m(i,this,\"downplay\"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if(\"vertical\"===e.orient)return Xy(t,this.api,t.itemSize);var i=e.align;return i\&\&\"auto\"!==i||(i=\"left\"),i},_renderEndsText:function(t,e,i,n,o){if(e){var a=new Zw,r=this.visualMapModel.textStyleModel;a.add(new qS({style:{x:n?\"right\"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:\"middle\",textAlign:n?o:\"center\",text:e,textFont:r.getFont(),textFill:r.getTextColor()}})),t.add(a)}},_getViewData:function(){var t=this.visualMapModel,e=f(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get(\"text\"),n=t.get(\"orient\"),o=t.get(\"inverse\");return(\"horizontal\"===n?o:!o)?e.reverse():i\&\&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(Xl(this.getControllerVisual(e,\"symbol\"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,\"color\")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,o=i(n.selected),a=e.getSelectedMapKey(t);\"single\"===n.selectedMode?(o[a]=!0,d(o,function(t,e){o[e]=e===a})):o[a]=!o[a],this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}});Ls(eO);var IO=\$o,TO=Qo,AO=Bs({type:\"marker\",dependencies:[\"series\",\"grid\",\"polar\",\"geo\"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(z_.node)return!1;var t=this.__hostSeries;return this.getShallow(\"animation\")\&\&t\&\&t.isAnimationEnabled()},mergeOption:function(t,e,i,n){var o=this.constructor,r=this.mainType+\"Model\";i||e.eachSeries(function(t){var i=t.get(this.mainType,!0),s=t[r];i\&\&i.data?(s?s.mergeOption(i,e,!0):(n\&\&ex(i),d(i.data,function(t){t instanceof Array?(ex(t[0]),ex(t[1])):ex(t)}),a(s=new o(i,this,e),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),t[r]=s):t[r]=null},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=y(i)?f(i,IO).join(\", \"):IO(i),o=e.getName(t),a=TO(this.name);return(null!=i||o)\&\&(a+=\"<br />\"),o\&\&(a+=TO(o),null!=i\&\&(a+=\" : \")),null!=i\&\&(a+=TO(n)),a},getData:function(){return this._data},setData:function(t){this._data=t}});h(AO,LI),AO.extend({type:\"markPoint\",defaultOption:{zlevel:0,z:5,symbol:\"pin\",symbolSize:50,tooltip:{trigger:\"item\"},label:{show:!0,position:\"inside\"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var DO=l,CO=v,LO={min:CO(ox,\"min\"),max:CO(ox,\"max\"),average:CO(ox,\"average\")},kO=Vs({type:\"marker\",init:function(){this.markerGroupMap=R()},render:function(t,e,i){var n=this.markerGroupMap;n.each(function(t){t.__keep=!1});var o=this.type+\"Model\";e.eachSeries(function(t){var n=t[o];n\&\&this.renderSeries(t,n,e,i)},this),n.each(function(t){!t.__keep\&\&this.group.remove(t.group)},this)},renderSeries:function(){}});kO.extend({type:\"markPoint\",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e\&\&(cx(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,i,n){var o=t.coordinateSystem,a=t.id,r=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,new Su),u=dx(o,t,e);e.setData(u),cx(e.getData(),t,n),u.each(function(t){var i=u.getItemModel(t),n=i.getShallow(\"symbolSize\");\"function\"==typeof n\&\&(n=n(e.getRawValue(t),e.getDataParams(t))),u.setItemVisual(t,{symbolSize:n,color:i.get(\"itemStyle.color\")||r.getVisual(\"color\"),symbol:i.getShallow(\"symbol\")})}),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get(\"silent\")||t.get(\"silent\")}}),Ls(function(t){t.markPoint=t.markPoint||{}}),AO.extend({type:\"markLine\",defaultOption:{zlevel:0,z:5,symbol:[\"circle\",\"arrow\"],symbolSize:[8,16],precision:2,tooltip:{trigger:\"item\"},label:{show:!0,position:\"end\"},lineStyle:{type:\"dashed\"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:\"linear\"}});var PO=function(t,e,o,r){var s=t.getData(),l=r.type;if(!y(r)\&\&(\"min\"===l||\"max\"===l||\"average\"===l||\"median\"===l||null!=r.xAxis||null!=r.yAxis)){var u,h;if(null!=r.yAxis||null!=r.xAxis)u=null!=r.yAxis?\"y\":\"x\",e.getAxis(u),h=T(r.yAxis,r.xAxis);else{var c=rx(r,s,e,t);u=c.valueDataDim,c.valueAxis,h=hx(s,u,l)}var d=\"x\"===u?0:1,f=1-d,p=i(r),g={};p.type=null,p.coord=[],g.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var m=o.get(\"precision\");m>=0\&\&\"number\"==typeof h\&\&(h=+h.toFixed(Math.min(m,20))),p.coord[d]=g.coord[d]=h,r=[p,g,{type:l,valueIndex:r.valueIndex,value:h}]}return r=[ax(t,r[0]),ax(t,r[1]),a({},r[2])],r[2].type=r[2].type||\"\",n(r[2],r[0]),n(r[2],r[1]),r};kO.extend({type:\"markLine\",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,a=e.__to;o.each(function(e){mx(o,e,!0,t,i),mx(a,e,!1,t,i)}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),a.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,i,n){function o(e,i,o){var a=e.getItemModel(i);mx(e,i,o,t,n),e.setItemVisual(i,{symbolSize:a.get(\"symbolSize\")||g[o?0:1],symbol:a.get(\"symbol\",!0)||p[o?0:1],color:a.get(\"itemStyle.color\")||s.getVisual(\"color\")})}var a=t.coordinateSystem,r=t.id,s=t.getData(),l=this.markerGroupMap,u=l.get(r)||l.set(r,new Jd);this.group.add(u.group);var h=vx(a,t,e),c=h.from,d=h.to,f=h.line;e.__from=c,e.__to=d,e.setData(f);var p=e.get(\"symbol\"),g=e.get(\"symbolSize\");y(p)||(p=[p,p]),\"number\"==typeof g\&\&(g=[g,g]),h.from.each(function(t){o(c,t,!0),o(d,t,!1)}),f.each(function(t){var e=f.getItemModel(t).get(\"lineStyle.color\");f.setItemVisual(t,{color:e||c.getItemVisual(t,\"color\")}),f.setItemLayout(t,[c.getItemLayout(t),d.getItemLayout(t)]),f.setItemVisual(t,{fromSymbolSize:c.getItemVisual(t,\"symbolSize\"),fromSymbol:c.getItemVisual(t,\"symbol\"),toSymbolSize:d.getItemVisual(t,\"symbolSize\"),toSymbol:d.getItemVisual(t,\"symbol\")})}),u.updateData(f),h.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0,u.group.silent=e.get(\"silent\")||t.get(\"silent\")}}),Ls(function(t){t.markLine=t.markLine||{}}),AO.extend({type:\"markArea\",defaultOption:{zlevel:0,z:1,tooltip:{trigger:\"item\"},animation:!1,label:{show:!0,position:\"top\"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:\"top\"}}}});var NO=function(t,e,i,n){var a=ax(t,n[0]),r=ax(t,n[1]),s=T,l=a.coord,u=r.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var h=o([{},a,r]);return h.coord=[a.coord,r.coord],h.x0=a.x,h.y0=a.y,h.x1=r.x,h.y1=r.y,h},OO=[[\"x0\",\"y0\"],[\"x1\",\"y0\"],[\"x1\",\"y1\"],[\"x0\",\"y1\"]];kO.extend({type:\"markArea\",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var n=e.getData();n.each(function(e){var o=f(OO,function(o){return bx(n,e,o,t,i)});n.setItemLayout(e,o),n.getItemGraphicEl(e).setShape(\"points\",o)})}},this)},renderSeries:function(t,e,i,n){var o=t.coordinateSystem,a=t.id,s=t.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{group:new Zw});this.group.add(u.group),u.__keep=!0;var h=Sx(o,t,e);e.setData(h),h.each(function(e){h.setItemLayout(e,f(OO,function(i){return bx(h,e,i,t,n)})),h.setItemVisual(e,{color:s.getVisual(\"color\")})}),h.diff(u.__data).add(function(t){var e=new nM({shape:{points:h.getItemLayout(t)}});h.setItemGraphicEl(t,e),u.group.add(e)}).update(function(t,i){var n=u.__data.getItemGraphicEl(i);bo(n,{shape:{points:h.getItemLayout(t)}},e,t),u.group.add(n),h.setItemGraphicEl(t,n)}).remove(function(t){var e=u.__data.getItemGraphicEl(t);u.group.remove(e)}).execute(),h.eachItemGraphicEl(function(t,i){var n=h.getItemModel(i),o=n.getModel(\"label\"),a=n.getModel(\"emphasis.label\"),s=h.getItemVisual(i,\"color\");t.useStyle(r(n.getModel(\"itemStyle\").getItemStyle(),{fill:Ut(s,.4),stroke:s})),t.hoverStyle=n.getModel(\"emphasis.itemStyle\").getItemStyle(),co(t.style,t.hoverStyle,o,a,{labelFetcher:e,labelDataIndex:i,defaultText:h.getName(i)||\"\",isRectText:!0,autoColor:s}),uo(t,{}),t.dataModel=e}),u.__data=h,u.group.silent=e.get(\"silent\")||t.get(\"silent\")}}),Ls(function(t){t.markArea=t.markArea||{}});YM.registerSubTypeDefaulter(\"timeline\",function(){return\"slider\"}),Ps({type:\"timelineChange\",event:\"timelineChanged\",update:\"prepareAndUpdate\"},function(t,e){var i=e.getComponent(\"timeline\");return i\&\&null!=t.currentIndex\&\&(i.setCurrentIndex(t.currentIndex),!i.get(\"loop\",!0)\&\&i.isIndexMax()\&\&i.setPlayState(!1)),e.resetOption(\"timeline\"),r({currentIndex:i.option.currentIndex},t)}),Ps({type:\"timelinePlayChange\",event:\"timelinePlayChanged\",update:\"update\"},function(t,e){var i=e.getComponent(\"timeline\");i\&\&null!=t.playState\&\&i.setPlayState(t.playState)});var EO=YM.extend({type:\"timeline\",layoutMode:\"box\",defaultOption:{zlevel:0,z:4,show:!0,axisType:\"time\",realtime:!0,left:\"20%\",top:null,right:\"20%\",bottom:0,width:null,height:40,padding:5,controlPosition:\"left\",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:\"#000\"},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){EO.superApply(this,\"mergeOption\",arguments),this._initData()},setCurrentIndex:function(t){null==t\&\&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e\&\&(t=e-1),t<0\&\&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,o=this._names=[];if(\"category\"===n){var a=[];d(e,function(t,e){var n,r=Li(t);w(t)?(n=i(t)).value=e:n=e,a.push(n),_(r)||null!=r\&\&!isNaN(r)||(r=\"\"),o.push(r+\"\")}),e=a}var r={category:\"ordinal\",time:\"time\"}[n]||\"number\";(this._data=new eA([{name:\"value\",type:r}],this)).initData(e,o)},getData:function(){return this._data},getCategories:function(){if(\"category\"===this.get(\"axisType\"))return this._names.slice()}});h(EO.extend({type:\"timeline.slider\",defaultOption:{backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,orient:\"horizontal\",inverse:!1,tooltip:{trigger:\"item\"},symbol:\"emptyCircle\",symbolSize:10,lineStyle:{show:!0,width:2,color:\"#304654\"},label:{position:\"auto\",show:!0,interval:\"auto\",rotate:0,color:\"#304654\"},itemStyle:{color:\"#304654\",borderWidth:1},checkpointStyle:{symbol:\"circle\",symbolSize:13,color:\"#c23531\",borderWidth:5,borderColor:\"rgba(194,53,49, 0.5)\",animation:!0,animationDuration:300,animationEasing:\"quinticInOut\"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:\"left\",playIcon:\"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z\",stopIcon:\"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z\",nextIcon:\"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z\",prevIcon:\"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z\",color:\"#304654\",borderColor:\"#304654\",borderWidth:1},emphasis:{label:{show:!0,color:\"#c23531\"},itemStyle:{color:\"#c23531\"},controlStyle:{color:\"#c23531\",borderColor:\"#c23531\",borderWidth:2}},data:[]}}),LI);var RO=EI.extend({type:\"timeline\"}),zO=function(t,e,i,n){HA.call(this,t,e,i),this.type=n||\"value\",this.model=null};zO.prototype={constructor:zO,getLabelModel:function(){return this.model.getModel(\"label\")},isHorizontal:function(){return\"horizontal\"===this.model.get(\"orient\")}},u(zO,HA);var BO=m,VO=d,GO=Math.PI;RO.extend({type:\"timeline.slider\",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get(\"show\",!0)){var o=this._layout(t,i),a=this._createGroup(\"mainGroup\"),r=this._createGroup(\"labelGroup\"),s=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return Qo(s.scale.getLabel(t))},VO([\"AxisLine\",\"AxisTick\",\"Control\",\"CurrentPointer\"],function(e){this[\"_render\"+e](o,a,s,t)},this),this._renderAxisLabel(o,r,s,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get(\"label.position\"),n=t.get(\"orient\"),o=Ax(t,e);null==i||\"auto\"===i?i=\"horizontal\"===n?o.y+o.height/2<e.getHeight()/2?\"-\":\"+\":o.x+o.width/2<e.getWidth()/2?\"+\":\"-\":isNaN(i)\&\&(i={horizontal:{top:\"-\",bottom:\"+\"},vertical:{left:\"-\",right:\"+\"}}[n][i]);var a={horizontal:\"center\",vertical:i>=0||\"+\"===i?\"left\":\"right\"},r={horizontal:i>=0||\"+\"===i?\"top\":\"bottom\",vertical:\"middle\"},s={horizontal:0,vertical:GO/2},l=\"vertical\"===n?o.height:o.width,u=t.getModel(\"controlStyle\"),h=u.get(\"show\",!0),c=h?u.get(\"itemSize\"):0,d=h?u.get(\"itemGap\"):0,f=c+d,p=t.get(\"label.rotate\")||0;p=p*GO/180;var g,m,v,y,x=u.get(\"position\",!0),_=h\&\&u.get(\"showPlayBtn\",!0),w=h\&\&u.get(\"showPrevBtn\",!0),b=h\&\&u.get(\"showNextBtn\",!0),S=0,M=l;return\"left\"===x||\"bottom\"===x?(_\&\&(g=[0,0],S+=f),w\&\&(m=[S,0],S+=f),b\&\&(v=[M-c,0],M-=f)):(_\&\&(g=[M-c,0],M-=f),w\&\&(m=[0,0],S+=f),b\&\&(v=[M-c,0],M-=f)),y=[S,M],t.get(\"inverse\")\&\&y.reverse(),{viewRect:o,mainLength:l,orient:n,rotation:s[n],labelRotation:p,labelPosOpt:i,labelAlign:t.get(\"label.align\")||a[n],labelBaseline:t.get(\"label.verticalAlign\")||t.get(\"label.baseline\")||r[n],playPosition:g,prevBtnPosition:m,nextBtnPosition:v,axisExtent:y,controlSize:c,controlGap:d}},_position:function(t,e){function i(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}var a=this._mainGroup,r=this._labelGroup,s=t.viewRect;if(\"vertical\"===t.orient){var l=mt(),u=s.x,h=s.y+s.height;_t(l,l,[-u,-h]),wt(l,l,-GO/2),_t(l,l,[u,h]),(s=s.clone()).applyTransform(l)}var c=n(s),d=n(a.getBoundingRect()),f=n(r.getBoundingRect()),p=a.position,g=r.position;g[0]=p[0]=c[0][0];var m=t.labelPosOpt;if(isNaN(m))o(p,d,c,1,v=\"+\"===m?0:1),o(g,f,c,1,1-v);else{var v=m>=0?0:1;o(p,d,c,1,v),g[1]=p[1]+m}a.attr(\"position\",p),r.attr(\"position\",g),a.rotation=r.rotation=t.rotation,i(a),i(r)},_createAxis:function(t,e){var i=e.getData(),n=e.get(\"axisType\"),o=Vl(e,n);o.getTicks=function(){return i.mapArray([\"value\"],function(t){return t})};var a=i.getDataExtent(\"value\");o.setExtent(a[0],a[1]),o.niceTicks();var r=new zO(\"value\",o,t.axisExtent,n);return r.model=e,r},_createGroup:function(t){var e=this[\"_\"+t]=new Zw;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var o=i.getExtent();n.get(\"lineStyle.show\")\&\&e.add(new rM({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:a({lineCap:\"round\"},n.getModel(\"lineStyle\").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var o=n.getData(),a=i.scale.getTicks();VO(a,function(t){var a=i.dataToCoord(t),r=o.getItemModel(t),s=r.getModel(\"itemStyle\"),l=r.getModel(\"emphasis.itemStyle\"),u={position:[a,0],onclick:BO(this._changeTimeline,this,t)},h=Cx(r,s,e,u);uo(h,l.getItemStyle()),r.get(\"tooltip\")?(h.dataIndex=t,h.dataModel=n):h.dataIndex=h.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){if(i.getLabelModel().get(\"show\")){var o=n.getData(),a=i.getViewLabels();VO(a,function(n){var a=n.tickValue,r=o.getItemModel(a),s=r.getModel(\"label\"),l=r.getModel(\"emphasis.label\"),u=i.dataToCoord(n.tickValue),h=new qS({position:[u,0],rotation:t.labelRotation-t.rotation,onclick:BO(this._changeTimeline,this,a),silent:!1});fo(h.style,s,{text:n.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(h),uo(h,fo({},l))},this)}},_renderControl:function(t,e,i,n){function o(t,i,o,h){if(t){var c=Dx(n,i,u,{position:t,origin:[a/2,0],rotation:h?-r:0,rectHover:!0,style:s,onclick:o});e.add(c),uo(c,l)}}var a=t.controlSize,r=t.rotation,s=n.getModel(\"controlStyle\").getItemStyle(),l=n.getModel(\"emphasis.controlStyle\").getItemStyle(),u=[0,-a/2,a,a],h=n.getPlayState(),c=n.get(\"inverse\",!0);o(t.nextBtnPosition,\"controlStyle.nextIcon\",BO(this._changeTimeline,this,c?\"-\":\"+\")),o(t.prevBtnPosition,\"controlStyle.prevIcon\",BO(this._changeTimeline,this,c?\"+\":\"-\")),o(t.playPosition,\"controlStyle.\"+(h?\"stopIcon\":\"playIcon\"),BO(this._handlePlayClick,this,!h),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),a=n.getCurrentIndex(),r=o.getItemModel(a).getModel(\"checkpointStyle\"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=BO(s._handlePointerDrag,s),t.ondragend=BO(s._handlePointerDragend,s),Lx(t,a,i,n,!0)},onUpdate:function(t){Lx(t,a,i,n)}};this._currentPointer=Cx(r,r,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:\"timelinePlayChange\",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=Bo(this._axis.getExtent().slice());i>n[1]\&\&(i=n[1]),i<n[0]\&\&(i=n[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var o=this._findNearestTick(i),a=this.model;(e||o!==a.getCurrentIndex()\&\&a.get(\"realtime\"))\&\&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()\&\&(this._timer=setTimeout(BO(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get(\"rewind\",!0)?-1:1))},this),this.model.get(\"playInterval\")))},_toAxisCoord:function(t){return Io(t,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each([\"value\"],function(i,a){var r=o.dataToCoord(i),s=Math.abs(r-t);s<n\&\&(n=s,e=a)}),e},_clearTimer:function(){this._timer\&\&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();\"+\"===t?t=e+1:\"-\"===t\&\&(t=e-1),this.api.dispatchAction({type:\"timelineChange\",currentIndex:t,from:this.uid})}}),Ls(function(t){var e=t\&\&t.timeline;y(e)||(e=e?[e]:[]),d(e,function(t){t\&\&Mx(t)})});var FO=Bs({type:\"toolbox\",layoutMode:{type:\"box\",ignoreSize:!0},optionUpdated:function(){FO.superApply(this,\"optionUpdated\",arguments),d(this.option.feature,function(t,e){var i=xy(e);i\&\&n(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:\"horizontal\",left:\"right\",top:\"top\",backgroundColor:\"transparent\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:\"#666\",color:\"none\"},emphasis:{iconStyle:{borderColor:\"#3E98C5\"}}}});Vs({type:\"toolbox\",render:function(t,e,i,n){function o(o,r){var s,c=h[o],d=h[r],f=new Lo(l[c],t,t.ecModel);if(c\&\&!d){if(kx(c))s={model:f,onclick:f.option.onclick,featureName:c};else{var p=xy(c);if(!p)return;s=new p(f,e,i)}u[c]=s}else{if(!(s=u[d]))return;s.model=f,s.ecModel=e,s.api=i}c||!d?f.get(\"show\")\&\&!s.unusable?(a(f,s,c),f.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]\&\&n[t].trigger(e)},s.render\&\&s.render(f,e,i,n)):s.remove\&\&s.remove(e,i):s.dispose\&\&s.dispose(e,i)}function a(n,o,a){var l=n.getModel(\"iconStyle\"),u=n.getModel(\"emphasis.iconStyle\"),h=o.getIcons?o.getIcons():n.get(\"icon\"),c=n.get(\"title\")||{};if(\"string\"==typeof h){var f=h,p=c;c={},(h={})[a]=f,c[a]=p}var g=n.iconPaths={};d(h,function(a,h){var d=Co(a,{},{x:-s/2,y:-s/2,width:s,height:s});d.setStyle(l.getItemStyle()),d.hoverStyle=u.getItemStyle(),uo(d),t.get(\"showTitle\")\&\&(d.__title=c[h],d.on(\"mouseover\",function(){var t=u.getItemStyle();d.setStyle({text:c[h],textPosition:t.textPosition||\"bottom\",textFill:t.fill||t.stroke||\"#000\",textAlign:t.textAlign||\"center\"})}).on(\"mouseout\",function(){d.setStyle({textFill:null})})),d.trigger(n.get(\"iconStatus.\"+h)||\"normal\"),r.add(d),d.on(\"click\",m(o.onclick,o,e,i,h)),g[h]=d})}var r=this.group;if(r.removeAll(),t.get(\"show\")){var s=+t.get(\"itemSize\"),l=t.get(\"feature\")||{},u=this._features||(this._features={}),h=[];d(l,function(t,e){h.push(e)}),new Hs(this._featureNames||[],h).add(o).update(o).remove(v(o,null)).execute(),this._featureNames=h,dv(r,t,i),r.add(fv(r.getBoundingRect(),t)),r.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n\&\&e){var o=De(e,He(n)),a=t.position[0]+r.position[0],l=!1;t.position[1]+r.position[1]+s+o.height>i.getHeight()\&\&(n.textPosition=\"top\",l=!0);var u=l?-5-o.height:s+8;a+o.width/2>i.getWidth()?(n.textPosition=[\"100%\",u],n.textAlign=\"right\"):a-o.width/2<0\&\&(n.textPosition=[0,u],n.textAlign=\"left\")}})}},updateView:function(t,e,i,n){d(this._features,function(t){t.updateView\&\&t.updateView(t.model,e,i,n)})},remove:function(t,e){d(this._features,function(i){i.remove\&\&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){d(this._features,function(i){i.dispose\&\&i.dispose(t,e)})}});var WO=XI.toolbox.saveAsImage;Px.defaultOption={show:!0,icon:\"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0\",title:WO.title,type:\"png\",name:\"\",excludeComponents:[\"toolbox\"],pixelRatio:1,lang:WO.lang.slice()},Px.prototype.unusable=!z_.canvasSupported,Px.prototype.onclick=function(t,e){var i=this.model,n=i.get(\"name\")||t.get(\"title.0.text\")||\"echarts\",o=document.createElement(\"a\"),a=i.get(\"type\",!0)||\"png\";o.download=n+\".\"+a,o.target=\"_blank\";var r=e.getConnectedDataURL({type:a,backgroundColor:i.get(\"backgroundColor\",!0)||t.get(\"backgroundColor\")||\"#fff\",excludeComponents:i.get(\"excludeComponents\"),pixelRatio:i.get(\"pixelRatio\")});if(o.href=r,\"function\"!=typeof MouseEvent||z_.browser.ie||z_.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(r.split(\",\")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var h=new Blob([u]);window.navigator.msSaveOrOpenBlob(h,n+\".\"+a)}else{var c=i.get(\"lang\"),d=\'<body style=\"margin:0;\"><img src=\"\'+r+\'\" style=\"max-width:100%;\" title=\"\'+(c\&\&c[0]||\"\")+\'\" /></body>\';window.open().document.write(d)}else{var f=new MouseEvent(\"click\",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(f)}},yy(\"saveAsImage\",Px);var HO=XI.toolbox.magicType;Nx.defaultOption={show:!0,type:[],icon:{line:\"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4\",bar:\"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7\",stack:\"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z\",tiled:\"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z\"},title:i(HO.title),option:{},seriesIndex:{}};var ZO=Nx.prototype;ZO.getIcons=function(){var t=this.model,e=t.get(\"icon\"),i={};return d(t.get(\"type\"),function(t){e[t]\&\&(i[t]=e[t])}),i};var UO={line:function(t,e,i,o){if(\"bar\"===t)return n({id:e,type:\"line\",data:i.get(\"data\"),stack:i.get(\"stack\"),markPoint:i.get(\"markPoint\"),markLine:i.get(\"markLine\")},o.get(\"option.line\")||{},!0)},bar:function(t,e,i,o){if(\"line\"===t)return n({id:e,type:\"bar\",data:i.get(\"data\"),stack:i.get(\"stack\"),markPoint:i.get(\"markPoint\"),markLine:i.get(\"markLine\")},o.get(\"option.bar\")||{},!0)},stack:function(t,e,i,o){if(\"line\"===t||\"bar\"===t)return n({id:e,stack:\"__ec_magicType_stack__\"},o.get(\"option.stack\")||{},!0)},tiled:function(t,e,i,o){if(\"line\"===t||\"bar\"===t)return n({id:e,stack:\"\"},o.get(\"option.tiled\")||{},!0)}},XO=[[\"line\",\"bar\"],[\"stack\",\"tiled\"]];ZO.onclick=function(t,e,i){var n=this.model,o=n.get(\"seriesIndex.\"+i);if(UO[i]){var a={series:[]};d(XO,function(t){l(t,i)>=0\&\&d(t,function(t){n.setIconStatus(t,\"normal\")})}),n.setIconStatus(i,\"emphasis\"),t.eachComponent({mainType:\"series\",query:null==o?null:{seriesIndex:o}},function(e){var o=e.subType,s=e.id,l=UO[i](o,s,e,n);l\&\&(r(l,e.option),a.series.push(l));var u=e.coordinateSystem;if(u\&\&\"cartesian2d\"===u.type\&\&(\"line\"===i||\"bar\"===i)){var h=u.getAxesByScale(\"ordinal\")[0];if(h){var c=h.dim+\"Axis\",d=t.queryComponents({mainType:c,index:e.get(name+\"Index\"),id:e.get(name+\"Id\")})[0].componentIndex;a[c]=a[c]||[];for(var f=0;f<=d;f++)a[c][d]=a[c][d]||{};a[c][d].boundaryGap=\"bar\"===i}}}),e.dispatchAction({type:\"changeMagicType\",currentType:i,newOption:a})}},Ps({type:\"changeMagicType\",event:\"magicTypeChanged\",update:\"prepareAndUpdate\"},function(t,e){e.mergeOption(t.newOption)}),yy(\"magicType\",Nx);var jO=XI.toolbox.dataView,YO=new Array(60).join(\"-\"),qO=\"\\t\",KO=new RegExp(\"[\"+qO+\"]+\",\"g\");Hx.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:\"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28\",title:i(jO.title),lang:i(jO.lang),backgroundColor:\"#fff\",textColor:\"#000\",textareaColor:\"#fff\",textareaBorderColor:\"#333\",buttonColor:\"#c23531\",buttonTextColor:\"#fff\"},Hx.prototype.onclick=function(t,e){function i(){n.removeChild(a),x._dom=null}var n=e.getDom(),o=this.model;this._dom\&\&n.removeChild(this._dom);var a=document.createElement(\"div\");a.style.cssText=\"position:absolute;left:5px;top:5px;bottom:5px;right:5px;\",a.style.backgroundColor=o.get(\"backgroundColor\")||\"#fff\";var r=document.createElement(\"h4\"),s=o.get(\"lang\")||[];r.innerHTML=s[0]||o.get(\"title\"),r.style.cssText=\"margin: 10px 20px;\",r.style.color=o.get(\"textColor\");var l=document.createElement(\"div\"),u=document.createElement(\"textarea\");l.style.cssText=\"display:block;width:100%;overflow:auto;\";var h=o.get(\"optionToContent\"),c=o.get(\"contentToOption\"),d=zx(t);if(\"function\"==typeof h){var f=h(e.getOption());\"string\"==typeof f?l.innerHTML=f:M(f)\&\&l.appendChild(f)}else l.appendChild(u),u.readOnly=o.get(\"readOnly\"),u.style.cssText=\"width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;\",u.style.color=o.get(\"textColor\"),u.style.borderColor=o.get(\"textareaBorderColor\"),u.style.backgroundColor=o.get(\"textareaColor\"),u.value=d.value;var p=d.meta,g=document.createElement(\"div\");g.style.cssText=\"position:absolute;bottom:0;left:0;right:0;\";var m=\"float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px\",v=document.createElement(\"div\"),y=document.createElement(\"div\");m+=\";background-color:\"+o.get(\"buttonColor\"),m+=\";color:\"+o.get(\"buttonTextColor\");var x=this;ut(v,\"click\",i),ut(y,\"click\",function(){var t;try{t=\"function\"==typeof c?c(l,e.getOption()):Wx(u.value,p)}catch(t){throw i(),new Error(\"Data view format error \"+t)}t\&\&e.dispatchAction({type:\"changeDataView\",newOption:t}),i()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!o.get(\"readOnly\")\&\&g.appendChild(y),g.appendChild(v),ut(u,\"keydown\",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+qO+e.substring(n),this.selectionStart=this.selectionEnd=i+1,lw(t)}}),a.appendChild(r),a.appendChild(l),a.appendChild(g),l.style.height=n.clientHeight-80+\"px\",n.appendChild(a),this._dom=a},Hx.prototype.remove=function(t,e){this._dom\&\&e.getDom().removeChild(this._dom)},Hx.prototype.dispose=function(t,e){this.remove(t,e)},yy(\"dataView\",Hx),Ps({type:\"changeDataView\",event:\"dataViewChanged\",update:\"prepareAndUpdate\"},function(t,e){var i=[];d(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get(\"data\");i.push({name:t.name,data:Zx(t.data,o)})}else i.push(a({type:\"scatter\"},t))}),e.mergeOption(r({series:i},t.newOption))});var \$O=d,JO=\"\\0_ec_hist_store\";BN.extend({type:\"dataZoom.select\"}),VN.extend({type:\"dataZoom.select\"});var QO=XI.toolbox.dataZoom,tE=d,eE=\"\\0_ec_\\0toolbox-dataZoom_\";Kx.defaultOption={show:!0,icon:{zoom:\"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1\",back:\"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26\"},title:i(QO.title)};var iE=Kx.prototype;iE.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,Qx(t,e,this,n,i),Jx(t,e)},iE.onclick=function(t,e,i){nE[i].call(this)},iE.remove=function(t,e){this._brushController.unmount()},iE.dispose=function(t,e){this._brushController.dispose()};var nE={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:\"takeGlobalCursor\",key:\"dataZoomSelect\",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Xx(this.ecModel))}};iE._onBrush=function(t,e){function i(t,e,i){var r=e.getAxis(t),s=r.model,l=n(t,s,a),u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==u.minValueSpan\&\&null==u.maxValueSpan||(i=EL(0,i.slice(),r.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),l\&\&(o[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function n(t,e,i){var n;return i.eachComponent({mainType:\"dataZoom\",subType:\"select\"},function(i){i.getAxisModel(t,e.componentIndex)\&\&(n=i)}),n}if(e.isEnd\&\&t.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new iy(\$x(this.model.option),a,{include:[\"grid\"]}).matchOutputRanges(t,a,function(t,e,n){if(\"cartesian2d\"===n.type){var o=t.brushType;\"rect\"===o?(i(\"x\",n,e[0]),i(\"y\",n,e[1])):i({lineX:\"x\",lineY:\"y\"}[o],n,e)}}),Ux(a,o),this._dispatchZoomAction(o)}},iE._dispatchZoomAction=function(t){var e=[];tE(t,function(t,n){e.push(i(t))}),e.length\&\&this.api.dispatchAction({type:\"dataZoom\",from:this.uid,batch:e})},yy(\"dataZoom\",Kx),Ls(function(t){function e(t,e){if(e){var o=t+\"Index\",a=e[o];null==a||\"all\"===a||y(a)||(a=!1===a||\"none\"===a?[]:[a]),i(t,function(e,i){if(null==a||\"all\"===a||-1!==l(a,i)){var r={type:\"select\",\$fromToolbox:!0,id:eE+t+i};r[o]=i,n.push(r)}})}}function i(e,i){var n=t[e];y(n)||(n=n?[n]:[]),tE(n,i)}if(t){var n=t.dataZoom||(t.dataZoom=[]);y(n)||(t.dataZoom=n=[n]);var o=t.toolbox;if(o\&\&(y(o)\&\&(o=o[0]),o\&\&o.feature)){var a=o.feature.dataZoom;e(\"xAxis\",a),e(\"yAxis\",a)}}});var oE=XI.toolbox.restore;t_.defaultOption={show:!0,icon:\"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5\",title:oE.title},t_.prototype.onclick=function(t,e,i){jx(t),e.dispatchAction({type:\"restore\",from:this.uid})},yy(\"restore\",t_),Ps({type:\"restore\",event:\"restore\",update:\"prepareAndUpdate\"},function(t,e){e.resetOption(\"recreate\")});var aE,rE=\"urn:schemas-microsoft-com:vml\",sE=\"undefined\"==typeof window?null:window,lE=!1,uE=sE\&\&sE.document;if(uE\&\&!z_.canvasSupported)try{!uE.namespaces.zrvml\&\&uE.namespaces.add(\"zrvml\",rE),aE=function(t){return uE.createElement(\"<zrvml:\"+t+\' class=\"zrvml\">\')}}catch(t){aE=function(t){return uE.createElement(\"<\"+t+\' xmlns=\"\'+rE+\'\" class=\"zrvml\">\')}}var hE=MS.CMD,cE=Math.round,dE=Math.sqrt,fE=Math.abs,pE=Math.cos,gE=Math.sin,mE=Math.max;if(!z_.canvasSupported){var vE=21600,yE=vE/2,xE=function(t){t.style.cssText=\"position:absolute;left:0;top:0;width:1px;height:1px;\",t.coordsize=vE+\",\"+vE,t.coordorigin=\"0,0\"},_E=function(t){return String(t).replace(/\&/g,\"\&amp;\").replace(/\"/g,\"\&quot;\")},wE=function(t,e,i){return\"rgb(\"+[t,e,i].join(\",\")+\")\"},bE=function(t,e){e\&\&t\&\&e.parentNode!==t\&\&t.appendChild(e)},SE=function(t,e){e\&\&t\&\&e.parentNode===t\&\&t.removeChild(e)},ME=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},IE=function(t,e){return\"string\"==typeof t?t.lastIndexOf(\"%\")>=0?parseFloat(t)/100*e:parseFloat(t):t},TE=function(t,e,i){var n=zt(e);i=+i,isNaN(i)\&\&(i=1),n\&\&(t.color=wE(n[0],n[1],n[2]),t.opacity=i*n[3])},AE=function(t){var e=zt(t);return[wE(e[0],e[1],e[2]),e[3]]},DE=function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof cM){var o,a=0,r=[0,0],s=0,l=1,u=i.getBoundingRect(),h=u.width,c=u.height;if(\"linear\"===n.type){o=\"gradient\";var d=i.transform,f=[n.x*h,n.y*c],p=[n.x2*h,n.y2*c];d\&\&(Q(f,f,d),Q(p,p,d));var g=p[0]-f[0],m=p[1]-f[1];(a=180*Math.atan2(g,m)/Math.PI)<0\&\&(a+=360),a<1e-6\&\&(a=0)}else{o=\"gradientradial\";var f=[n.x*h,n.y*c],d=i.transform,v=i.scale,y=h,x=c;r=[(f[0]-u.x)/y,(f[1]-u.y)/x],d\&\&Q(f,f,d),y/=v[0]*vE,x/=v[1]*vE;var _=mE(y,x);s=0/_,l=2*n.r/_-s}var w=n.colorStops.slice();w.sort(function(t,e){return t.offset-e.offset});for(var b=w.length,S=[],M=[],I=0;I<b;I++){var T=w[I],A=AE(T.color);M.push(T.offset*l+s+\" \"+A[0]),0!==I\&\&I!==b-1||S.push(A)}if(b>=2){var D=S[0][0],C=S[1][0],L=S[0][1]*e.opacity,k=S[1][1]*e.opacity;t.type=o,t.method=\"none\",t.focus=\"100%\",t.angle=a,t.color=D,t.color2=C,t.colors=M.join(\",\"),t.opacity=k,t.opacity2=L}\"radial\"===o\&\&(t.focusposition=r.join(\",\"))}else TE(t,n,e.opacity)},CE=function(t,e){null!=e.lineDash\&\&(t.dashstyle=e.lineDash.join(\" \")),null==e.stroke||e.stroke instanceof cM||TE(t,e.stroke,e.opacity)},LE=function(t,e,i,n){var o=\"fill\"==e,a=t.getElementsByTagName(e)[0];null!=i[e]\&\&\"none\"!==i[e]\&\&(o||!o\&\&i.lineWidth)?(t[o?\"filled\":\"stroked\"]=\"true\",i[e]instanceof cM\&\&SE(t,a),a||(a=e_(e)),o?DE(a,i,n):CE(a,i),bE(t,a)):(t[o?\"filled\":\"stroked\"]=\"false\",SE(t,a))},kE=[[],[],[]],PE=function(t,e){var i,n,o,a,r,s,l=hE.M,u=hE.C,h=hE.L,c=hE.A,d=hE.Q,f=[],p=t.data,g=t.len();for(a=0;a<g;){switch(o=p[a++],n=\"\",i=0,o){case l:n=\" m \",i=1,r=p[a++],s=p[a++],kE[0][0]=r,kE[0][1]=s;break;case h:n=\" l \",i=1,r=p[a++],s=p[a++],kE[0][0]=r,kE[0][1]=s;break;case d:case u:n=\" c \",i=3;var m,v,y=p[a++],x=p[a++],_=p[a++],w=p[a++];o===d?(m=_,v=w,_=(_+2*y)/3,w=(w+2*x)/3,y=(r+2*y)/3,x=(s+2*x)/3):(m=p[a++],v=p[a++]),kE[0][0]=y,kE[0][1]=x,kE[1][0]=_,kE[1][1]=w,kE[2][0]=m,kE[2][1]=v,r=m,s=v;break;case c:var b=0,S=0,M=1,I=1,T=0;e\&\&(b=e[4],S=e[5],M=dE(e[0]*e[0]+e[1]*e[1]),I=dE(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/I,e[0]/M));var A=p[a++],D=p[a++],C=p[a++],L=p[a++],k=p[a++]+T,P=p[a++]+k+T;a++;var N=p[a++],O=A+pE(k)*C,E=D+gE(k)*L,y=A+pE(P)*C,x=D+gE(P)*L,R=N?\" wa \":\" at \";Math.abs(O-y)<1e-4\&\&(Math.abs(P-k)>.01?N\&\&(O+=.0125):Math.abs(E-D)<1e-4?N\&\&O<A||!N\&\&O>A?x-=.0125:x+=.0125:N\&\&E<D||!N\&\&E>D?y+=.0125:y-=.0125),f.push(R,cE(((A-C)*M+b)*vE-yE),\",\",cE(((D-L)*I+S)*vE-yE),\",\",cE(((A+C)*M+b)*vE-yE),\",\",cE(((D+L)*I+S)*vE-yE),\",\",cE((O*M+b)*vE-yE),\",\",cE((E*I+S)*vE-yE),\",\",cE((y*M+b)*vE-yE),\",\",cE((x*I+S)*vE-yE)),r=y,s=x;break;case hE.R:var z=kE[0],B=kE[1];z[0]=p[a++],z[1]=p[a++],B[0]=z[0]+p[a++],B[1]=z[1]+p[a++],e\&\&(Q(z,z,e),Q(B,B,e)),z[0]=cE(z[0]*vE-yE),B[0]=cE(B[0]*vE-yE),z[1]=cE(z[1]*vE-yE),B[1]=cE(B[1]*vE-yE),f.push(\" m \",z[0],\",\",z[1],\" l \",B[0],\",\",z[1],\" l \",B[0],\",\",B[1],\" l \",z[0],\",\",B[1]);break;case hE.Z:f.push(\" x \")}if(i>0){f.push(n);for(var V=0;V<i;V++){var G=kE[V];e\&\&Q(G,G,e),f.push(cE(G[0]*vE-yE),\",\",cE(G[1]*vE-yE),V<i-1?\",\":\"\")}}}return f.join(\"\")};kn.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=e_(\"shape\"),xE(i),this._vmlEl=i),LE(i,\"fill\",e,this),LE(i,\"stroke\",e,this);var n=this.transform,o=null!=n,a=i.getElementsByTagName(\"stroke\")[0];if(a){var r=e.lineWidth;if(o\&\&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=dE(fE(s))}a.weight=r+\"px\"}var l=this.path||(this.path=new MS);this.__dirtyPath\&\&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=PE(l,this.transform),i.style.zIndex=ME(this.zlevel,this.z,this.z2),bE(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},kn.prototype.onRemove=function(t){SE(t,this._vmlEl),this.removeRectText(t)},kn.prototype.onAdd=function(t){bE(t,this._vmlEl),this.appendRectText(t)};var NE=function(t){return\"object\"==typeof t\&\&t.tagName\&\&\"IMG\"===t.tagName.toUpperCase()};hi.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if(NE(o)){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=o.runtimeStyle,s=r.width,l=r.height;r.width=\"auto\",r.height=\"auto\",e=o.width,i=o.height,r.width=s,r.height=l,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}o=a}else o===this._imageSrc\&\&(e=this._imageWidth,i=this._imageHeight);if(o){var u=n.x||0,h=n.y||0,c=n.width,d=n.height,f=n.sWidth,p=n.sHeight,g=n.sx||0,m=n.sy||0,v=f\&\&p,y=this._vmlEl;y||(y=uE.createElement(\"div\"),xE(y),this._vmlEl=y);var x,_=y.style,w=!1,b=1,S=1;if(this.transform\&\&(x=this.transform,b=dE(x[0]*x[0]+x[1]*x[1]),S=dE(x[2]*x[2]+x[3]*x[3]),w=x[1]||x[2]),w){var M=[u,h],I=[u+c,h],T=[u,h+d],A=[u+c,h+d];Q(M,M,x),Q(I,I,x),Q(T,T,x),Q(A,A,x);var D=mE(M[0],I[0],T[0],A[0]),C=mE(M[1],I[1],T[1],A[1]),L=[];L.push(\"M11=\",x[0]/b,\",\",\"M12=\",x[2]/S,\",\",\"M21=\",x[1]/b,\",\",\"M22=\",x[3]/S,\",\",\"Dx=\",cE(u*b+x[4]),\",\",\"Dy=\",cE(h*S+x[5])),_.padding=\"0 \"+cE(D)+\"px \"+cE(C)+\"px 0\",_.filter=\"progid:DXImageTransform.Microsoft.Matrix(\"+L.join(\"\")+\", SizingMethod=clip)\"}else x\&\&(u=u*b+x[4],h=h*S+x[5]),_.filter=\"\",_.left=cE(u)+\"px\",_.top=cE(h)+\"px\";var k=this._imageEl,P=this._cropEl;k||(k=uE.createElement(\"div\"),this._imageEl=k);var N=k.style;if(v){if(e\&\&i)N.width=cE(b*e*c/f)+\"px\",N.height=cE(S*i*d/p)+\"px\";else{var O=new Image,E=this;O.onload=function(){O.onload=null,e=O.width,i=O.height,N.width=cE(b*e*c/f)+\"px\",N.height=cE(S*i*d/p)+\"px\",E._imageWidth=e,E._imageHeight=i,E._imageSrc=o},O.src=o}P||((P=uE.createElement(\"div\")).style.overflow=\"hidden\",this._cropEl=P);var R=P.style;R.width=cE((c+g*c/f)*b),R.height=cE((d+m*d/p)*S),R.filter=\"progid:DXImageTransform.Microsoft.Matrix(Dx=\"+-g*c/f*b+\",Dy=\"+-m*d/p*S+\")\",P.parentNode||y.appendChild(P),k.parentNode!=P\&\&P.appendChild(k)}else N.width=cE(b*c)+\"px\",N.height=cE(S*d)+\"px\",y.appendChild(k),P\&\&P.parentNode\&\&(y.removeChild(P),this._cropEl=null);var z=\"\",B=n.opacity;B<1\&\&(z+=\".Alpha(opacity=\"+cE(100*B)+\") \"),z+=\"progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"+o+\", SizingMethod=scale)\",N.filter=z,y.style.zIndex=ME(this.zlevel,this.z,this.z2),bE(t,y),null!=n.text\&\&this.drawRectText(t,this.getBoundingRect())}},hi.prototype.onRemove=function(t){SE(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},hi.prototype.onAdd=function(t){bE(t,this._vmlEl),this.appendRectText(t)};var OE,EE={},RE=0,zE=document.createElement(\"div\"),BE=function(t){var e=EE[t];if(!e){RE>100\&\&(RE=0,EE={});var i,n=zE.style;try{n.font=t,i=n.fontFamily.split(\",\")[0]}catch(t){}e={style:n.fontStyle||\"normal\",variant:n.fontVariant||\"normal\",weight:n.fontWeight||\"normal\",size:0|parseFloat(n.fontSize||12),family:i||\"Microsoft YaHei\"},EE[t]=e,RE++}return e};!function(t,e){hb[t]=e}(\"measureText\",function(t,e){var i=uE;OE||((OE=i.createElement(\"div\")).style.cssText=\"position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;\",uE.body.appendChild(OE));try{OE.style.font=e}catch(t){}return OE.innerHTML=\"\",OE.appendChild(i.createTextNode(t)),{width:OE.offsetWidth}});for(var VE=new ue,GE=[gb,ui,hi,kn,qS],FE=0;FE<GE.length;FE++){var WE=GE[FE].prototype;WE.drawRectText=function(t,e,i,n){var o=this.style;this.__dirty\&\&Ue(o);var a=o.text;if(null!=a\&\&(a+=\"\"),a){if(o.rich){var r=Fe(a,o);a=[];for(var s=0;s<r.lines.length;s++){for(var l=r.lines[s].tokens,u=[],h=0;h<l.length;h++)u.push(l[h].text);a.push(u.join(\"\"))}a=a.join(\"\\n\")}var c,d,f=o.textAlign,p=o.textVerticalAlign,g=BE(o.font),m=g.style+\" \"+g.variant+\" \"+g.weight+\" \"+g.size+\'px \"\'+g.family+\'\"\';i=i||De(a,m,f,p);var v=this.transform;if(v\&\&!n\&\&(VE.copy(e),VE.applyTransform(v),e=VE),n)c=e.x,d=e.y;else{var y=o.textPosition,x=o.textDistance;if(y instanceof Array)c=e.x+IE(y[0],e.width),d=e.y+IE(y[1],e.height),f=f||\"left\";else{var _=Ne(y,e,x);c=_.x,d=_.y,f=f||_.textAlign,p=p||_.textVerticalAlign}}c=ke(c,i.width,f),d=Pe(d,i.height,p),d+=i.height/2;var w,b,S,M=e_,I=this._textVmlEl;I?b=(w=(S=I.firstChild).nextSibling).nextSibling:(I=M(\"line\"),w=M(\"path\"),b=M(\"textpath\"),S=M(\"skew\"),b.style[\"v-text-align\"]=\"left\",xE(I),w.textpathok=!0,b.on=!0,I.from=\"0 0\",I.to=\"1000 0.05\",bE(I,S),bE(I,w),bE(I,b),this._textVmlEl=I);var T=[c,d],A=I.style;v\&\&n?(Q(T,T,v),S.on=!0,S.matrix=v[0].toFixed(3)+\",\"+v[2].toFixed(3)+\",\"+v[1].toFixed(3)+\",\"+v[3].toFixed(3)+\",0,0\",S.offset=(cE(T[0])||0)+\",\"+(cE(T[1])||0),S.origin=\"0 0\",A.left=\"0px\",A.top=\"0px\"):(S.on=!1,A.left=cE(c)+\"px\",A.top=cE(d)+\"px\"),b.string=_E(a);try{b.style.font=m}catch(t){}LE(I,\"fill\",{fill:o.textFill,opacity:o.opacity},this),LE(I,\"stroke\",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),I.style.zIndex=ME(this.zlevel,this.z,this.z2),bE(t,I)}},WE.removeRectText=function(t){SE(t,this._textVmlEl),this._textVmlEl=null},WE.appendRectText=function(t){bE(t,this._textVmlEl)}}qS.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},qS.prototype.onRemove=function(t){this.removeRectText(t)},qS.prototype.onAdd=function(t){this.appendRectText(t)}}o_.prototype={constructor:o_,getType:function(){return\"vml\"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible\&\&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty\&\&(n.beforeBrush\&\&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush\&\&n.afterBrush())),n.__dirty=!1}this._firstPaint\&\&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+\"px\",i.height=e+\"px\"}},dispose:function(){this.root.innerHTML=\"\",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport\&\&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||n_(e.width))-n_(e.paddingLeft)-n_(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||n_(e.height))-n_(e.paddingTop)-n_(e.paddingBottom)|0}},d([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(t){o_.prototype[t]=a_(t)}),Ti(\"vml\",o_);var HE=\"http://www.w3.org/2000/svg\",ZE=MS.CMD,UE=Array.prototype.join,XE=\"none\",jE=Math.round,YE=Math.sin,qE=Math.cos,KE=Math.PI,\$E=2*Math.PI,JE=180/KE,QE=1e-4,tR={};tR.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=r_(\"path\"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),t.buildPath(n,t.shape),t.__dirtyPath=!1;var o=g_(n);o.indexOf(\"NaN\")<0\&\&d_(i,\"d\",o)}p_(i,e,!1,t),c_(i,t.transform),null!=e.text\&\&oR(t,t.getBoundingRect())};var eR={};eR.brush=function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement\&\&(i=i.src),i){var n=e.x||0,o=e.y||0,a=e.width,r=e.height,s=t.__svgEl;s||(s=r_(\"image\"),t.__svgEl=s),i!==t.__imageSrc\&\&(f_(s,\"href\",i),t.__imageSrc=i),d_(s,\"width\",a),d_(s,\"height\",r),d_(s,\"x\",n),d_(s,\"y\",o),c_(s,t.transform),null!=e.text\&\&oR(t,t.getBoundingRect())}};var iR={},nR=new ue,oR=function(t,e,i){var n=t.style;t.__dirty\&\&Ue(n);var o=n.text;if(null!=o){o+=\"\";var a=t.__textSvgEl;a||(a=r_(\"text\"),t.__textSvgEl=a);var r,s,l=n.textPosition,u=n.textDistance,h=n.textAlign||\"left\";\"number\"==typeof n.fontSize\&\&(n.fontSize+=\"px\");var c=n.font||[n.fontStyle||\"\",n.fontWeight||\"\",n.fontSize||\"\",n.fontFamily||\"\"].join(\" \")||ub,d=m_(n.textVerticalAlign),f=(i=De(o,c,h,d)).lineHeight;if(l instanceof Array)r=e.x+l[0],s=e.y+l[1];else{var p=Ne(l,e,u);r=p.x,s=p.y,d=m_(p.textVerticalAlign),h=p.textAlign}d_(a,\"alignment-baseline\",d),c\&\&(a.style.font=c);var g=n.textPadding;if(d_(a,\"x\",r),d_(a,\"y\",s),p_(a,n,!0,t),t instanceof qS||t.style.transformText)c_(a,t.transform);else{if(t.transform)nR.copy(e),nR.applyTransform(t.transform),e=nR;else{var m=t.transformCoordToGlobal(e.x,e.y);e.x=m[0],e.y=m[1],t.transform=vt(mt())}var v=n.textOrigin;\"center\"===v?(r=i.width/2+r,s=i.height/2+s):v\&\&(r=v[0]+r,s=v[1]+s);var y=-n.textRotation||0,x=mt();wt(x,x,y),_t(x,x,m=[t.transform[4],t.transform[5]]),c_(a,x)}var _=o.split(\"\\n\"),w=_.length,b=h;\"left\"===b?(b=\"start\",g\&\&(r+=g[3])):\"right\"===b?(b=\"end\",g\&\&(r-=g[1])):\"center\"===b\&\&(b=\"middle\",g\&\&(r+=(g[3]-g[1])/2));var S=0;if(\"after-edge\"===d?(S=-i.height+f,g\&\&(S-=g[2])):\"middle\"===d?(S=(-i.height+f)/2,g\&\&(s+=(g[0]-g[2])/2)):g\&\&(S+=g[0]),t.__text!==o||t.__textFont!==c){var M=t.__tspanList||[];t.__tspanList=M;for(T=0;T<w;T++)(A=M[T])?A.innerHTML=\"\":(A=M[T]=r_(\"tspan\"),a.appendChild(A),d_(A,\"alignment-baseline\",d),d_(A,\"text-anchor\",b)),d_(A,\"x\",r),d_(A,\"y\",s+T*f+S),A.appendChild(document.createTextNode(_[T]));for(;T<M.length;T++)a.removeChild(M[T]);M.length=w,t.__text=o,t.__textFont=c}else if(t.__tspanList.length)for(var I=t.__tspanList.length,T=0;T<I;++T){var A=t.__tspanList[T];A\&\&(d_(A,\"x\",r),d_(A,\"y\",s+T*f+S))}}};iR.drawRectText=oR,iR.brush=function(t){var e=t.style;null!=e.text\&\&(e.textPosition=[0,0],oR(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},v_.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,r=1,s=o+a,l=[{newPos:-1,components:[]}],u=this.extractCommon(l[0],e,t,0);if(l[0].newPos+1>=o\&\&u+1>=a){for(var h=[],c=0;c<e.length;c++)h.push(c);return[{indices:h,count:e.length}]}for(;r<=s;){var d=function(){for(var i=-1*r;i<=r;i+=2){var s,u=l[i-1],h=l[i+1],c=(h?h.newPos:0)-i;u\&\&(l[i-1]=void 0);var d=u\&\&u.newPos+1<o,f=h\&\&0<=c\&\&c<a;if(d||f){if(!d||f\&\&u.newPos<h.newPos?(s=x_(h),n.pushComponent(s.components,void 0,!0)):((s=u).newPos++,n.pushComponent(s.components,!0,void 0)),c=n.extractCommon(s,e,t,i),s.newPos+1>=o\&\&c+1>=a)return y_(0,s.components);l[i]=s}else l[i]=void 0}r++}();if(d)return d}},pushComponent:function(t,e,i){var n=t[t.length-1];n\&\&n.added===e\&\&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var o=e.length,a=i.length,r=t.newPos,s=r-n,l=0;r+1<o\&\&s+1<a\&\&this.equals(e[r+1],i[s+1]);)r++,s++,l++;return l\&\&t.components.push({count:l}),t.newPos=r,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var aR=new v_,rR=function(t,e,i){return aR.diff(t,e,i)};__.prototype.createElement=r_,__.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(\"defs\");return 0===i.length?t?((i=e.insertBefore(this.createElement(\"defs\"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},__.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]\&\&i.contains(t[this._domName]))\"function\"==typeof e\&\&e(t);else{var n=this.add(t);n\&\&(t[this._domName]=n)}}},__.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},__.prototype.removeDom=function(t){var e=this.getDefs(!1);e\&\&t[this._domName]\&\&(e.removeChild(t[this._domName]),t[this._domName]=null)},__.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return d(this._tagNames,function(i){var n=t.getElementsByTagName(i);e=e.concat([].slice.call(n))}),e},__.prototype.markAllUnused=function(){var t=this;d(this.getDoms(),function(e){e[t._markLabel]=\"0\"})},__.prototype.markUsed=function(t){t\&\&(t[this._markLabel]=\"1\")},__.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this;d(this.getDoms(),function(i){\"1\"!==i[e._markLabel]\&\&t.removeChild(i)})}},__.prototype.getSvgProxy=function(t){return t instanceof kn?tR:t instanceof hi?eR:t instanceof qS?iR:tR},__.prototype.getTextSvgElement=function(t){return t.__textSvgEl},__.prototype.getSvgElement=function(t){return t.__svgEl},u(w_,__),w_.prototype.addWithoutUpdate=function(t,e){if(e\&\&e.style){var i=this;d([\"fill\",\"stroke\"],function(n){if(e.style[n]\&\&(\"linear\"===e.style[n].type||\"radial\"===e.style[n].type)){var o,a=e.style[n],r=i.getDefs(!0);a._dom?(o=a._dom,r.contains(a._dom)||i.addDom(o)):o=i.add(a),i.markUsed(e);var s=o.getAttribute(\"id\");t.setAttribute(n,\"url(#\"+s+\")\")}})}},w_.prototype.add=function(t){var e;if(\"linear\"===t.type)e=this.createElement(\"linearGradient\");else{if(\"radial\"!==t.type)return Bw(\"Illegal gradient type.\"),null;e=this.createElement(\"radialGradient\")}return t.id=t.id||this.nextId++,e.setAttribute(\"id\",\"zr\"+this._zrId+\"-gradient-\"+t.id),this.updateDom(t,e),this.addDom(e),e},w_.prototype.update=function(t){var e=this;__.prototype.update.call(this,t,function(){var i=t.type,n=t._dom.tagName;\"linear\"===i\&\&\"linearGradient\"===n||\"radial\"===i\&\&\"radialGradient\"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},w_.prototype.updateDom=function(t,e){if(\"linear\"===t.type)e.setAttribute(\"x1\",t.x),e.setAttribute(\"y1\",t.y),e.setAttribute(\"x2\",t.x2),e.setAttribute(\"y2\",t.y2);else{if(\"radial\"!==t.type)return void Bw(\"Illegal gradient type.\");e.setAttribute(\"cx\",t.x),e.setAttribute(\"cy\",t.y),e.setAttribute(\"r\",t.r)}t.global?e.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"):e.setAttribute(\"gradientUnits\",\"objectBoundingBox\"),e.innerHTML=\"\";for(var i=t.colorStops,n=0,o=i.length;n<o;++n){var a=this.createElement(\"stop\");a.setAttribute(\"offset\",100*i[n].offset+\"%\"),a.setAttribute(\"stop-color\",i[n].color),e.appendChild(a)}t._dom=e},w_.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e\&\&e._dom\&\&__.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)\&\&e._dom\&\&__.prototype.markUsed.call(this,e._dom)}},u(b_,__),b_.prototype.update=function(t){var e=this.getSvgElement(t);e\&\&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i\&\&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},b_.prototype.updateDom=function(t,e,i){if(e\&\&e.length>0){var n,o,a=this.getDefs(!0),r=e[0],s=i?\"_textDom\":\"_dom\";r[s]?(o=r[s].getAttribute(\"id\"),n=r[s],a.contains(n)||a.appendChild(n)):(o=\"zr\"+this._zrId+\"-clip-\"+this.nextId,++this.nextId,(n=this.createElement(\"clipPath\")).setAttribute(\"id\",o),a.appendChild(n),r[s]=n);var l=this.getSvgProxy(r);if(r.transform\&\&r.parent.invTransform\&\&!i){var u=Array.prototype.slice.call(r.transform);xt(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=u}else l.brush(r);var h=this.getSvgElement(r);n.innerHTML=\"\",n.appendChild(h.cloneNode()),t.setAttribute(\"clip-path\",\"url(#\"+o+\")\"),e.length>1\&\&this.updateDom(n,e.slice(1),i)}else t\&\&t.setAttribute(\"clip-path\",\"none\")},b_.prototype.markUsed=function(t){var e=this;t.__clipPaths\&\&t.__clipPaths.length>0\&\&d(t.__clipPaths,function(t){t._dom\&\&__.prototype.markUsed.call(e,t._dom),t._textDom\&\&__.prototype.markUsed.call(e,t._textDom)})},u(S_,__),S_.prototype.addWithoutUpdate=function(t,e){if(e\&\&M_(e.style)){var i,n=e.style;n._shadowDom?(i=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(i)):i=this.add(e),this.markUsed(e);var o=i.getAttribute(\"id\");t.style.filter=\"url(#\"+o+\")\"}},S_.prototype.add=function(t){var e=this.createElement(\"filter\"),i=t.style;return i._shadowDomId=i._shadowDomId||this.nextId++,e.setAttribute(\"id\",\"zr\"+this._zrId+\"-shadow-\"+i._shadowDomId),this.updateDom(t,e),this.addDom(e),e},S_.prototype.update=function(t,e){var i=e.style;if(M_(i)){var n=this;__.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,i)},S_.prototype.remove=function(t,e){null!=e._shadowDomId\&\&(this.removeDom(e),t.style.filter=\"\")},S_.prototype.updateDom=function(t,e){var i=e.getElementsByTagName(\"feDropShadow\");i=0===i.length?this.createElement(\"feDropShadow\"):i[0];var n,o,a,r,s=t.style,l=t.scale?t.scale[0]||1:1,u=t.scale?t.scale[1]||1:1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,o=s.shadowOffsetY||0,a=s.shadowBlur,r=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,o=s.textShadowOffsetY||0,a=s.textShadowBlur,r=s.textShadowColor}i.setAttribute(\"dx\",n/l),i.setAttribute(\"dy\",o/u),i.setAttribute(\"flood-color\",r);var h=a/2/l+\" \"+a/2/u;i.setAttribute(\"stdDeviation\",h),e.setAttribute(\"x\",\"-100%\"),e.setAttribute(\"y\",\"-100%\"),e.setAttribute(\"width\",Math.ceil(a/2*200)+\"%\"),e.setAttribute(\"height\",Math.ceil(a/2*200)+\"%\"),e.appendChild(i),s._shadowDom=e},S_.prototype.markUsed=function(t){var e=t.style;e\&\&e._shadowDom\&\&__.prototype.markUsed.call(this,e._shadowDom)};var sR=function(t,e,i,n){this.root=t,this.storage=e,this._opts=i=a({},i||{});var o=r_(\"svg\");o.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),o.setAttribute(\"version\",\"1.1\"),o.setAttribute(\"baseProfile\",\"full\"),o.style.cssText=\"user-select:none;position:absolute;left:0;top:0;\",this.gradientManager=new w_(n,o),this.clipPathManager=new b_(n,o),this.shadowManager=new S_(n,o);var r=document.createElement(\"div\");r.style.cssText=\"overflow:hidden;position:relative\",this._svgRoot=o,this._viewport=r,t.appendChild(r),r.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]};sR.prototype={constructor:sR,getType:function(){return\"svg\"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i=this._svgRoot,n=this._visibleList,o=t.length,a=[];for(e=0;e<o;e++){var r=T_(f=t[e]),s=P_(f)||k_(f);f.invisible||(f.__dirty\&\&(r\&\&r.brush(f),this.clipPathManager.update(f),f.style\&\&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke),this.shadowManager.update(s,f)),f.__dirty=!1),a.push(f))}var l,u=rR(n,a);for(e=0;e<u.length;e++)if((c=u[e]).removed)for(d=0;d<c.count;d++){var s=P_(f=n[c.indices[d]]),h=k_(f);L_(i,s),L_(i,h)}for(e=0;e<u.length;e++){var c=u[e];if(c.added)for(d=0;d<c.count;d++){var s=P_(f=a[c.indices[d]]),h=k_(f);l?D_(i,s,l):C_(i,s),s?D_(i,h,s):l?D_(i,h,l):C_(i,h),D_(i,h,s),l=h||s||l,this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f)}else if(!c.removed)for(var d=0;d<c.count;d++){var f=a[c.indices[d]];l=s=k_(f)||P_(f)||l,this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.markUsed(f),this.shadowManager.addWithoutUpdate(s,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(\"defs\");return 0===i.length?t?((i=e.insertBefore(r_(\"defs\"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},resize:function(t,e){var i=this._viewport;i.style.display=\"none\";var n=this._opts;if(null!=t\&\&(n.width=t),null!=e\&\&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display=\"\",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+\"px\",o.height=e+\"px\";var a=this._svgRoot;a.setAttribute(\"width\",t),a.setAttribute(\"height\",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=[\"width\",\"height\"][t],n=[\"clientWidth\",\"clientHeight\"][t],o=[\"paddingLeft\",\"paddingTop\"][t],a=[\"paddingRight\",\"paddingBottom\"][t];if(null!=e[i]\&\&\"auto\"!==e[i])return parseFloat(e[i]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[n]||I_(s[i])||I_(r.style[i]))-(I_(s[o])||0)-(I_(s[a])||0)|0},dispose:function(){this.root.innerHTML=\"\",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport\&\&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),\"data:image/svg+xml;charset=UTF-8,\"+this._svgRoot.outerHTML}},d([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(t){sR.prototype[t]=N_(t)}),Ti(\"svg\",sR),t.version=\"4.2.0\",t.dependencies=wT,t.PRIORITY=IT,t.init=function(t,e,i){var n=Ds(t);if(n)return n;var o=new rs(t,e,i);return o.id=\"ec_\"+WT++,GT[o.id]=o,Fi(t,ZT,o.id),Ts(o),o},t.connect=function(t){if(y(t)){var e=t;t=null,vT(e,function(e){null!=e.group\&\&(t=e.group)}),t=t||\"g_\"+HT++,vT(e,function(e){e.group=t})}return FT[t]=!0,t},t.disConnect=As,t.disconnect=UT,t.dispose=function(t){\"string\"==typeof t?t=GT[t]:t instanceof rs||(t=Ds(t)),t instanceof rs\&\&!t.isDisposed()\&\&t.dispose()},t.getInstanceByDom=Ds,t.getInstanceById=function(t){return GT[t]},t.registerTheme=Cs,t.registerPreprocessor=Ls,t.registerProcessor=ks,t.registerPostUpdate=function(t){RT.push(t)},t.registerAction=Ps,t.registerCoordinateSystem=Ns,t.getCoordinateSystemDimensions=function(t){var e=Ba.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.registerLayout=Os,t.registerVisual=Es,t.registerLoading=zs,t.extendComponentModel=Bs,t.extendComponentView=Vs,t.extendSeriesModel=Gs,t.extendChartView=Fs,t.setCanvasCreator=function(t){e(\"createCanvas\",t)},t.registerMap=function(t,e,i){pT.registerMap(t,e,i)},t.getMap=function(t){var e=pT.retrieveMap(t);return e\&\&e[0]\&\&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},t.dataTool=XT,t.zrender=Pb,t.number=NM,t.format=FM,t.throttle=Cr,t.helper=BA,t.matrix=fw,t.vector=nw,t.color=Pw,t.parseGeoJSON=GA,t.parseGeoJson=ZA,t.util=UA,t.graphic=XA,t.List=eA,t.Model=Lo,t.Axis=HA,t.env=z_});";
-  }
\ No newline at end of file
+}
\ No newline at end of file
diff --git a/node_modules/react-native-echarts-wrapper/src/index.js b/node_modules/react-native-echarts-wrapper/src/index.js
index bb3fb24..ca2f316 100644
--- a/node_modules/react-native-echarts-wrapper/src/index.js
+++ b/node_modules/react-native-echarts-wrapper/src/index.js
@@ -7,29 +7,29 @@ import { getMinifiedEChartsFramework } from "./chartconfig";
 import * as jsBuilder from "./jsBuilder";
 
 class ECharts extends Component {
-  static propTypes = {
-    onData: PropTypes.func,
-    legacyMode: PropTypes.bool,
-    canvas: PropTypes.bool,
-    onLoadEnd: PropTypes.func,
-    backgroundColor: PropTypes.string,
-    customTemplatePath: PropTypes.string
-  };
-
-  static defaultProps = {
-    onData: () => {},
-    legacyMode: false,
-    canvas: false,
-    onLoadEnd: () => {},
-    backgroundColor: "rgba(0, 0, 0, 0)"
-  };
-
-  constructor(props) {
-    super(props);
-    this.onGetHeight = null;
-    this.callbacks = {};
-
-    this.html = `
+    static propTypes = {
+        onData: PropTypes.func,
+        legacyMode: PropTypes.bool,
+        canvas: PropTypes.bool,
+        onLoadEnd: PropTypes.func,
+        backgroundColor: PropTypes.string,
+        customTemplatePath: PropTypes.string
+    };
+
+    static defaultProps = {
+        onData: () => { },
+        legacyMode: false,
+        canvas: false,
+        onLoadEnd: () => { },
+        backgroundColor: "rgba(0, 0, 0, 0)"
+    };
+
+    constructor(props) {
+        super(props);
+        this.onGetHeight = null;
+        this.callbacks = {};
+
+        this.html = `
       <!DOCTYPE html>
       <html lang="de">
         <head>
@@ -49,129 +49,128 @@ class ECharts extends Component {
                 background-color:rgba(0, 0, 0, 0);
                 }
             </style>
-            
-            <script>
-                ${getMinifiedEChartsFramework()}
-            </script>
         </head>
-
+        <script>
+            ${getMinifiedEChartsFramework()}
+        </script>
         <body>
             <div id="main">
             </div>
         </body>
 
-      </html>`;
-  }
+        </html>`;
+    }
 
-  onMessage = e => {
-    try {
-      if (!e) return null;
 
-      const { onData } = this.props;
+    onMessage = e => {
+        try {
+            if (!e) return null;
 
-      const data = JSON.parse(unescape(unescape(e.nativeEvent.data)));
+            const { onData } = this.props;
 
-      if (data.types === "DATA") {
-        onData(data.payload);
-      } else if (data.types === "CALLBACK") {
-        /* eslint-disable no-case-declarations */
-        const { uuid } = data;
-        /* eslint-enable no-case-declarations */
-        this.callbacks[uuid](data.payload);
-      }
-    } catch (error) {
-      console.log(error);
-    }
-  };
+            const data = JSON.parse(unescape(unescape(e.nativeEvent.data)));
 
-  postMessage = data => {
-    this.webview.postMessage(jsBuilder.convertToPostMessageString(data));
-  };
+            if (data.types === "DATA") {
+                onData(data.payload);
+            } else if (data.types === "CALLBACK") {
+                /* eslint-disable no-case-declarations */
+                const { uuid } = data;
+                /* eslint-enable no-case-declarations */
+                this.callbacks[uuid](data.payload);
+            }
+        } catch (error) {
+            console.log(error);
+        }
+    };
 
-  ID = () =>
-    `_${Math.random()
-      .toString(36)
-      .substr(2, 9)}`;
+    postMessage = data => {
+        this.webview.postMessage(jsBuilder.convertToPostMessageString(data));
+    };
 
-  setBackgroundColor = color => {
-    const data = {
-      types: "SET_BACKGROUND_COLOR",
-      color
+    ID = () =>
+        `_${Math.random()
+            .toString(36)
+            .substr(2, 9)}`;
+
+    setBackgroundColor = color => {
+        const data = {
+            types: "SET_BACKGROUND_COLOR",
+            color
+        };
+        this.postMessage(data);
     };
-    this.postMessage(data);
-  };
-
-  getOption = (callback, properties = undefined) => {
-    const uuid = this.ID();
-    this.callbacks[uuid] = callback;
-    const data = {
-      types: "GET_OPTION",
-      uuid,
-      properties
+
+    getOption = (callback, properties = undefined) => {
+        const uuid = this.ID();
+        this.callbacks[uuid] = callback;
+        const data = {
+            types: "GET_OPTION",
+            uuid,
+            properties
+        };
+        this.postMessage(data);
     };
-    this.postMessage(data);
-  };
-
-  setOption = (option, notMerge, lazyUpdate) => {
-    const data = {
-      types: "SET_OPTION",
-      payload: {
-        option,
-        notMerge: notMerge || false,
-        lazyUpdate: lazyUpdate || false
-      }
+
+    setOption = (option, notMerge, lazyUpdate) => {
+        const data = {
+            types: "SET_OPTION",
+            payload: {
+                option,
+                notMerge: notMerge || false,
+                lazyUpdate: lazyUpdate || false
+            }
+        };
+        this.postMessage(data);
     };
-    this.postMessage(data);
-  };
 
-  clear = () => {
-    const data = {
-      types: "CLEAR"
+    clear = () => {
+        const data = {
+            types: "CLEAR"
+        };
+        this.postMessage(data);
     };
-    this.postMessage(data);
-  };
 
-  getWebViewRef = ref => {
-    this.webview = ref;
-  };
+    getWebViewRef = ref => {
+        this.webview = ref;
+    };
 
-  onLoadEnd = () => {
-    if (this.webview) {
-      this.webview.injectJavaScript(jsBuilder.getJavascriptSource(this.props));
-    }
-    this.props.onLoadEnd();
-  };
-
-  render() {
-    let source = {};
-
-    if (this.props.customTemplatePath) {
-      source = {
-        uri: this.props.customTemplatePath
-      };
-    } else {
-      source = {
-        html: this.html,
-        baseUrl: ""
-      };
-    }
+    onLoadEnd = () => {
+        if (this.webview) {
+            this.webview.injectJavaScript(jsBuilder.getJavascriptSource(this.props));
+        }
+        this.props.onLoadEnd();
+    };
 
-    return (
-      <View style={{ flex: 1 }}>
-        <WebView
-          ref={this.getWebViewRef}
-          originWhitelist={["*"]}
-          scrollEnabled={false}
-          source={source}
-          onMessage={this.onMessage}
-          allowFileAccess
-          allowUniversalAccessFromFileURLs
-          mixedContentMode="always"
-          onLoadEnd={this.onLoadEnd}
-        />
-      </View>
-    );
-  }
+    render() {
+        let source = {};
+
+        if (this.props.customTemplatePath) {
+            source = {
+                uri: this.props.customTemplatePath
+            };
+        } else {
+            source = {
+                html: this.html,
+                baseUrl: ""
+            };
+        }
+        return (
+            <View style={{ flex: 1, backgroundColor: "transparent" }}>
+                <WebView
+                    ref={this.getWebViewRef}
+                    originWhitelist={["*"]}
+                    scrollEnabled={false}
+                    source={source}
+                    onMessage={this.onMessage}
+                    allowFileAccess
+                    allowUniversalAccessFromFileURLs
+                    mixedContentMode="always"
+                    onLoadEnd={this.onLoadEnd}
+                    style={{ flex: 1, backgroundColor: "transparent" }}
+                />
+            </View>
+        );
+    }
 }
 
 export { ECharts };
